;try{window.performance.mark('gh-rapid-lwf-board-fhd_batch_file_eval:start');} catch(e){};;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events.js' */
define("jira/util/events",["jquery","exports","jira/featureflags/feature-manager"],function(e,n,t){"use strict";var i=e(document),a="legacy_";n.bind=function(e,n,t){i.bind(e,n,t)},n.one=function(e,n){i.one(e,n)},n.unbind=function(e,n){i.unbind(e,n)},n.trigger=function(e,n){i.trigger(e,n);var t="";t="string"==typeof e?a+e:a+e.type+(e.namespace?"."+e.namespace:"");var r=new CustomEvent(t,{detail:n});document.dispatchEvent(r)}});;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events/types.js' */
define("jira/util/events/types",{NEW_CONTENT_ADDED:"newContentAdded",NEW_PAGE_ADDED:"newPageAdded",REFRESH_TOGGLE_BLOCKS:"refreshToggleBlocks",CHECKBOXMULITSELECT_READY:"checkboxMultiSelectReady",VALIDATE_TIMETRACKING:"validateTimeTracking",REFRESH_ISSUE_PAGE:"refreshIssuePage",UPDATE_ISSUE_GLANCE:"updateIssueGlance"}),AJS.namespace("JIRA.Events",null,require("jira/util/events/types"));;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events/reasons.js' */
define("jira/util/events/reasons",{pageLoad:"pageLoad",inlineEditStarted:"inlineEditStarted",panelRefreshed:"panelRefreshed",criteriaPanelRefreshed:"criteriaPanelRefreshed",issueTableRefreshed:"issueTableRefreshed",issueTableRowRefreshed:"issueTableRowRefreshed",filterPanelOpened:"filterPanelOpened",layoutSwitcherReady:"layoutSwitcherReady",returnToSearch:"returnToSearch",shareDialogOpened:"shareDialogOpened",filtersSearchRefreshed:"filtersSearchRefreshed",tabUpdated:"tabUpdated",dialogReady:"dialogReady",componentsTableReady:"componentsTableReady",workflowReady:"workflowReady",workflowHeaderReady:"workflowHeaderReady",contentRefreshed:"contentRefreshed"}),AJS.namespace("JIRA.CONTENT_ADDED_REASON",null,require("jira/util/events/reasons"));;
;
/* module-key = 'jira.webresources:jira-formatter', location = '/static/util/formatter.js' */
define("jira/util/formatter",["exports","jira/util/data/meta"],function(t,r){"use strict";function e(t,r){return AJS.I18n.getText.apply(AJS.I18n,arguments)}function a(t){var e=r.get("user-locale-group-separator")||"";return t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,e)}var n=AJS.format.bind(AJS);t.format=n,t.formatNumber=a,t.formatText=n,t.I18n={},t.I18n.getText=e});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/static/lib/internal/util/navigator.js' */
define("internal/util/navigator",["jquery","underscore","exports"],function(n,r,e){"use strict";function t(n){return/\bTrident\b/.test(n)}function i(n){return n==c||/(Edge)\/(\d+)\.(\d+)/.test(n)}function o(n){if(n==c)return f;var r=n.match(/Edge\/(\d+)/);return r&&r[1]}var u=window.navigator.userAgent,s=window.navigator.platform,c="Mozilla/5.0 (Windows NT 10.0; Win64; x64)",f=12,a=r.once(function(){return/Chrome/.test(e._getUserAgent())}),d=r.once(function(){return t(u)||g()}),g=r.once(function(){return i(u)}),l=r.once(function(){return n.browser.mozilla&&!d()}),w=r.once(function(){return n.browser.safari&&!a()}),m=r.once(function(){return n.browser.webkit}),b=r.once(function(){return parseInt(n.browser.version,10)}),v=r.once(function(){return e._getPlatform().indexOf("Linux")!==-1}),x=r.once(function(){return e._getPlatform().indexOf("Mac")!==-1}),_=r.once(function(){return e._getPlatform().indexOf("Win")!==-1});e.isChrome=a,e.isIE=d,e.isEdge=g,e.isMozilla=l,e.isSafari=w,e.isWebkit=m,e.majorVersion=b,e.isLinux=v,e.isMac=x,e.isWin=_,e._isTrident=t,e._getUserAgent=function(){return u},e._getPlatform=function(){return s},i(u)&&(n.browser.version=o(u),n.browser.mozilla=!1,n.browser.msie=!0)});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/static/util/navigator.js' */
define("jira/util/navigator",["internal/util/navigator","jquery"],function(e,r){"use strict";var n=r.extend({},e);return n.isOpera=function(){return r.browser.opera===!0},n.modifierKey=function(){return AJS.Meta.get("keyboard-accesskey-modifier")},n.getLanguage=function(){return window.navigator.language},n});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/includes/ajs/browser/Navigator.js' */
!function(){var i=require("jira/util/navigator");AJS.Navigator={family:function(){return i.isIE()?this.Families.INTERNET_EXPLORER:i.isMozilla()?this.Families.MOZILLA:i.isWebkit()?this.Families.WEBKIT:i.isOpera()?this.Families.OPERA:this.Families.UNKNOWN},modifierKey:function(){return i.modifierKey()},platform:function(){return this.Platform}},AJS.Navigator.Families={INTERNET_EXPLORER:"msie",MOZILLA:"mozilla",WEBKIT:"webkit",OPERA:"opera",UNKNOWN:"unknown"},AJS.Navigator.Platform={platform:i._getPlatform(),isIOS:function(){return"iPod"===this.platform||"iPhone"===this.platform||"iPad"===this.platform}}}();;
;
/* module-key = 'jira.webresources:top-same-origin-window', location = '/static/util/top-same-origin-window.js' */
define("jira/util/top-same-origin-window",function(){const n="@atlassian/spa-iframe";return function(r,t){function e(n){try{if(void 0==n.location.href)return!1}catch(n){return!1}return!0}function i(n){return n===n.parent}function a(r){return t&&r.name===n}for(;!i(r)&&e(r.parent)&&!a(r);)r=r.parent;return r}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/assistive.js' */
define("jira/util/assistive",["jira/util/navigator"],function(t){function e(t){setTimeout(t,r)}function i(t){s||(s=this.getDocument().createElement("div"),s.setAttribute("id","assistive-text"),s.setAttribute("class","visually-hidden"),s.setAttribute("aria-hidden","false"),s.setAttribute("role","status"),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-relevant","additions"),this.getDocument().body.appendChild(s)),s[u]=" ",e(function(){s[u]=t})}function n(t,e){e||(e="label-"+d,d+=1);var i=this.getDocument().getElementById(e);return i||(i=this.getDocument().createElement("div"),i.setAttribute("id",e),i.setAttribute("class","visually-hidden"),i.setAttribute("aria-hidden","false"),this.getDocument().body.appendChild(i)),i[u]=t,e}function a(){return document}var s,r=50,u=t.isIE()?"innerText":"textContent",d=0;return{wait:e,readText:i,createOrUpdateLabel:n,getDocument:a}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/elements.js' */
define("jira/util/elements",["jquery"],function(e){"use strict";return{elementIsFocused:function(t){return!(!t||e(t).get(0)!==document.activeElement)},consumesKeyboardEvents:function(t){var n=t instanceof e?t:e(t);return!n.is(":button")&&(n.is(":input")||n.is("[contentEditable]"))}}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/browser.js' */
define("jira/util/browser",["jira/util/elements","aui/params","jquery","exports"],function(e,n,t,a){"use strict";function r(n){var a=n.keyCode,r=t.ui.keyCode;if("keypress"!==n.type&&(a===r.DOWN||a===r.UP||a===r.LEFT||a===r.RIGHT)){var i=t(n.target);e.consumesKeyboardEvents(i)||n.preventDefault()}}a.canAccessIframe=function(e){var a=t(e);return!/^(http|https):\/\//.test(a.attr("src"))||n.baseURL&&0===t.trim(a.attr("src")).indexOf(n.baseURL)},a.disableKeyboardScrolling=function(){t(document.body).bind("keydown",r)},a.enableKeyboardScrolling=function(){t(document.body).unbind("keydown",r)},a.isSelenium=function(){return window.name.toLowerCase().indexOf("selenium")>=0},a.reloadViaWindowLocation=function(e){a.reloadViaWindowLocation._delegate(e,window.location)},a.reloadViaWindowLocation._delegate=function(){var e=function(){var e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),t=(e.getTime()-n.getTime())/1e3;return Math.max(Math.floor(t),1)},n="jwupdated",t=/(jwupdated=[0-9]*)/,a=function(a){var r=a.indexOf("#");if(r===-1)return a;var i=a.indexOf("?"),o=n+"="+e();return a=i===-1?a.replace("#","?"+o+"#"):t.test(a)?a.replace(t,o):a.replace("?","?"+o+"&")};return function(e,n){var t=e||n.href,r=a(t);t===n.href?n.replace(r):n.assign(r)}}()});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/browser/describeBrowser.js' */
define("jira/ajs/browser/describe-browser",["jira/util/navigator","jquery"],function(e,r){function i(){return e.isEdge()?"msie edge":e.isIE()?"msie":e.isSafari()?"webkit safari":e.isChrome()?"webkit chrome":e.isMozilla()?"mozilla":e.isOpera()?"opera":""}function s(){var s=[],a=i(),o=e.majorVersion();if(s.push(a),e.isIE())for(s.push("msie-"+o);o>6;)--o,s.push("msie-gt-"+o);r("html").addClass(s.join(" "))}return s}),AJS.namespace("AJS.describeBrowser",null,require("jira/ajs/browser/describe-browser"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/objects.js' */
define("jira/util/objects",["jquery","exports"],function(t,e){"use strict";e.begetObject=function(t){var e=function(){};return e.prototype=t,new e},e.copyObject=function(n,c){var o=t.isArray(n)?[]:{};return t.each(n,function(n,r){"object"!=typeof r||null===r||r instanceof t?o[n]=r:c!==!1&&(o[n]=e.copyObject(r,c))}),o}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/forms.js' */
define("jira/util/forms",["jira/util/navigator","jquery"],function(t,e){"use strict";return{submitOnEnter:function(t){return!(13===t.keyCode&&t.target.form&&!t.ctrlKey&&!t.shiftKey)||(e(t.target.form).submit(),!1)},submitOnCtrlEnter:function(r){return!(r.ctrlKey&&r.target.form&&(13===r.keyCode||!t.isMac()&&10===r.keyCode))||(e(r.target.form).submit(),!1)},getMultiSelectValues:function(t){for(var e="",r=0;r<t.length;r++)t.options[r].selected&&t.options[r].value&&t.options[r].value.length>0&&(e=e+" "+t.options[r].value);return e},getMultiSelectValuesAsArray:function(t){for(var e=[],r=0;r<t.length;r++)t.options[r].selected&&t.options[r].value&&t.options[r].value.length>0&&(e[e.length]=t.options[r].value);return e}}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/copyobject/copyObject.js' */
AJS.namespace("AJS.copyObject",null,require("jira/util/objects").copyObject);;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/users/logged-in-user.js' */
define("jira/util/users/logged-in-user",["jira/util/data/meta"],function(n){var e={};return e.username=function(){return n.get("remote-user")},e.accountId=function(){return n.get("atlassian-account-id")},e.fullName=function(){return n.get("remote-user-fullname")},e.isAnonymous=function(){return""===n.get("remote-user")},e.isSysadmin=function(){return!!n.getBoolean("is-sysadmin")},e.isAdmin=function(){return!!n.getBoolean("is-admin")},e.isSiteadmin=function(){return!!n.getBoolean("is-site-admin")},e});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/data/Cookie.js' */
define("jira/data/cookie",function(){var e={};return e.saveToConglomerate=function(n,t,r){var a=e.getValue(n);a=e.addOrAppendToValue(t,r,a),e.save(n,a,365)},e.readFromConglomerate=function(n,t,r){var a=e.getValue(n),o=e.getValueFromCongolmerate(t,a);return null!=o?o:r},e.eraseFromConglomerate=function(n,t){e.saveToConglomerate(n,t,"")},e.getValueFromCongolmerate=function(e,n){null==n&&(n="");for(var t=e+"=",r=n.split("|"),a=0;a<r.length;a++){for(var o=r[a];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(t.length,o.length)}return null},e.addOrAppendToValue=function(e,n,t){var r="";null==t&&(t="");for(var a=t.split("|"),o=0;o<a.length;o++){var l=a[o];if(""!==l){for(;" "===l.charAt(0);)l=l.substring(1,l.length);0!==l.indexOf(e)&&(r+=l+"|")}}if(null!=n&&""!==n){var u=e+"="+n;r.length+u.length<4020&&(r+=u)}return r},e.getValue=function(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return unescape(a.substring(n.length,a.length))}return null},e.save=function(e,n,t){if("undefined"!=typeof contextPath){var r=contextPath;r||(r="/");var a;if(t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3),a="; expires="+o.toGMTString()}else a="";document.cookie=e+"="+escape(n)+a+";path="+r}},e.read=function(n,t){var r=e.getValue(n);return null!=r?r:t?(e.save(n,t,365),t):null},e.erase=function(n){e.save(n,"",-1)},e});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/layer-constants.js' */
define("jira/ajs/layer/layer-constants",["exports"],function(e){e.LEFT="left",e.RIGHT="right",e.ACTIVE_CLASS="active",e.BOX_SHADOW_CLASS="box-shadow",e.LOADING_CLASS="loading",e.INTELLIGENT_GUESS="Intelligent Guess"});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/common/util.js' */
!function(){var e=require("jira/util/events");AJS.namespace("JIRA.bind",null,e.bind),AJS.namespace("JIRA.unbind",null,e.unbind),AJS.namespace("JIRA.one",null,e.one),AJS.namespace("JIRA.trigger",null,e.trigger)}(),function(){var e=require("jira/util/users/logged-in-user");AJS.namespace("JIRA.isAdmin",null,e.isAdmin),AJS.namespace("JIRA.isSysadmin",null,e.isSysadmin),AJS.namespace("JIRA.isSiteadmin",null,e.isSiteadmin)}(),function(){var e=require("jira/util/elements");AJS.namespace("AJS.elementIsFocused",null,e.elementIsFocused),AJS.namespace("AJS.consumesKeyboardEvents",null,e.consumesKeyboardEvents)}(),function(){var e=require("jira/util/browser");AJS.namespace("AJS.canAccessIframe",null,e.canAccessIframe),AJS.namespace("AJS.isSelenium",null,e.isSelenium),AJS.namespace("AJS.reloadViaWindowLocation",null,e.reloadViaWindowLocation),AJS.namespace("AJS.enableKeyboardScrolling",null,e.enableKeyboardScrolling),AJS.namespace("AJS.disableKeyboardScrolling",null,e.disableKeyboardScrolling)}(),function(){var e=require("jira/util/objects");AJS.namespace("begetObject",window,e.begetObject)}(),function(){var e=require("jira/util/forms");AJS.namespace("submitOnEnter",window,e.submitOnEnter),AJS.namespace("submitOnCtrlEnter",window,e.submitOnCtrlEnter),AJS.namespace("getMultiSelectValues",window,e.getMultiSelectValues),AJS.namespace("getMultiSelectValuesAsArray",window,e.getMultiSelectValuesAsArray)}(),function(){var e=require("jira/data/cookie");AJS.namespace("saveToConglomerateCookie",window,e.saveToConglomerate),AJS.namespace("readFromConglomerateCookie",window,e.readFromConglomerate),AJS.namespace("eraseFromConglomerateCookie",window,e.eraseFromConglomerate),AJS.namespace("getValueFromCongolmerate",window,e.getValueFromCongolmerate),AJS.namespace("addOrAppendToValue",window,e.addOrAppendToValue),AJS.namespace("getCookieValue",window,e.getValue),AJS.namespace("saveCookie",window,e.save),AJS.namespace("readCookie",window,e.read),AJS.namespace("eraseCookie",window,e.erase)}(),jQuery.noConflict(),jQuery.ajaxSettings.traditional=!0,contextPath="undefined"==typeof contextPath?"":contextPath,function(){var e=require("jira/ajs/layer/layer-constants");AJS.namespace("AJS.LEFT",null,e.LEFT),AJS.namespace("AJS.RIGHT",null,e.RIGHT),AJS.namespace("AJS.ACTIVE_CLASS",null,e.ACTIVE_CLASS),AJS.namespace("AJS.BOX_SHADOW_CLASS",null,e.BOX_SHADOW_CLASS),AJS.namespace("AJS.LOADING_CLASS",null,e.LOADING_CLASS),AJS.namespace("AJS.INTELLIGENT_GUESS",null,e.INTELLIGENT_GUESS)}(),function(){var e=/[.*+?|^$()[\]{\\]/g;RegExp.escape=function(n){return n.replace(e,"\\$&")}}(),function(e){e.readData=function(n){var a={},o="";return e(n).children().each(function(n){n%2?a[o]=jQuery.trim(e(this).text()):o=jQuery.trim(e(this).text())}).remove(),e(n).remove(),a}}(jQuery),String.prototype.escapejQuerySelector=function(){return this.replace(/([:.])/g,"\\$1")},AJS.extractBodyFromResponse=function(e){var n=e.match(/<body[^>]*>([\S\s]*)<\/body[^>]*>/);return n&&n.length>0?n[1]:e},AJS.escapeHTML=AJS.escapeHtml,AJS.isDevMode=function(){return AJS.Meta.get("dev-mode")},function(){function e(e,n){try{return e()}catch(e){return n}}AJS.namespace("tryIt",window,e)}(),function(){function e(e,n){for(var a=0,o=e.length;a<o;a++)if(e[a]==n)return!0;return!1}AJS.namespace("arrayContains",window,e)}(),function(){function e(e,n){jQuery("#"+e).addClass(n)}AJS.namespace("addClassName",window,e)}(),function(){function e(e,n){jQuery("#"+e).removeClass(n)}AJS.namespace("removeClassName",window,e)}(),function(){function e(e){var n=document.getElementById(e);return n.value?e+"="+encodeURIComponent(n.value):""}AJS.namespace("getEscapedFieldValue",window,e)}(),function(){function e(e){for(var n="",a=0;a<e.length;a++)n=n+"&"+getEscapedFieldValue(e[a]);return n}AJS.namespace("getEscapedFieldValues",window,e)}(),function(){var e={toggleVisibility:function(e){var n=document.getElementById(e);n&&("1"==readFromConglomerateCookie("jira.conglomerate.cookie",e,"1")?(n.style.display="none",removeClassName(e+"header","headerOpened"),addClassName(e+"header","headerClosed"),saveToConglomerateCookie("jira.conglomerate.cookie",e,"0")):(n.style.display="",removeClassName(e+"header","headerClosed"),addClassName(e+"header","headerOpened"),eraseFromConglomerateCookie("jira.conglomerate.cookie",e)))}};AJS.namespace("GuiPrefs",window,e)}(),function(){function e(e){GuiPrefs.toggleVisibility(e)}AJS.namespace("toggle",window,e)}(),function(){function e(e,n){var a=document.getElementById(e),o=document.getElementById(n);"none"===a.style.display?(o.style.display="none",a.style.display="block",saveToConglomerateCookie("jira.viewissue.cong.cookie",e,"1"),saveToConglomerateCookie("jira.viewissue.cong.cookie",n,"0")):(a.style.display="none",o.style.display="block",saveToConglomerateCookie("jira.viewissue.cong.cookie",n,"1"),saveToConglomerateCookie("jira.viewissue.cong.cookie",e,"0"))}AJS.namespace("toggleDivsWithCookie",window,e)}(),function(){function e(e,n,a){null==a&&(a="1");var o=document.getElementById(e);o&&("1"!=readFromConglomerateCookie(n,e,a)?(o.style.display="none",removeClassName(e+"header","headerOpened"),addClassName(e+"header","headerClosed")):(o.style.display="",removeClassName(e+"header","headerClosed"),addClassName(e+"header","headerOpened")))}AJS.namespace("restoreDivFromCookie",window,e)}(),function(){function e(e){restoreDivFromCookie(e,"jira.conglomerate.cookie","1")}AJS.namespace("restore",window,e)}(),function(){function e(e){recolourTableRows(e,"rowNormal","rowAlternate",e+"_empty")}AJS.namespace("recolourSimpleTableRows",window,e)}(),function(){function e(e,n,a,o){var t=document.getElementById(e),i=document.getElementById(o),r=!1,s=0,l=t.rows,c=null,u=null;AJS.$(t).hasClass("aui")&&(n="",a="zebra");for(var d=1;d<l.length;d++){var m=l[d];"none"!==m.style.display&&(r?m.className=a:m.className=n,s++,r=!r),"none"!==m.style.display&&(null==c&&(c=m),u=m)}null!=c&&(c.className=c.className+" first-row"),null!=u&&(u.className=u.className+" last-row"),i&&(0===s?(t.style.display="none",i.style.display=""):(t.style.display="",i.style.display="none"))}AJS.namespace("recolourTableRows",window,e)}(),function(){function e(e){var n=document.createElement("div");return n.appendChild(document.createTextNode(e)),n.innerHTML}AJS.namespace("htmlEscape",window,e)}(),function(){function e(){return jQuery("#atlassian-token").attr("content")}AJS.namespace("atl_token",window,e)}();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/common/trace.js' */
AJS.namespace("JIRA.trace",window,function(){});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/lib/class/Class.js' */
define("jira/lib/class",["jira/util/objects","jquery"],function(t,e){var n=!1,i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,r=function(){};return r.extend=function(){function r(){!n&&this.init&&this.init.apply(this,arguments)}var o,s=this.prototype;if(arguments.length>1){var u=e.makeArray(arguments);o=u.pop();var a;return e.each(u,function(t,e){a=a?a.extend(e):e}),a.extend(this.prototype).extend(o)}o=arguments[0],n=!0;var c=new this;n=!1;for(var f in o)if(c[f]="function"==typeof o[f]&&"function"==typeof s[f]&&i.test(o[f]))c[f]=function(t,e){return function(){var n=this._super;this._super=s[t];var i=e.apply(this,arguments);return this._super=n,i}}(f,o[f]);else if("object"==typeof s[f]){var p=t.begetObject(o[f]);e.each(s[f],function(n,i){if(p[n]){if("object"==typeof p[n]){var r=t.begetObject(p[n]);e.each(i,function(t,e){r[t]||(r[t]=e)}),p[n]=r}}else p[n]=i}),c[f]=p}else c[f]=o[f];return r.fn=r.prototype=c,r.constructor=r,r.extend=arguments.callee,r},r.prototype.bind=function(t,n){return e(this).bind(t,n),this},r.prototype.trigger=function(t){var n=e(this),i=[].slice.call(arguments,1);return t=new e.Event(t),i.unshift(t),n.trigger.apply(n,i),!t.isDefaultPrevented()},r}),AJS.namespace("Class",null,require("jira/lib/class"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/control/Control.js' */
define("jira/ajs/control",["jira/lib/class","jquery"],function(t,e){return t.extend({INVALID:"INVALID",_throwReadOnlyError:function(t){new Error(this.CLASS_SIGNATURE+": Sorry ["+t+"] is a read-only property")},_assignEvents:function(t,n){if(this._unassignEvents(t,n),"string"==typeof n)for(var i in this._events[t])e(document).delegate(n,i,this._getDispatcher(t,i));else{n=e(n);for(i in this._events[t])n.bind(i,this._getDispatcher(t,i))}return this},_unassignEvents:function(t,n){if("string"==typeof n)for(var i in this._events[t])e(document).undelegate(n,i,this._getDispatcher(t,i));else{n=e(n);for(i in this._events[t])n.unbind(i,this._getDispatcher(t,i))}},_getDispatcher:function(t,n){var i=t+"/"+n;if(this._dispatchers||(this._dispatchers={}),!this._dispatchers[i]){var s=this._events[t][n],r=this;this._dispatchers[i]=function(t){return s.call(r,t,e(this))}}return this._dispatchers[i]},_isValidInput:function(){return!0},_handleKeyEvent:function(t){if(this._isValidInput(t))if("input"===t.type)"function"==typeof this.onEdit&&this.onEdit(t);else{var e=this.keys&&this.keys[t.key];"function"==typeof e&&e.call(this,t)}},getCustomEventName:function(t){return(this.CLASS_SIGNATURE||"")+"_"+t},_getCustomEventArgs:function(){return[this]},_supportsBoxShadow:function(){var t=document.body.style;return void 0!==t.WebkitBoxShadow||void 0!==t.MozBoxShadow||void 0!==t.boxShadow},_setOptions:function(t){var n,i;if(t=t||{},(t instanceof e||"string"==typeof t||"object"==typeof t&&t.nodeName)&&(t={element:t}),n=e(t.element),i=n.getOptionsFromAttributes(),this.options=e.extend(!0,this._getDefaultOptions(t),i,t),this.options.element=n,0===n.length)return this.INVALID},getCaret:function(t){var e=t.selectionStart;if(e>=0)return t.selectionEnd>e?-1:e;if(document.selection){var n=document.selection.createRange();if(0===n.text.length){var i=n.duplicate();return i.moveToElementText(t),i.setEndPoint("EndToStart",n),i.text.length}}return-1},_render:function(){var t,e=arguments[0],n=[];for(t=1;t<arguments.length;t++)n.push(arguments[t]);return this._renders[e].apply(this,n)}})}),AJS.namespace("AJS.Control",null,require("jira/ajs/control"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/descriptor/Descriptor.js' */
define("jira/ajs/descriptor",["jira/lib/class","jquery"],function(e,t){return e.extend({init:function(e){this._validate(e)&&(this.properties=t.extend(this._getDefaultOptions(),e))},allProperties:function(){return this.properties},_validate:function(e){return this.REQUIRED_PROPERTIES&&t.each(this.REQUIRED_PROPERTIES,function(t){if("undefined"==typeof e[t])throw new Error("AJS.Descriptor: expected property ["+t+"] but was undefined")}),!0}})}),AJS.namespace("AJS.Descriptor",null,require("jira/ajs/descriptor"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/input/Keyboard.js' */
define("jira/ajs/input/keyboard",["jira/util/navigator","jquery"],function(e,r){function n(e,r,n){return a[r]=e,u[e]=r,n&&(s[r]=!0),e}function t(e){return e.originalEvent||e}function i(e){var r=t(e);return null==r.which?r.keyCode:0!==r.which&&0!==r.charCode?r.which:null}function o(r){r=t(r);var n=c.specialKeyEntered(r);if(n)return n;if(e.isMozilla()){if("keypress"===r.type){var o=i(r);if(null!==o)return String.fromCharCode(o).toLowerCase()}}else if("keypress"!==r.type)return String.fromCharCode(r.keyCode).toLowerCase()}function f(e){return e+"+"}var a={},u={},s={},c={},y=c.SpecialKey={BACKSPACE:n("backspace",8,!0),TAB:n("tab",9,!0),RETURN:n("return",13,!0),SHIFT:n("shift",16),CTRL:n("ctrl",17),ALT:n("alt",18),PAUSE:n("pause",19),CAPS_LOCK:n("capslock",20),ESC:n("esc",27,!0),SPACE:n("space",32,!0),PAGE_UP:n("pageup",33),PAGE_DOWN:n("pagedown",34),END:n("end",35),HOME:n("home",36),LEFT:n("left",37),UP:n("up",38),RIGHT:n("right",39),DOWN:n("down",40),INSERT:n("insert",45),DELETE:n("del",46),F1:n("f1",112),F2:n("f2",113),F3:n("f3",114),F4:n("f4",115),F5:n("f5",116),F6:n("f6",117),F7:n("f7",118),F8:n("f8",119),F9:n("f9",120),F10:n("f10",121),F11:n("f11",122),F12:n("f12",123),NUMLOCK:n("numlock",144),SCROLL:n("scroll",145),META:n("meta",224)};return y.eventType=function(){return e.isMozilla()?"keypress":"keydown"},y.fromKeyCode=function(e){return a[e]},y.toKeyCode=function(e){return u[e]},y.isAscii=function(e){return!!s[e]},y.isSpecialKey=function(e){return!!y.toKeyCode(e)},c.characterEntered=function(e){var r=t(e);if("keypress"===r.type){var n=i(r);if(null!==n&&(!y.isAscii(n)||y.fromKeyCode(n)===y.SPACE))return String.fromCharCode(n)}},c.specialKeyEntered=function(r){if(r=t(r),e.isMozilla()){if("keypress"===r.type){var n=i(r);if(null===n)return y.fromKeyCode(r.keyCode);if(y.isAscii(n))return y.fromKeyCode(n)}}else if("keypress"!==r.type)return y.fromKeyCode(r.keyCode)},c.shortcutEntered=function(e){if(e=t(e),e.type===y.eventType()){var r=c.specialKeyEntered(e),n="";if(e.altKey&&r!==y.ALT&&(n+=f(y.ALT)),e.ctrlKey&&r!==y.CTRL&&(n+=f(y.CTRL)),e.metaKey&&!e.ctrlKey&&r!==y.META&&(n+=f(y.META)),e.shiftKey&&r!==y.SHIFT&&(n+=f(y.SHIFT)),r)return n+r;if(n.length>0&&"shift+"!==n){var i=o(e);if(i)return n+i}}},c}),AJS.namespace("JIRA.Keyboard",null,require("jira/ajs/input/keyboard"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/input/Mouse.js' */
define("jira/ajs/input/mouse",["jquery","jira/util/top-same-origin-window"],function(e,n){var t=n(window),i={},o=i.MotionDetector=function(){this.reset()};return o.prototype.reset=function(){this._handler=null,this._x=null,this._y=null,this.moved=!1},o.prototype.wait=function(n){var i=this;i._handler||(this.reset(),i._handler=function(e){i._x||i._y?e.pageX===i._x&&e.pageY===i._y||(i.unbind(),i.moved=!0,n&&n.call(this,e)):(i._x=e.pageX,i._y=e.pageY)},e(t.document).bind("mousemove",i._handler),t.document!==window.document&&e(window.document).bind("mousemove",i._handler))},o.prototype.unbind=function(){this._handler&&(e(t.document).unbind("mousemove",this._handler),this.reset())},i}),AJS.namespace("JIRA.Mouse",null,require("jira/ajs/input/mouse"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jquery/plugins/getoptionsfromattributes/getOptionsFromAttributes.js' */
!function(t){t.fn.getOptionsFromAttributes=function(){var e={};return this.length&&t.each(this[0].attributes,function(){var t,a=this.nodeValue,n=e;/^data-/.test(this.nodeName)&&(t=this.nodeName.replace(/^data-/,"").split("."),AJS.$.each(t,function(e,r){r=r.replace(/([a-z])-([a-z])/gi,function(t,e,a){return e+a.toUpperCase()}),r=r.replace(/_([a-z]+)/gi,function(t,e){return e.toUpperCase()}),e===t.length-1?n[r]=a.match(/^(tru|fals)e$/i)?"true"==a.toLowerCase():a:n[r]||(n[r]={}),n=n[r]}))}),e}}(jQuery);;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/ajax/SmartAjax.js' */
define("jira/ajs/ajax/smart-ajax",["jira/util/formatter","jira/util/logger","jquery","jira/jquery/deferred","jira/util/data/meta","jira/util/top-same-origin-window"],function(t,e,r,a,n,o){function s(t,r,a){var n=r?"["+r+"] ":" ";e.log("ajax"+n+t+" : "+a)}function u(t){var e={},a=function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),r=t.getTime()-e.getTime();return Math.max(Math.floor(r),1)},n=function(a,n,o,u){if(!u){var i=tryIt(function(){return a.responseText},"");u=e=new j.SmartAjaxResult(a,f,n,i,(!1),o)}s("error",u.requestId,u),r.isFunction(t.error)&&t.error(a,n,o,u)},o=function(a,o,s){return s.status<100?(e=new j.SmartAjaxResult(s,f,j.SmartAjaxResult.ERROR,"",(!1)),void n(s,j.SmartAjaxResult.ERROR,void 0,e)):(e=new j.SmartAjaxResult(s,f,o,a,(!0)),void(r.isFunction(t.success)&&t.success(a,o,s,e)))},u=function(a,n){r.isFunction(t.complete)&&t.complete(a,n,e)},m={jqueryAjaxFn:r.ajax,headers:{"X-AUSERNAME":encodeURIComponent(i()),"X-AACCOUNTID":encodeURIComponent(c())}},l=r.extend(!0,{},m,t);l.error=n,l.success=o,l.complete=u;var d=l.jqueryAjaxFn.apply(l,[l]),f=a();try{d.abort=function(t){return function(){if(s("aborted",f,""),d.aborted=!0,r.isFunction(t))try{t.apply(d,arguments)}catch(t){}}}(d.abort)}catch(t){}return d}function i(){var t=n.get("remote-user");return"undefined"==typeof t?"undefined":t}function c(){var t=n.get("atlassian-account-id");return"undefined"==typeof t?"undefined":t}function m(e,r){var a;f.AJS;return a=e.statusText==j.SmartAjaxResult.TIMEOUT?"The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.":401===e.status?"You are not authorized to perform this operation.  Please log in.":e.hasData?"The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.":"The Jira server could not be contacted. This may be a temporary glitch or the server may be down."}function l(e,r){var a='<div class="dialog-error"><p>'+e+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p></div>";return r||(a="<h1>"+"Communications Breakdown"+"</h1>"+a),d(a)}function d(t){var e=r('<div class="ajaxerror"/>');return e.append(t),e}var f=o(window),j={};return j.SmartAjaxResult=function(t,e,r,a,n,o){var s=tryIt(function(){return t.status},0),u={successful:n,status:s,statusText:r,errorThrown:o,readyState:t.readyState,hasData:null!=a&&a.length>0,data:a,xhr:t,aborted:t.aborted,requestId:e,validationError:!(400!==t.status||!a||!a.errors)};return u.toString=function(){return"{\nsuccessful  : "+this.successful+",\nstatus      : "+this.status+",\nstatusText  : "+this.statusText+",\nhasData     : "+this.hasData+",\nreadyState  : "+this.readyState+",\nrequestId   : "+this.requestId+",\naborted     : "+this.aborted+",\n}"},u},j.SmartAjaxResult.ERROR="error",j.SmartAjaxResult.TIMEOUT="timeout",j.SmartAjaxResult.NOTMODIFIED="notmodified",j.SmartAjaxResult.PARSEERROR="parseerror",j.makeChainableRequest=function(t){var e=r.extend({},t),n=a(),o=function(e,a,o,s){r.isFunction(t.error)&&t.error.apply(this,arguments),n.rejectWith(this,arguments)},s=function(e,a,n){r.isFunction(t.complete)&&t.complete.apply(this,arguments)},i=function(e,a,o,s){r.isFunction(t.success)&&t.success.apply(this,arguments),n.resolveWith(this,arguments)};return e.error=o,e.complete=s,e.success=i,u(e),n.promise()},j.makeRequest=function(t){return u(t)},j.buildDialogErrorContent=function(t,e){var r=Math.floor(t.status/100);if(t.hasData&&4!==r)return d(AJS.extractBodyFromResponse(t.data));var a=m(t);return l(a,e)},j.buildSimpleErrorContent=function(t,e){return m(t,e?e:{})},j}),AJS.namespace("JIRA.SmartAjax",null,require("jira/ajs/ajax/smart-ajax")),AJS.namespace("jira.ajax",null,require("jira/ajs/ajax/smart-ajax"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/ajax/initAjaxSetup.js' */
!function(){var e=require("jquery");e.ajaxSetup({timeout:6e4,async:!0,cache:!1,global:!0})}();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/reasons.js' */
define("jira/ajs/layer/hide-reasons",[],function(){return{clickOutside:"clickOutside",toggle:"toggle",escPressed:"esc",cancelClicked:"cancelClicked",submit:"submit",tabbedOut:"tabbedOut"}}),AJS.namespace("AJS.HIDE_REASON",null,require("jira/ajs/layer/hide-reasons"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/layer/LayerManager.js' */
!function(){function e(e,r){return"string"==typeof r&&(r=[r]),c.any(r,function(r){return u.contains(e,r)})}function r(){var e=window;try{for(;e.parent.window!==e.window&&e.parent.AJS;)e=e.parent}catch(e){}return e}function n(e){return(e.$layer||e.$popup||e.$||e.popup||e.element||e)[0]}function t(t){t.bind("showLayer",function(n,t,i){if(!e(i&&i.id,["user-hover-dialog","aui-inline-edit-error","watchers","jira-help-tip"])){var a=r().AJS;a.currentLayerItem&&i!==a.currentLayerItem&&"popup"!==a.currentLayerItem.type&&a.currentLayerItem.hide(),i&&(a.currentLayerItem=i,a.currentLayerItem.type=t)}}).bind("hideLayer",function(t,i,a){if(a&&!e(a.id,["user-hover-dialog","aui-inline-edit-error","jira-help-tip"])){var u=r().AJS;u.currentLayerItem&&(u.currentLayerItem===a?u.currentLayerItem=null:l.contains(n(a),n(u.currentLayerItem))&&u.currentLayerItem.hide())}}).bind("hideAllLayers",function(){var e=r().AJS;e.currentLayerItem&&e.currentLayerItem.hide()}).click(function(e){var n=r().AJS,t=n.currentLayerItem;!t||"popup"===t.type||"inlineDialog"===t.type&&t.persistent||r()===window&&e.originalEvent&&e.originalEvent.isProgrammatic||(t._validateClickToClose?t._validateClickToClose(e)&&(t instanceof AJS.InlineLayer?t.hide(o.clickOutside,e):t.hide()):t.hide())})}var i=require("jira/util/events"),a=require("jira/util/events/types"),u=require("jira/util/strings"),o=require("jira/ajs/layer/hide-reasons"),l=require("jquery"),c=require("underscore"),d=l(document);i.bind("Dialog.beforeHide",function(e){"undefined"!=typeof Calendar&&Calendar.current&&e.preventDefault(),JIRA.Dropdown&&JIRA.Dropdown.current&&e.preventDefault(),AJS.InlineLayer&&AJS.InlineLayer.current&&e.preventDefault(),AJS.Dropdown&&AJS.Dropdown.current&&e.preventDefault(),AJS.InlineDialog&&AJS.InlineDialog.current&&e.preventDefault()}),i.bind("Dialog.show",function(e){JIRA.Dropdown&&JIRA.Dropdown.current&&JIRA.Dropdown.current.hide(),AJS.InlineLayer&&AJS.InlineLayer.current&&(AJS.InlineLayer.current.hide(),e.preventDefault()),AJS.Dropdown&&AJS.Dropdown.current&&(AJS.Dropdown.current.hide(),e.preventDefault()),AJS.InlineDialog&&AJS.InlineDialog.current&&(AJS.InlineDialog.current.hide(),e.preventDefault())}),l(function(){"undefined"!=typeof Calendar&&(d.bind("beforeBlurInput",function(e){Calendar.current&&e.preventDefault(),JIRA.InlineLayer&&JIRA.InlineLayer.current&&e.preventDefault()}),a.BEFORE_INLINE_EDIT_CANCEL&&i.bind(a.BEFORE_INLINE_EDIT_CANCEL,function(e,r,n,t){t===JIRA.Issues.CANCEL_REASON.escPressed&&Calendar.current&&e.preventDefault()}))}),d.bind("iframeAppended",function(e,r){r=l(r),r.load(function(){t(r.contents())})}),t(d)}();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jquery/plugins/hasFixedParent/hasFixedParent.js' */
!function(n){n.fn.hasFixedParent=function(){var i=!1;return this.parents().each(function(){if("fixed"===n(this).css("position"))return i=this,!1}),i}}(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-backbone-backbone', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/backbone/backbone.js' */
("undefined"===typeof window?global:window).__2c84bbdd61b43f2115abf64994b2cc7a=function(){var o={exports:{}},m=o.exports,v={module:o,exports:m,underscore:__61c16d543bfae33bb4747b45f7b91f35,jquery:__307d3e18fd611f85395c67cddeb1fe24,underscore:__61c16d543bfae33bb4747b45f7b91f35,jquery:__307d3e18fd611f85395c67cddeb1fe24},i;i=function(h,f,d){var i=("undefined"===typeof window?global:window).define,j,k,d=[d,f,h].filter(function(d){return"function"===typeof d})[0],f=[f,h,[]].filter(Array.isArray)[0];j=
d.apply(null,f.map(function(d){return v[d]}));k=typeof j;"function"===typeof i&&i("string"===typeof h?h:"__2c84bbdd61b43f2115abf64994b2cc7a",f,d);"string"===k?j=String(j):"number"===k?j=Number(j):"boolean"===k&&(j=Boolean(j));void 0!==j&&(m=o.exports=j)};i.amd=!0;var h=this,q=function(h,f,d,i){var h=this,j=h.Backbone,k=[],o=k.push,m=k.slice,q=k.splice;f.VERSION="1.0.0";f.$=i;f.noConflict=function(){h.Backbone=j;return this};f.emulateHTTP=!1;f.emulateJSON=!1;var l=f.Events={on:function(a,b,c){if(!s(this,
"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!s(this,"once",a,[b,c])||!b)return this;var e=this,g=d.once(function(){e.off(a,g);b.apply(this,arguments)});g._callback=b;return this.on(a,g,c)},off:function(a,b,c){var e,g,w,f,h,i,j,k;if(!this._events||!s(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;f=a?[a]:d.keys(this._events);h=0;for(i=f.length;h<
i;h++)if(a=f[h],w=this._events[a]){this._events[a]=e=[];if(b||c){j=0;for(k=w.length;j<k;j++)g=w[j],(b&&b!==g.callback&&b!==g.callback._callback||c&&c!==g.context)&&e.push(g)}e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=m.call(arguments,1);if(!s(this,"trigger",a,b))return this;var c=this._events[a],e=this._events.all;c&&x(c,b);e&&x(e,arguments);return this},stopListening:function(a,b,c){var e=this._listeners;if(!e)return this;var d=!b&&!c;"object"===
typeof b&&(c=this);a&&((e={})[a._listenerId]=a);for(var f in e)e[f].off(b,c,this),d&&delete this._listeners[f];return this}},r=/\s+/,s=function(a,b,c,e){if(!c)return!0;if("object"===typeof c){for(var d in c)a[b].apply(a,[d,c[d]].concat(e));return!1}if(r.test(c)){c=c.split(r);d=0;for(var f=c.length;d<f;d++)a[b].apply(a,[c[d]].concat(e));return!1}return!0},x=function(a,b){var c,e=-1,d=a.length,f=b[0],h=b[1],i=b[2];switch(b.length){case 0:for(;++e<d;)(c=a[e]).callback.call(c.ctx);break;case 1:for(;++e<
d;)(c=a[e]).callback.call(c.ctx,f);break;case 2:for(;++e<d;)(c=a[e]).callback.call(c.ctx,f,h);break;case 3:for(;++e<d;)(c=a[e]).callback.call(c.ctx,f,h,i);break;default:for(;++e<d;)(c=a[e]).callback.apply(c.ctx,b)}};d.each({listenTo:"on",listenToOnce:"once"},function(a,b){l[b]=function(b,e,g){var f=this._listeners||(this._listeners={}),h=b._listenerId||(b._listenerId=d.uniqueId("l"));f[h]=b;"object"===typeof e&&(g=this);b[a](e,g,this);return this}});l.bind=l.on;l.unbind=l.off;d.extend(f,l);var p=
f.Model=function(a,b){var c,e=a||{};b||(b={});this.cid=d.uniqueId("c");this.attributes={};d.extend(this,d.pick(b,v));b.parse&&(e=this.parse(e,b)||{});if(c=d.result(this,"defaults"))e=d.defaults({},e,c);this.set(e,b);this.changed={};this.initialize.apply(this,arguments)},v=["url","urlRoot","collection"];d.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return d.clone(this.attributes)},sync:function(){return f.sync.apply(this,arguments)},
get:function(a){return this.attributes[a]},escape:function(a){return d.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var e,g,f,h,i,j,k;if(null==a)return this;"object"===typeof a?(g=a,c=b):(g={})[a]=b;c||(c={});if(!this._validate(g,c))return!1;f=c.unset;h=c.silent;a=[];i=this._changing;this._changing=!0;i||(this._previousAttributes=d.clone(this.attributes),this.changed={});k=this.attributes;j=this._previousAttributes;this.idAttribute in g&&(this.id=g[this.idAttribute]);
for(e in g)b=g[e],d.isEqual(k[e],b)||a.push(e),d.isEqual(j[e],b)?delete this.changed[e]:this.changed[e]=b,f?delete k[e]:k[e]=b;if(!h){a.length&&(this._pending=!0);b=0;for(e=a.length;b<e;b++)this.trigger("change:"+a[b],this,k[a[b]],c)}if(i)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,d.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=
void 0;return this.set(b,d.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!d.isEmpty(this.changed):d.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?d.clone(this.changed):!1;var b,c=!1,e=this._changing?this._previousAttributes:this.attributes,g;for(g in a)if(!d.isEqual(e[g],b=a[g]))(c||(c={}))[g]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return d.clone(this._previousAttributes)},
fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(e){if(!b.set(b.parse(e,a),a))return false;c&&c(b,e,a);b.trigger("sync",b,e,a)};t(this,a);return this.sync("read",this,a)},save:function(a,b,c){var e,g=this.attributes;null==a||"object"===typeof a?(e=a,c=b):(e={})[a]=b;if(e&&(!c||!c.wait)&&!this.set(e,c))return!1;c=d.extend({validate:!0},c);if(!this._validate(e,c))return!1;e&&c.wait&&(this.attributes=d.extend({},g,e));void 0===c.parse&&(c.parse=
!0);var f=this,h=c.success;c.success=function(a){f.attributes=g;var b=f.parse(a,c);c.wait&&(b=d.extend(e||{},b));if(d.isObject(b)&&!f.set(b,c))return false;h&&h(f,a,c);f.trigger("sync",f,a,c)};t(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=e);a=this.sync(a,this,c);e&&c.wait&&(this.attributes=g);return a},destroy:function(a){var a=a?d.clone(a):{},b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(d){(a.wait||b.isNew())&&e();c&&
c(b,d,a);b.isNew()||b.trigger("sync",b,d,a)};if(this.isNew())return a.success(),!1;t(this,a);var g=this.sync("delete",this,a);a.wait||e();return g},url:function(){var a=d.result(this,"urlRoot")||d.result(this.collection,"url")||y();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},d.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;var a=d.extend({},this.attributes,a),c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,d.extend(b||{},{validationError:c}));return!1}});d.each("keys values pairs invert pick omit".split(" "),function(a){p.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.attributes);return d[a].apply(d,b)}});var u=f.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&
(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,d.extend({silent:!0},b))},A={add:!0,remove:!0,merge:!0},B={add:!0,merge:!1,remove:!1};d.extend(u.prototype,l,{model:p,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return f.sync.apply(this,arguments)},add:function(a,b){return this.set(a,d.defaults(b||{},B))},remove:function(a,b){a=d.isArray(a)?
a.slice():[a];b||(b={});var c,e,g,f;c=0;for(e=a.length;c<e;c++)if(f=this.get(a[c]))delete this._byId[f.id],delete this._byId[f.cid],g=this.indexOf(f),this.models.splice(g,1),this.length--,b.silent||(b.index=g,f.trigger("remove",f,this,b)),this._removeReference(f);return this},set:function(a,b){b=d.defaults(b||{},A);b.parse&&(a=this.parse(a,b));d.isArray(a)||(a=a?[a]:[]);var c,e,g,f,h,i=b.at,j=this.comparator&&null==i&&!1!==b.sort,k=d.isString(this.comparator)?this.comparator:null,l=[],m=[],n={};c=
0;for(e=a.length;c<e;c++)if(g=this._prepareModel(a[c],b))(f=this.get(g))?(b.remove&&(n[f.cid]=!0),b.merge&&(f.set(g.attributes,b),j&&(!h&&f.hasChanged(k))&&(h=!0))):b.add&&(l.push(g),g.on("all",this._onModelEvent,this),this._byId[g.cid]=g,null!=g.id&&(this._byId[g.id]=g));if(b.remove){c=0;for(e=this.length;c<e;++c)n[(g=this.models[c]).cid]||m.push(g);m.length&&this.remove(m,b)}l.length&&(j&&(h=!0),this.length+=l.length,null!=i?q.apply(this.models,[i,0].concat(l)):o.apply(this.models,l));h&&this.sort({silent:!0});
if(b.silent)return this;c=0;for(e=l.length;c<e;c++)(g=l[c]).trigger("add",g,this,b);h&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,e=this.models.length;c<e;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,d.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,d.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-
1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,d.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return d.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var e in a)if(a[e]!==b.get(e))return!1;return!0})},findWhere:function(a){return this.where(a,
!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var e=d.isFunction(b)?b:function(a){return a.get(b)};return d.sortedIndex(this.models,a,e,c)},pluck:function(a){return d.invoke(this.models,"get",
a)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(e){c[a.reset?"reset":"set"](e,a);b&&b(c,e,a);c.trigger("sync",c,e,a)};t(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?d.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,e=b.success;b.success=function(a,b,d){d.wait&&c.add(a,d);e&&e(a,b,d)};a.save(null,b);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},
_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof p)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return!c._validate(a,b)?(this.trigger("invalid",this,a,b),!1):c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,e){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,e),b&&a==="change:"+b.idAttribute&&
(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});d.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){u.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.models);return d[a].apply(d,b)}});
d.each(["groupBy","countBy","sortBy"],function(a){u.prototype[a]=function(b,c){var e=d.isFunction(b)?b:function(a){return a.get(b)};return d[a](this.models,e,c)}});var i=f.View=function(a){this.cid=d.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},C=/^(\S+)\s*(.*)$/,D="model collection el id attributes className tagName events".split(" ");d.extend(i.prototype,l,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof f.$?a:f.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=d.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];d.isFunction(c)||(c=this[a[b]]);if(c){var e=b.match(C),g=e[1],e=e[2],c=d.bind(c,this),g=g+(".delegateEvents"+this.cid);
if(""===e)this.$el.on(g,c);else this.$el.on(g,e,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=d.extend({},d.result(this,"options"),a));d.extend(this,d.pick(a,D));this.options=a},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var a=d.extend({},d.result(this,"attributes"));this.id&&(a.id=d.result(this,"id"));this.className&&(a["class"]=d.result(this,"className"));a=f.$("<"+
d.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});f.sync=function(a,b,c){var e=E[a];d.defaults(c||(c={}),{emulateHTTP:f.emulateHTTP,emulateJSON:f.emulateJSON});var g={type:e,dataType:"json"};c.url||(g.url=d.result(b,"url")||y());if(null==c.data&&b&&("create"===a||"update"===a||"patch"===a))g.contentType="application/json",g.data=JSON.stringify(c.attrs||b.toJSON(c));c.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(c.emulateHTTP&&("PUT"===
e||"DELETE"===e||"PATCH"===e)){g.type="POST";c.emulateJSON&&(g.data._method=e);var h=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(h)return h.apply(this,arguments)}}"GET"!==g.type&&!c.emulateJSON&&(g.processData=!1);if("PATCH"===g.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};a=c.xhr=f.ajax(d.extend(g,c));b.trigger("request",b,a,c);return a};var E=
{create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};f.ajax=function(){return f.$.ajax.apply(f.$,arguments)};var k=f.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,H=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(k.prototype,l,{initialize:function(){},route:function(a,b,c){d.isRegExp(a)||(a=this._routeToRegExp(a));d.isFunction(b)&&(c=b,b="");c||(c=this[b]);var e=this;f.history.route(a,
function(d){d=e._extractParameters(a,d);c&&c.apply(e,d);e.trigger.apply(e,["route:"+b].concat(d));e.trigger("route",b,d);f.history.trigger("route",e,b,d)});return this},navigate:function(a,b){f.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var a,b=d.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(I,"\\$&").replace(F,"(?:$1)?").replace(G,function(a,c){return c?a:"([^/]+)"}).replace(H,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return d.map(c,function(a){return a?decodeURIComponent(a):null})}});var n=f.History=function(){this.handlers=[];d.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,J=/^\/+|\/+$/g,K=/msie [\w.]+/,L=/\/$/;n.started=!1;d.extend(n.prototype,l,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:
""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){var a=this.location.pathname,c=this.root.replace(L,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(z,"")},start:function(a){if(n.started)throw Error("Backbone.history has already been started");n.started=!0;this.options=d.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;
this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var a=this.getFragment(),b=document.documentMode,b=K.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(J,"/");b&&this._wantsHashChange&&(this.iframe=f.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)f.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&
!b)f.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(z,
""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){f.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);n.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&
this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return d.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!n.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});f.history=new n;p.extend=u.extend=k.extend=i.extend=n.extend=function(a,b){var c=this,e;e=a&&d.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};d.extend(e,c,b);var f=function(){this.constructor=e};f.prototype=c.prototype;e.prototype=new f;a&&d.extend(e.prototype,a);e.__super__=c.prototype;return e};var y=function(){throw Error('A "url" property or function must be specified');},t=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return f};if("function"===typeof i&&i.amd)i(["underscore","jquery","exports"],function(i,f,d){h.Backbone=q(h,d,i,f)});else if("undefined"!==typeof m){i=__61c16d543bfae33bb4747b45f7b91f35;
var r;try{r=__307d3e18fd611f85395c67cddeb1fe24}catch(M){}q(h,m,i,r)}else h.Backbone=q(h,{},h._,h.jQuery||h.Zepto||h.ender||h.$);return o.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-backbone', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/backbone.js' */
("undefined"===typeof window?global:window).__e3ce9f42f29f6bd2118d84461512f4a4=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__2c84bbdd61b43f2115abf64994b2cc7a,a=a&&a.__esModule?a:{"default":a};window.Backbone||(window.Backbone=a.default);b.default=window.Backbone;return b=b["default"]}.call(this);;
;
/* module-key = 'jira.webresources:ajs-backbone-amd-shim', location = '/static/lib/amd-shims/backbone-amd.js' */
define("backbone",["underscore","jquery"],function(){return Backbone});;
;
/* module-key = 'jira.webresources:number-formatter', location = '/includes/jira/numberformatter/NumberFormatter.js' */
AJS.namespace("JIRA.NumberFormatter.format",null,require("jira/util/formatter").formatNumber);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/meta.js' */
AJS.namespace("JIRA.Meta"),function(){var e=require("jira/util/data/meta"),t=require("aui/params");JIRA.Meta.getLoggedInUser=function(){return{name:e.get("remote-user"),fullName:e.get("remote-user-fullname")}},JIRA.Meta.getProject=function(){return t.projectKey},JIRA.Meta.getIssueKey=function(){return e.get("issue-key")}}();;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/ajax/AjaxUtil.js' */
define("jira/ajs/ajax/ajax-util",["jira/util/formatter","jquery","underscore","exports"],function(r,e,t,s){"use strict";var n=function(r){if(r){if(t.isArray(r.errorMessages)&&!t.isEmpty(r.errorMessages))return r.errorMessages.join(" ");if(t.isObject(r.errors)&&!t.isEmpty(r.errors))return t.values(r.errors).join(" ")}return null},a=function(r){var t;try{return t=r.responseText&&e.parseJSON(r.responseText),n(t)}catch(r){}return null},o=function(e){return 401===e.status?"You are not authorized to perform this operation. Please log in.":e.responseText?"The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.":"The Jira server could not be contacted. This may be a temporary glitch or the server may be down."};s.getErrorMessageFromXHR=function(r){return a(r)||o(r)},s.isWebSudoFailure=function(r){return!1}}),AJS.namespace("JIRA.Ajax",null,require("jira/ajs/ajax/ajax-util"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/observer.js' */
!function(){var e=require("jira/util/events"),r=require("jira/util/events/types"),t=require("jira/util/events/reasons"),i=require("jquery");i(function(){var n=i(document);e.trigger(r.NEW_CONTENT_ADDED,[n,t.pageLoad]),e.trigger(r.NEW_PAGE_ADDED,[n])}),e.bind("dialogContentReady",function(i,n){var D=n.get$popupContent();e.trigger(r.NEW_CONTENT_ADDED,[D,t.dialogReady]),e.trigger(r.NEW_PAGE_ADDED,[D])}),e.bind("contentRefreshed",function(t,n){var D=i(n);e.trigger(r.NEW_CONTENT_ADDED,[D])})}();;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/json/JSONiefix.js' */
jQuery.browser.msie&&jQuery.browser.version>7&&"undefined"!=typeof JSON&&(JSON.stringify=null);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/version.js' */
define("jira/util/version",["aui/params"],function(r){var e={};return e.compare=function(e){if(r.JiraVersion){var n,a=r.JiraVersion.split("."),t=e.split("."),i=-1;n=a.length,a.length>t.length?(n=t.length,i=1):a.length===t.length&&(i=0);for(var l=0;l<n;l++){var u,o,s,p,h,c,f;if(u=a[l],o=t[l],h=/^(0+)(.*)$/,s=u.match(h),null!=s?(u="0."+u,c=parseFloat(u)):c=parseInt(u,10),p=o.match(h),null!=p?(o="0."+o,f=parseFloat(o)):f=parseInt(o,10),c<f)return-1;if(c>f)return 1}return i}},e.isGreaterThanOrEqualTo=function(r){return e.compare(r)!==-1},e}),AJS.namespace("JIRA.Version",null,require("jira/util/version"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/json/JSON.js' */
this.JSON||(this.JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,f,o,u,i=gap,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(o=a.length,n=0;n<o;n+=1)u[n]=str(n,a)||"null";return f=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,f}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)r=rep[n],"string"==typeof r&&(f=str(r,a),f&&u.push(quote(r)+(gap?": ":":")+f));else for(r in a)Object.hasOwnProperty.call(a,r)&&(f=str(r,a),f&&u.push(quote(r)+(gap?": ":":")+f));return f=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,f}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,f=t[e];if(f&&"object"==typeof f)for(n in f)Object.hasOwnProperty.call(f,n)&&(r=walk(f,n),void 0!==r?f[n]=r:delete f[n]);return reviver.call(t,e,f)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/parseuri/parseUri.js' */
/*!
 * parseUri 1.2.2
 * (c) Steven Levithan <stevenlevithan.com>
 * MIT License
 * MODIFIED BY ATLASSIAN
 */
define("jira/libs/parse-uri",function(){function r(e){for(var o=r.options,s=o.parser[o.strictMode?"strict":"loose"].exec(e),t={},i=14;i--;)t[o.key[i]]=s[i]||"";return t[o.q.name]={},t[o.key[12]].replace(o.q.parser,function(r,e,s){e&&(t[o.q.name][e]=s)}),t}return r.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r}),AJS.namespace("parseUri",null,require("jira/libs/parse-uri"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/parseOptionsFromFieldset.js' */
define("jira/data/parse-options-from-fieldset",["jquery"],function(e){function t(e){var t=r(e,e);return e.remove(),t}function r(t,a){var n={};return t.children().each(function(){var t,s=e(this);s.is("input[type=hidden]")?(t=i(s),n.hasOwnProperty(t.id)?e.isArray(n[t.id])?n[t.id].push(t.value):n[t.id]=[n[t.id],t.value]:n[t.id]=t.value):s.is("fieldset")?n[s.attr("title")||s.attr("id")]=r(s,a):s.insertBefore(a)}),n}function i(e){var t={},r=e.val();return t.id=e.attr("title")||e.attr("id"),t.value=r.match(/^(tru|fals)e$/i)?"true"==r.toLowerCase():r,t}return t}),AJS.namespace("JIRA.parseOptionsFromFieldset",null,require("jira/data/parse-options-from-fieldset"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/handleaccesskeys/handleAccessKeys.js' */
!function(e){var t=require("underscore");e.fn.handleAccessKeys=function(s){function n(t,n){if(t)return s.selective===!1||(/[a-z]/i.test(t)&&(t=t.toLowerCase()),e.inArray(t,n)!==-1)}function c(t){t.each(function(){var t=e(this);t.data(a)&&t.attr(a,t.data(a))})}function r(t,s){t.each(function(){var t=e(this);n(t.attr(a),s)&&(t.data(a,t.attr(a)),t.removeAttr(a))})}var a="accesskey";return e.browser.msie&&"7.0"==e.browser.version&&(a="accessKey"),s=s||{},this.each(function(){var s=e(this),n={getBlackList:t.once(function(){var e=[];return this.getMyAccesskeyElems().each(function(){this.hasAttribute(a)&&e.push(this.getAttribute(a).toLowerCase())}),e}),getMyAccesskeyElems:t.once(function(){return e(":input["+a+"], a["+a+"]",s)}),getOtherAccesskeyElems:t.once(function(){return e("form").not(s).find(":input["+a+"], a["+a+"]")})};return s.is("form")?void(s.data("handleAccessKeys.applied")||(s.data("handleAccessKeys.applied",!0),s.delegate(":input, a","focus",function(){r(n.getOtherAccesskeyElems(),n.getBlackList()),c(n.getMyAccesskeyElems())}).delegate(":input, a","blur",function(){c(n.getOtherAccesskeyElems())}))):(console.warn("jQuery.fn.handleAccessKeys: node type ["+s.prop("nodeName")+"] is not valid. Only <form> supported"),this)}),this}}(jQuery);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/setselectionrange/setSelectionRange.js' */
jQuery.fn.setSelectionRange=function(e,t){if(0!=this.length)if(this[0].setSelectionRange)this[0].focus(),this[0].setSelectionRange(e,t);else if(this[0].createTextRange){var n=this[0].createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}},jQuery.fn.setCaretToPosition=function(e){this.setSelectionRange(e,e)};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/simpleclick/simpleClick.js' */
!function(e){e.event.special.simpleClick={add:function(c){c._clickHandler=function(e){if(!e.ctrlKey&&!e.metaKey&&!e.shiftKey)return c.handler.apply(this,arguments)},e(this).on("click",c.selector,c._clickHandler)},remove:function(c){e(this).off("click",c.selector,c._clickHandler)}}}(jQuery);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/SessionStorage.js' */
define("jira/data/session-storage",function(){return{nativesupport:!0,length:function(){return sessionStorage.length},key:function(e){return sessionStorage.key(e)},getItem:function(e){return sessionStorage.getItem(e)},setItem:function(e,t){return sessionStorage.setItem(e,t)},removeItem:function(e){return sessionStorage.removeItem(e)},clear:function(){return sessionStorage.clear()},asJSON:function(){for(var e=this.length(),t="{\n",n=0;n<e;n++){var s=this.key(n),r=this.getItem(s);t+=s+":"+r,n<e-1&&(t+=","),t+="\n"}return t+="}\n"}}}),AJS.namespace("jira.app.session.storage",null,require("jira/data/session-storage")),AJS.namespace("JIRA.SessionStorage",null,require("jira/data/session-storage"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/LocalStorage.js' */
define("jira/data/local-storage",["jquery"],function(e){return"undefined"==typeof localStorage&&(localStorage={getItem:e.noop,setItem:e.noop,removeItem:e.noop,clear:e.noop}),localStorage});;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/persistence/persistence.js' */
define("jira/ajs/persistence",["jira/data/session-storage","jquery","exports"],function(e,n,a){var t="AJS.thisPage";a.nextPage=function(){var a=[];return n(window).unload(function(){e.setItem(t,JSON.stringify(a))}),function(e,t){var i;n.each(a,function(){this.name===e&&(this.value=t,i=!0)}),i||a.push({name:e,value:t})}}(),a.thisPage=function(){var n,a,i={};if(a=e.getItem(t),e.removeItem(t),a)for(a=JSON.parse(a),n=0;n<a.length;n++)i[a[n].name]=a[n].value;return function(e){return i[e]}}()}),AJS.namespace("AJS.nextPage",null,require("jira/ajs/persistence").nextPage),AJS.namespace("AJS.thisPage",null,require("jira/ajs/persistence").thisPage);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/xsrf/XSRF.js' */
define("jira/xsrf",["jira/util/formatter","jquery"],function(t,a){function n(t){var a=atl_token();a!==t&&(o(a,t),u(a,t),c(a,t))}var r="atlassian-token",e="atl_token",i="atl_token",f=function(a){return t.format("{0}={1}",e,a)},o=function(n,e){var i=t.format("meta#{0}",r);a(i).attr("content",e)},u=function(t,n){a("a,link").each(function(){var r=a(this),e=r.attr("href");e&&r.attr("href",e.replace(f(t),f(n)))})},c=function(n,r){a("form").each(function(){var e=a(this),o=e.attr("action");o&&e.attr("action",o.replace(f(n),f(r)));var u=t.format('input[name="{0}"][value="{1}"]',i,n);e.find(u).each(function(){a(this).attr("value",r)})})};return{updateTokenOnPage:n}}),AJS.namespace("jira.xsrf",null,require("jira/xsrf")),AJS.namespace("JIRA.XSRF",null,require("jira/xsrf"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/bindDefaultCustomEvent/bindDefaultCustomEvent.js' */
define("jira/ajs/default-custom-event",["jquery","exports"],function(e,n){var t={};n.bind=function(n,a){if(t[n])throw new Error("You have already bound a default handler for ["+n+"] event");t[n]=function(t){var u=e(document).data("events")[n],l=u[u.length-1].handler;l!==arguments.callee?(t.preventDefault=function(){a=null},u[u.length-1].handler=function(){l.apply(this,arguments),a&&a.apply(this,arguments),u[u.length-1].handler=l}):a.apply(this,arguments)},e(document).bind(n,t[n])},n.unbind=function(n){t[n]&&(e(document).unbind(n,t[n]),delete t[n])}}),AJS.namespace("AJS.bindDefaultCustomEvent",null,require("jira/ajs/default-custom-event").bind),AJS.namespace("AJS.unbindDefaultCustomEvent",null,require("jira/ajs/default-custom-event").unbind);;
;
/* module-key = 'jira.webresources:bundles-experiment-feature-flags', location = '/js/featureflags/bundles-experiment-feature-manager.js' */
define("jira/featureflags/bundles-experiment-feature-manager",["jira/util/data/meta","jira/featureflags/feature-manager"],function(e,t){"use strict";const a="jsw.growth.confluence.bundles.activation",n="variation-1",r="variation-2",i="not-enrolled",u=t.getFlagValue(a)||i;return{BUNDLES_LAUNCH_DARKLY_FEATURE_FLAG:a,shouldCreateSpace:function(){return[n,r].indexOf(u)!==-1},getBundleExperimentCohort:function(){return u}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-analytics-tracker', location = 'jira-agile-module/includes/js/rapid/AnalyticsTracker.js' */
define("jira-agile/rapid/analytics-tracker",["require"],function(e){var r=e("underscore");function a(e,a,i){if(r.isUndefined(e))throw new Error("You must specify a category");this.params={},this.params.category=e;e=0;r.isUndefined(a)||(this.params.action=a,e++,r.isUndefined(i)||(this.params.label=i,e++)),this.requiredArgumentNames=["action","label","value"].slice(e),this.useAsync=!0}return a.prototype.setAsync=function(e){return this.useAsync=e,this},a.prototype.trigger=function(){for(var e=r.clone(this.params),a=0;a<arguments.length&&!r.isUndefined(this.requiredArgumentNames[a]);a++)e[this.requiredArgumentNames[a]]=arguments[a];this._validateParams(e);AJS.$(AJS).trigger("gh.analytics.async",e)},a.prototype._validateParams=function(a){r.each(["category","action","label"],function(e){r.isUndefined(a[e])||r.isString(a[e])?r.isUndefined(a[e])&&(a[e]=""):a[e]=a[e].toString()}),r.each(["category","action"],function(e){a[e]=a[e].replace(/\s+/g,"")}),r.isUndefined(a.value)||(a.value=parseInt(a.value,10),isNaN(a.value)&&(a.value=void 0))},a}),AJS.namespace("GH.AnalyticsTracker",null,require("jira-agile/rapid/analytics-tracker"));;
;
/* module-key = 'com.atlassian.jira.jira-npmbridge-plugin:atlassian-spa-iframe-amd', location = 'jira-npmbridge-module/node_modules/@atlassian/spa-iframe/dist/legacy.amd.min.js' */
define("@atlassian/spa-iframe",["exports"],function(n){"use strict";function c(n){return n.origin||n.location&&(n.location.origin||"".concat(n.location.protocol,"//").concat(n.location.hostname).concat(n.location.port?":".concat(n.location.port):""))}function u(n,e){var t=c(n),r=e.split("/"),i=r[0],o=r[2],a="".concat(i,"//").concat(o);return 0===e.indexOf("/")||t===a}function a(e){function n(n){(function(n,e){return n.origin===c(e)})(n,window)&&n.data&&"string"==typeof n.data.type&&(r?e.process(n.data):t.push(n.data))}var t=[],r=!1;return window.addEventListener("message",n),{unsubscribe:function(){return window.removeEventListener("message",n)},init:function(){for(r=!0;t.length;)e.process(t.shift())}}}function s(){return String(Date.now())}function y(n){var e=function(){function t(n,e){r[n].delete(e)}var r={};return{add:function(n,e){return r[n]=r[n]||new Set,r[n].add(e),function(){return t(n,e)}},remove:t,removeAll:function(){r={}},process:function(e){null!=e&&"string"==typeof e.type&&r[e.type]&&r[e.type].forEach(function(n){return n(e)})}}}(),t=function(e,n,t){function r(n){e()!==window&&e().postMessage(n,c(window))}var i,o=v.ready({id:t()}),a=[],u=!1;return n.add(A,function(n){var e=n.payload.id;if(!u||e!==i)for(i=e,u=!0,r(o);a.length;)r(a.shift())}),r(o),function(n){u?r(n):a.push(n)}}(n,e,s),r=a(e),i=r.unsubscribe,o=r.init;return{message:{dispatch:t,registerCallback:e.add,unregisterCallback:e.remove},init:o,destroy:function(){e.removeAll(),i()}}}function S(n){function e(n){try{if(null==n.location.href)return!1}catch(n){return!1}return!0}for(var t,r=n;(t=r)!==t.parent&&e(r.parent);)r=r.parent;return r}function I(t){return function(n){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!=n&&(u(window,n)?t.syncUrl(function(n){return 0===n.indexOf("/")?n:"/".concat(n.split("/").slice(3).join("/"))}(n),e):S(window).location[e?"replace":"assign"](n))}}function o(i,o){return function(n,e){function t(n){if(!n.isProgrammatic&&o()){var e=function(n){if("function"==typeof Event)return new n.constructor(n.type,n);var e=document.createEvent("Event");return e.initEvent(n.type,n.bubbles,n.cancelable),n.defaultPrevented&&(Object.defineProperty(n,"returnValue",{value:!1}),Object.defineProperty(e,"returnValue",{value:!1})),Object.defineProperty(n,"preventDefault",{value:function(){Object.defineProperty(n,"returnValue",{value:!1})}}),e}(n);r&&(Object.defineProperty(e,"target",{writable:!1,value:n.target}),Object.defineProperty(e,"srcElement",{writable:!1,value:n.srcElement})),Object.defineProperty(e,"isProgrammatic",{writable:!1,value:!0}),i()!==window&&i().document.body&&i().document.body.dispatchEvent(e)}}var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}function f(n){return Array.prototype.slice.call(n)}function l(n){return-1!==g.indexOf(n)}function d(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}function p(n,e,t,r,i){!function(n,e,t){return!(null==n||""===n||0===n.indexOf("#")||t.defaultPrevented||!1===t.returnValue||"_blank"===e||t.hasBeenSpaHandled||0<t.button)}(e,t,n)||(n.preventDefault(),r(e),n.hasBeenSpaHandled=!0),i&&i()}function R(r,i){return function(n){var e=I(r),t=o(function(){return S(window)},i);!function(n,e){n.addEventListener("beforeunload",function(){e.beforeUnload()})}(window,r),t(n,"keydown",!0),t(n,"keypress",!0),t(n,"click"),function(o,a){function n(n){if(!(n.hasBeenSpaHandled||d(n)||n.target instanceof o.HTMLElement&&n.target.isContentEditable)){for(var e,t="",r=n.target,i=o.document;r&&r!==i&&r instanceof o.HTMLElement;){if(l(r.tagName)&&r.getAttribute("href")){t=r.getAttribute("href"),e=r.getAttribute("target");break}r=r.parentElement}p(n,t,e,a)}}function e(n){n.forEach(function(i){return i.addEventListener("click",function(n){if(!d(n)&&!i.isContentEditable){var e=i.getAttribute("href"),t=i.getAttribute("target");requestAnimationFrame(function(){p(n,e,t,a)}),null==e||u(window,e)||p(n,e,t,a);var r=window.addEventListener("unload",function(){return p(n,e,t,a,r)})}})})}var t=new MutationObserver(function(n){n.forEach(function(n){var t=[];n.addedNodes.forEach(function(n){l(n.nodeName)&&t.push(n);var e=n instanceof o.Element&&n;e&&g.forEach(function(n){t=t.concat(f(e.getElementsByTagName(n)))})}),e(t)})});e(f(o.document.links)),t.observe(o.document,{subtree:!0,childList:!0}),o.addEventListener("click",n)}(n,e)}}var A="@ATLASSIAN/SPA-IFRAME/READY",w="@ATLASSIAN/SPA-IFRAME/PARENT/URL_CHANGE",P="@ATLASSIAN/SPA-IFRAME/PARENT/OFFSET",T="@ATLASSIAN/SPA-IFRAME/PARENT/DID-MOUNT",F="@ATLASSIAN/SPA-IFRAME/PARENT/REQUEST-REFRESH",L="@ATLASSIAN/SPA-IFRAME/PARENT/HIDE-PERSISTED",v={ready:function(n){return{type:A,payload:n}}},N={beforeUnload:function(){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/BEFORE-UNLOAD"}},init:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/INIT",payload:n}},title:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/TITLE",payload:n}},urlChange:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/URL_CHANGE",payload:n}},RFU:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/RFU",payload:n}},setExternalSpinner:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/SET-EXTERNAL-SPINNER",payload:n}}},g=["A","AREA"];n.ContainerAPI=function(n){var e=0<arguments.length&&void 0!==n?n:{},t=e.browserMetrics,r=e.reporters,i=void 0===r?[]:r,o=e.isIframe,a=void 0===o?function(n){return S(n)!==n&&"@atlassian/spa-iframe"===n.name}(window):o,u=e.postponeMessageChannelInit,c=void 0!==u&&u,s={offset:null,shouldPropagateEvents:!0,hidden:!1},f=null,l=y(function(){return S(window)});c||l.init();function d(n){var e=0<arguments.length&&void 0!==n?n:document.title;a?E.titleChange(e):window.document.title=e}function p(n){var e=0<arguments.length&&void 0!==n?n:{};a&&(v=e,m(window),f=l.message.registerCallback(P,function(n){s.offset=Object.assign({},s.offset||{},n.payload)}),c&&l.init(),E.iframeInit(null!=e.url?{url:e.url}:{}),d())}function A(n){return a?l.message.registerCallback(T,function(){return n()}):function(){}}var v,g,E=function(r){return{beforeUnload:function(){return r.message.dispatch(N.beforeUnload())},iframeInit:function(n){r.message.dispatch(N.init(n))},titleChange:function(n){if("string"!=typeof n)throw new Error("Title must be a string");r.message.dispatch(N.title({title:n}))},sendRFU:function(n){return r.message.dispatch(N.RFU(n))},syncUrl:function(n,e){var t=1<arguments.length&&void 0!==e&&e;if("string"!=typeof n)throw new Error("URL must be a string");r.message.dispatch(N.urlChange({url:n,replaceState:t}))},setExternalSpinner:function(n){return r.message.dispatch(N.setExternalSpinner(n))}}}(l),m=R(E,function(){return s.shouldPropagateEvents}),h=I(E),b=t?function(r,e,n){var u=2<arguments.length&&void 0!==n?n:[],c={subscribeToReport:function(t){e.subscribe(function(n){var e=n.report;e.key===t&&e.isInitial&&r.sendRFU(e)})},sendRfuAsIs:function(n){e.start(n),n.ready||e.end({key:n.key})},sendRfuFromIframe:function(n){var e=n.key,t=n.reporters;if(!n.isInitial)return c.subscribeToReport(e),void c.sendRfuAsIs(n);var r=window.performance,i=[],o=[].concat(t).concat(u).filter(function(n){return"function"==typeof n});r&&r.timing&&i.push(function(){return{navigationStartTimestamp:r.timing.navigationStart}});var a=e+"__spa-iframe-contents";c.subscribeToReport(a),c.sendRfuAsIs(Object.assign({},n,{reporters:o.concat(i),key:a}))}};return c}(E,t,i):null;return g=function(){s.hidden=!0,f&&f()},a&&l.message.registerCallback(L,function(){return g()}),A(function(){s.hidden&&(p(v),s.hidden=!1,f=null)}),{init:p,sendRFU:function(n){if(!b)throw new Error("BrowserMetrics is required to send RFU events");a?b.sendRfuFromIframe(n):b.sendRfuAsIs(n)},navigate:function(n,e,t){var r=(2<arguments.length&&void 0!==t?t:{replace:!1}).replace;return a?h(n,r):e()},titleChange:d,onParentUrlChange:function(e){return a?l.message.registerCallback(w,function(n){return e(n.payload)}):function(){}},onParentDidMount:A,onParentRequestRefresh:function(e){return a?l.message.registerCallback(F,function(n){return e(n.payload)}):function(){}},setupInterceptors:m,getIsIframe:function(){return a},getOffset:function(){return s.offset},setShouldPropagateEvents:function(n){s.shouldPropagateEvents=n},messageChannel:l.message,setExternalSpinner:function(n){var e=0<arguments.length&&void 0!==n&&n;a&&E.setExternalSpinner({isVisible:e})}}},Object.defineProperty(n,"__esModule",{value:!0})});
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'atlassian-plugins-webresource-rest/js/wrm/curl-config.js' */
!function(){window.WRM||(window.WRM={}),window.curl={apiContext:WRM,defineContext:WRM,useCrossOriginAttribute:WRM.data.claim("com.atlassian.plugins.atlassian-plugins-webresource-rest:curl.cross-origin-resources")}}();
//# sourceMappingURL=curl-config-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'atlassian-plugins-webresource-rest/js/wrm/lib/curl-0.7.3.js' */
!function(e){function t(){}function n(e,t){return 0==T.call(e).indexOf("[object "+t)}function r(e){var t;return e.path=c(e.path||e.location||""),t=e.main||"./main",o(t)||(t="./"+t),e.main=a(t,e.name+"/"),e.config=e.config,e}function o(e){return"."==e.charAt(0)}function i(e){return z.test(e)}function u(e,t){return c(e)+"/"+t}function c(e){return e&&"/"==e.charAt(e.length-1)?e.substr(0,e.length-1):e}function a(e,t){var n,r,i,u,c;return n=1,r=e,o(r)&&(u=!0,r=r.replace(Q,function(e,t,r,o){return r&&n++,o||""})),u?(i=t.split("/"),c=i.length-n,c<0?e:(i.splice(c,n),i.concat(r||[]).join("/"))):r}function s(e){var t=e.indexOf("!");return{resourceId:e.substr(t+1),pluginId:t>=0&&e.substr(0,t)}}function f(){}function p(e,t){f.prototype=e||O;var n=new f;f.prototype=O;for(var r in t)n[r]=t[r];return n}function l(){function e(e,t,n){o.push([e,t,n])}function n(e,t){for(var n,r,i=0;n=o[i++];)r=n[e],r&&r(t)}var r,o,i;r=this,o=[],i=function(r,u){e=r?function(e,t){e&&e(u)}:function(e,t){t&&t(u)},i=t,n(r?0:1,u),n=t,o=b},this.then=function(t,n,o){return e(t,n,o),r},this.resolve=function(e){r.resolved=e,i(!0,e)},this.reject=function(e){r.rejected=e,i(!1,e)},this.progress=function(e){n(2,e)}}function d(e){return e instanceof l}function h(e,t,n,r){return d(e)?e.then(t,n,r):t(e)}function g(e,t,n){var r;return function(){return--e>=0&&t&&(r=t.apply(b,arguments)),0==e&&n&&n(r),r}}function v(){var e,t=[].slice.call(arguments);return n(t[0],"Object")&&(e=t.shift(),x(e)),new m(t[0],t[1],t[2])}function x(e){e&&(I.setApi(e),w=I.config(e),I.checkPreloads(e),"main"in e&&setTimeout(function(){var t;t=I.createContext(w,b,[].concat(e.main)),I.getDeps(t)},0))}function m(e,t,n,r){var o,i;i=I.createContext(w,b,[].concat(e)),this.then=o=function(e,t){return h(i,function(t){e&&e.apply(b,t)},function(e){if(!t)throw e;t(e)}),this},this.next=function(e,t,n){return new m(e,t,n,i)},this.config=x,(t||n)&&o(t,n),h(r,function(){I.getDeps(i)})}function y(e){var t,n,r;if(t=e.id,t==b&&(D!==b?D={ex:"Multiple anonymous defines in url"}:(t=I.getCurrentDefName())||(D=e)),t!=b){if(n=$[t],t in $||(r=I.resolvePathInfo(t,w),n=I.createResourceDef(r.config,t),$[t]=n),!d(n))throw new Error("duplicate define: "+t);n.useNet=!1,I.defineResource(n,e)}}function j(){var e=I.fixArgs(arguments);y(e)}var w,E,A,b,D,C,I,R="0.7.3",P="curl",M="define",U=e.document,L=U&&(U.head||U.getElementsByTagName("head")[0]),F=L&&L.getElementsByTagName("base")[0]||null,N={},k={},S={},q="addEventListener"in e?{}:{loaded:1,complete:1},O={},T=O.toString,$={},B={},J=!1,_=/\?|\.js\b/,z=/^\/|^[^:]+:\/\//,Q=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,G=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,H=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g;I={toAbsId:function(e,t,n){var r,i,c;return r=a(e,t),o(r)?r:(c=s(r),i=c.pluginId,r=i||c.resourceId,r in n.pathMap&&(r=n.pathMap[r].main||r),i&&(i.indexOf("/")<0&&!(i in n.pathMap)&&(r=u(n.pluginPath,i)),r=r+"!"+c.resourceId),r)},createContext:function(e,t,r,o){function i(t){return I.toAbsId(t,a.id,e)}function u(t){return I.resolvePathInfo(i(t),e).url}function c(t,r,u){var c,s,f,p;if(c=r&&function(){r.apply(b,arguments[0])},n(t,"String")){if(c)throw new Error("require(id, callback) not allowed");if(s=i(t),f=$[s],!(s in $))throw new Error("Module not resolved: "+s);return p=d(f)&&f.exports,p||f}h(I.getDeps(I.createContext(e,a.id,t,o)),c,u)}var a;return a=new l,a.id=t||"",a.isPreload=o,a.depNames=r,a.config=e,a.require=c,c.toUrl=u,a.toAbsId=i,a},createResourceDef:function(e,t,n){var r,o,i;return r=I.createContext(e,t,b,n),o=r.resolve,i=g(1,function(e){r.deps=e;try{return I.executeDefFunc(r)}catch(t){r.reject(t)}}),r.resolve=function(e){h(n||J,function(){o($[r.id]=B[r.url]=i(e))})},r.exportsReady=function(e){h(n||J,function(){r.exports&&(i(e),r.progress(k))})},r},createPluginDef:function(e,t,n,r){var o;return o=I.createContext(e,n,b,r)},getCjsRequire:function(e){return e.require},getCjsExports:function(e){return e.exports||(e.exports={})},getCjsModule:function(e){var t=e.module;return t||(t=e.module={id:e.id,uri:I.getDefUrl(e),exports:I.getCjsExports(e),config:function(){return e.config}},t.exports=t.exports),t},getDefUrl:function(e){return e.url||(e.url=I.checkToAddJsExt(e.require.toUrl(e.id),e.config))},setApi:function(t){var r,o,i,u,c,a;if(r=P,o=M,i=u=e,c=" already exists",t&&(a=t.overwriteApi||t.overwriteApi,r=t.apiName||t.apiName||r,i=t.apiContext||t.apiContext||i,o=t.defineName||t.defineName||o,u=t.defineContext||t.defineContext||u,E&&n(E,"Function")&&(e[P]=E),E=null,A&&n(A,"Function")&&(e[M]=A),A=null,!a)){if(i[r]&&i[r]!=v)throw new Error(r+c);if(u[o]&&u[o]!=j)throw new Error(o+c)}i[r]=v,u[o]=j},config:function(e){function t(e,t){var o,i,f,l,d,h;for(var g in e)f=e[g],n(f,"String")&&(f={path:e[g]}),f.name=f.name||g,d=u,l=s(c(f.name)),o=l.resourceId,i=l.pluginId,i&&(d=a[i],d||(d=a[i]=p(u),d.pathMap=p(u.pathMap),d.pathList=[]),delete e[g]),t?(h=r(f),h.config&&(h.config=p(u,h.config))):h={path:c(f.path)},h.specificity=o.split("/").length,o?(d.pathMap[o]=h,d.pathList.push(o)):d.baseUrl=I.resolveUrl(f.path,u)}function o(e){var t=e.pathMap;e.pathRx=new RegExp("^("+e.pathList.sort(function(e,n){return t[n].specificity-t[e].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete e.pathList}var i,u,a,f;"baseUrl"in e&&(e.baseUrl=e.baseUrl),"main"in e&&(e.main=e.main),"preloads"in e&&(e.preloads=e.preloads),"pluginPath"in e&&(e.pluginPath=e.pluginPath),("dontAddFileExt"in e||e.dontAddFileExt)&&(e.dontAddFileExt=new RegExp(e.dontAddFileExt||e.dontAddFileExt)),i=w,u=p(i,e),u.pathMap=p(i.pathMap),a=e.plugins||{},u.plugins=p(i.plugins),u.paths=p(i.paths,e.paths),u.packages=p(i.packages,e.packages),u.pathList=[],t(e.packages,!0),t(e.paths,!1);for(f in a){var l=I.toAbsId(f+"!","",u);u.plugins[l.substr(0,l.length-1)]=a[f]}a=u.plugins;for(f in a){a[f]=p(u,a[f]);var d=a[f].pathList;d&&(a[f].pathList=d.concat(u.pathList),o(a[f]))}for(f in i.pathMap)u.pathMap.hasOwnProperty(f)||u.pathList.push(f);return o(u),u},checkPreloads:function(e){var t;t=e&&e.preloads,t&&t.length>0&&h(J,function(){J=I.getDeps(I.createContext(w,b,t,!0))})},resolvePathInfo:function(e,t){var n,r,o,u;return n=t.pathMap,o=i(e)?e:e.replace(t.pathRx,function(e){return r=n[e]||{},u=r.config,r.path||""}),{config:u||w,url:I.resolveUrl(o,t)}},resolveUrl:function(e,t){var n=t.baseUrl;return n&&!i(e)?u(n,e):e},checkToAddJsExt:function(e,t){return e+((t||w).dontAddFileExt.test(e)?"":".js")},loadScript:function(t,n,r){function o(r){r=r||e.event,("load"==r.type||q[u.readyState])&&(delete S[t.id],u.onload=u.onreadystatechange=u.onerror="",n())}function i(e){r(new Error("Syntax or http error: "+t.url))}var u=U.createElement("script");if(w.useCrossOriginAttribute){var c;"function"==typeof window.URL?c=new window.URL(t.url,document.location):(c=document.createElement("a"),c.href=t.url,c.href=c.href),c.protocol===document.location.protocol&&c.hostname===document.location.hostname&&c.port===document.location.port||(u.crossorigin="anonymous")}return u.onload=u.onreadystatechange=o,u.onerror=i,u.type=t.mimetype||"text/javascript",u.charset="utf-8",u.async=!t.order,u.src=t.url,S[t.id]=u,L.insertBefore(u,F),u},extractCjsDeps:function(e){var t,n,r=[];return t="string"==typeof e?e:e.toSource?e.toSource():e.toString(),t.replace(G,"").replace(H,function(e,t,o){return o?n=n==o?b:n:n||r.push(t),""}),r},fixArgs:function(e){var t,r,o,i,u,c;return u=e.length,o=e[u-1],i=n(o,"Function")?o.length:-1,2==u?n(e[0],"Array")?r=e[0]:t=e[0]:3==u&&(t=e[0],r=e[1]),!r&&i>0&&(c=!0,r=["require","exports","module"].slice(0,i).concat(I.extractCjsDeps(o))),{id:t,deps:r||[],res:i>=0?o:function(){return o},cjs:c}},executeDefFunc:function(e){var t,n;return n=e.cjs?e.exports:b,t=e.res.apply(n,e.deps),t===b&&e.exports&&(t=e.module?e.exports=e.module.exports:e.exports),t},defineResource:function(e,t){e.res=t.res,e.cjs=t.cjs,e.depNames=t.deps,I.getDeps(e)},getDeps:function(e){function t(e,t,n){c[t]=e,n&&f(e,t)}function n(t,n){var r,o,i,u;r=g(1,function(e){o(e),p(e,n)}),o=g(1,function(e){f(e,n)}),i=I.fetchDep(t,e),u=d(i)&&i.exports,u&&o(u),h(i,r,e.reject,e.exports&&function(e){i.exports&&(e==N?o(i.exports):e==k&&r(i.exports))})}function r(){e.resolve(c)}function o(){e.exportsReady&&e.exportsReady(c)}var i,u,c,a,s,f,p;for(c=[],u=e.depNames,a=u.length,0==u.length&&r(),f=g(a,t,o),p=g(a,t,r),i=0;i<a;i++)s=u[i],s in C?(p(C[s](e),i,!0),e.exports&&e.progress(N)):s?n(s,i):p(b,i,!0);return e},fetchResDef:function(e){return I.getDefUrl(e),I.loadScript(e,function(){var t=D;D=b,e.useNet!==!1&&(!t||t.ex?e.reject(new Error(t&&t.ex||"define() missing or duplicated: "+e.url)):I.defineResource(e,t))},e.reject),e},fetchDep:function(e,t){var n,r,o,i,u,c,a,f,p,d,g;return n=t.toAbsId,r=t.isPreload,o=t.config||w,i=s(n(e)),a=i.resourceId,u=i.pluginId||a,f=I.resolvePathInfo(u,o),i.pluginId?c=u:(c=f.config.moduleLoader||f.config.moduleLoader,c&&(a=u,u=c,f=I.resolvePathInfo(c,o))),u in $?p=$[u]:f.url in B?p=$[u]=B[f.url]:(p=I.createResourceDef(f.config,u,r),p.url=I.checkToAddJsExt(f.url,f.config),$[u]=B[f.url]=p,I.fetchResDef(p)),u==c&&(d=new l,g=o.plugins[c]||o,h(p,function(e){var t,o,i;if(i=e.dynamic,a="normalize"in e?e.normalize(a,n,p.config)||"":n(a),o=c+"!"+a,t=$[o],!(o in $)){t=I.createPluginDef(g,o,a,r),i||($[o]=t);var u=function(e){t.resolve(e),i||($[o]=e)};u.resolve=u,u.reject=u.error=t.reject,e.load(a,t.require,u,g)}d!=t&&h(t,d.resolve,d.reject,d.progress)},d.reject)),d||p},getCurrentDefName:function(){var t;if(!n(e.opera,"Opera"))for(var r in S)if("interactive"==S[r].readyState){t=r;break}return t}},C={require:I.getCjsRequire,exports:I.getCjsExports,module:I.getCjsModule},v.version=R,v.config=x,j.amd={plugins:!0,jQuery:!0,curl:R},w={baseUrl:"",pluginPath:"curl/plugin",dontAddFileExt:_,paths:{},packages:{},plugins:{},pathMap:{},pathRx:/$^/},E=e[P],A=e[M],!E||n(E,"Function")?I.setApi():(e[P]=b,x(E)),$[P]=v,$["curl/_privileged"]={core:I,cache:$,config:function(){return w},_define:y,_curl:v,Promise:l}}(this.window||"undefined"!=typeof global&&global||this);
//# sourceMappingURL=curl-0.7.3-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'atlassian-plugins-webresource-rest/js/wrm/lib/curl-css-0.7.3.js' */
!function(e){"use strict";function n(e,n){C[e]=C[e]||n}function t(){var e;return e=I[E]("link"),e.rel="stylesheet",e.type="text/css",e}function r(e,t){e.onload=function(){n("load",!0),t()}}function o(e,t){e.onerror=function(){n("error",!0),t()}}function u(e,n,t){var r;_.push({url:e,cb:n,eb:function(){t(new Error(B))}}),r=s(),r&&i(r)}function i(e){var n,t;n=_.shift(),t=e.styleSheet,n?(e.onload=function(){n.cb(n.ss),i(e)},e.onerror=function(){n.eb(),i(e)},n.ss=t.imports[t.addImport(n.url)]):(a(e),c(e))}function c(e){T.push(e)}function s(){var e;return e=T.shift(),!e&&R.length<x&&(e=I.createElement("style"),R.push(e),w.appendChild(e)),e}function l(e){var n,t,r;if(!e.href||!v())return!1;n=!1;try{t=e.sheet,t&&(r=t.cssRules,n=null===r,!n&&r&&(t.insertRule("-curl-css-test {}",0),t.deleteRule(0),n=!0))}catch(o){n="[object Opera]"!=Object.prototype.toString.call(window.opera)&&/security|denied/i.test(o.message)}return n}function a(e){e.onload=e.onerror=b}function f(e){return e.onload==b||!e.onload}function d(e,n,t){C.load||(l(e)?t(e.sheet):f(e)||j(function(){d(e,n,t)},n))}function h(e,n,t){C.error}function p(e,n,t){function o(){f(e)||(a(e),t(e.sheet))}r(e,o),d(e,n,o)}function g(e,n,t){function r(){f(e)||(a(e),t(new Error(B)))}o(e,r),h(e,n,r)}function m(e,n,r,o){var u;u=t(),p(u,o,n),g(u,o,r),u.href=e;var i=I.getElementById("__wrm_injection_point")||w;i.appendChild(u)}function v(){return!I.readyState||"complete"==I.readyState}function y(e,n){return e.lastIndexOf(".")<=e.lastIndexOf("/")?e+"."+n:e}function b(){}var w,S,E="createElement",j=e.setTimeout,I=e.document,O=I&&I.createStyleSheet&&!(I.documentMode>=10),R=[],T=[],_=[],x=12,B="HTTP or network error.",C={};I&&(w=I.head||I.getElementsByTagName("head")[0],S=O?u:m),WRM.define("curl/plugin/css",{normalize:function(e,n){var t,r;if(!e)return e;t=[e],r=[];for(var o=0,u=t.length;o<u;o++)r.push(n(t[o]));return r.join(",")},load:function(e,n,r,o){function u(e){s.length>1&&c.push(e),0==--f&&r(1==s.length?e:c)}function i(e){var n;(n=r.reject||function(e){throw e})(e)}var c,s,l,a,f,d;for(c=[],s=[e||""],l=o.cssWatchPeriod||50,a=o.cssNoWait,f=s.length,d=0;d<s.length;d++){e=s[d];var h,p;h=y(n.toUrl(e),"css"),a?(p=t(),p.href=h,w.appendChild(p),u(p.sheet||p.styleSheet)):S(h,u,i,l)}},"plugin-builder":"./builder/css",pluginBuilder:"./builder/css"})}(this);
//# sourceMappingURL=curl-css-0.7.3-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'atlassian-plugins-webresource-rest/js/wrm/lib/curl-js-0.7.3.js' */
!function(e,t,n){WRM.define("curl/plugin/js",["curl/_privileged"],function(e){"use strict";function r(e,t){return e.lastIndexOf(".")<=e.lastIndexOf("/")?e+"."+t:e}function o(t,r,o){function i(){f=!0,t.exports&&(t.resolved=n(t.exports)),!t.exports||t.resolved?r(a):o()}function u(e){f=!0,o(e)}function c(){f||(s<new Date?o():setTimeout(c,10))}var s,f,a;s=(new Date).valueOf()+(t.timeoutMsec||3e5),o&&t.exports&&setTimeout(c,10),a=e.core.loadScript(t,i,u)}function i(e,t){o(e,function(){var n=f.shift();c=f.length>0,n&&i.apply(null,n),t.resolve(e.resolved||!0)},function(e){t.reject(e)})}var u,c,s={},f=[],a=t&&1==t.createElement("script").async;return u=e.Promise,{dynamic:!0,normalize:function(e,t,n){var r=e.indexOf("!");return r>=0?t(e.substr(0,r))+e.substr(r):t(e)},load:function(e,t,n,l){function d(e){(n.error||function(e){throw e})(e)}var p,m,x,h,v,O,y;p=e.indexOf("!order")>0,m=e.indexOf("!exports="),x=m>0&&e.substr(m+9),h=!("prefetch"in l)||l.prefetch,e=p||m>0?e.substr(0,e.indexOf("!")):e,v=r(t.toUrl(e),"js"),v in s?s[v]instanceof u?s[v].then(n,d):n(s[v]):(O={name:e,url:v,order:p,exports:x,timeoutMsec:l.timeout},s[v]=y=new u,y.then(function(e){s[v]=e,n(e)},d),p&&!a&&c?(f.push([O,y]),h&&(O.mimetype="text/cache",o(O,function(e){e&&e.parentNode.removeChild(e)},function(){}),O.mimetype="")):(c=c||p,i(O,y)))}}})}(this,this.document,function(){try{return eval(arguments[0])}catch(ex){return}});
//# sourceMappingURL=curl-js-0.7.3-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/jquery.js' */
WRM.define("wrm/jquery",function(){var e;if("undefined"!=typeof AJS&&"undefined"!=typeof AJS.$?e=AJS.$:"undefined"!=typeof $?e=$:"undefined"!=typeof jQuery&&(e=jQuery),void 0===e)return void console.error("Could not find AJS.$, $ or jQuery, which is required by WRM");var r=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]];return e.__then__=function(n,o,i,t){var f=[o,i,t];return e.Deferred(function(o){e.each(r,function(r,i){var t=i[0],u=f[r];n[i[1]](e.isFunction(u)?function(){var r=u.apply(this,arguments);r&&e.isFunction(r.promise)?r.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[t+"With"](this===n?o:this,[r])}:o[t])}),f=null}).promise()},e});
//# sourceMappingURL=jquery-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/underscore.js' */
WRM.define("wrm/_",function(){var r={each:function(r,n){if(r.length===+r.length)for(var t=0;t<r.length;++t)n(r[t]);else for(var e in r)r.hasOwnProperty(e)&&n(r[e],e)},isArray:function(r){return"[object Array]"==Object.prototype.toString.call(r)},toArray:function(r){var n=[];return r.forEach&&r.forEach(function(r){n.push(r)}),n}};return r});
//# sourceMappingURL=underscore-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/loaded-resources-cache.js' */
var _slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(u){a=!0,o=u}finally{try{!n&&i["return"]&&i["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();WRM.define("wrm/loaded-resources-cache",["wrm/jquery","wrm/_"],function(e,t){var r="data-wrm-key",n="data-wrm-batch-type",a=new Set;a.add("resource"),a.add("context");var o=[{batchType:"resource",alternateBatchType:"context"},{batchType:"context",alternateBatchType:"resource"}],c=function(){var c={},i={},u={context:new Set,resource:new Set},s={context:{},resource:{}},f=function(t,r,n){if(!a.has(r))return void console.warn("Unknown batch type: "+r);var o=s[r][t];if(o)o.resolve&&(n.then?e.__then__(n,o.resolve,o.reject):n&&o.resolve());else if(n.then){var c=e.Deferred();e.__then__(n,c.resolve,c.reject),s[r][t]=c}else n?s[r][t]=e.when():s[r][t]=e.Deferred()},h=function(e,t){return a.has(t)?void u[t].add(e):(console.warn("Unknown batch type: "+t),null)},d=function(e){var t=e.split(",");return t.filter(function(e){return e.length>0&&"-"!==e[0]})},l=function(){var e=[];Object.entries(i).forEach(function(t){var r=_slicedToArray(t,2),n=r[0],a=r[1],o=c[n];o&&(o.forEach(function(e){var t=e.match(/_context:(.*)|(.*)/),r=_slicedToArray(t,3),n=r[1],o=r[2];if(n)f(n,"context",a);else{var c=s.context[o]?"context":"resource";f(o,c,a)}}),e.push(n))}),e.forEach(function(e){delete c[e],delete i[e]})},v=function(e,t,r){var n=d(e);return n.forEach(function(e){f(e,t,r),h(e,t)}),i[e]=r,l(),n},y=function(){var t=e("script[data-wrm-key][data-wrm-batch-type]"),a=e("link[data-wrm-key][data-wrm-batch-type]"),o=function(t){t&&t.each&&t.each(function(t,a){var o=a.getAttribute(r),c=a.getAttribute(n),u=d(o);u.forEach(function(e){f(e,c,!0),h(e,c)}),i[o]=e.when()})};o(t),o(a),l()},w=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={resource:[],context:[]},a=[];return o.forEach(function(e){var o=e.batchType,c=e.alternateBatchType;if(t[o])for(var i=0;i<t[o].length;i++){var u=t[o][i],f=s[o][u],h=r&&s[c][u],d=f||h;d?a.push(d):n[o].push(u)}}),{cachedResourcesPromise:e.when.apply(e,a),uncachedResources:n}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.resource,n=void 0===r?[]:r,a=e.context,o=void 0===a?[]:a,c=t.toArray(u.resource),i=t.toArray(u.context);if(0===c.length&&0===i.length)return{resource:c,context:i};var s=new Set;n.forEach(function(e){return s.add(e)});var f=new Set;return o.forEach(function(e){return f.add(e)}),{resource:c.filter(function(e){return!s.has(e)}),context:i.filter(function(e){return!f.has(e)})}},m=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.js,r=void 0===t?{}:t,n=e.css,a=void 0===n?{}:n;Object.entries(r).concat(Object.entries(a)).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];c[r]||(c[r]=new Set),n.forEach(function(e){return c[r].add(e)})}),l()};if(WRM.data){var t=WRM.data.claim("_wrmBatchContents");t&&e(t),WRM.data.claim("_wrmBatchContents",e)}else console.error("WRM data layer is missing, WRM resource cache will not initialise properly")};return m(),{update:f,addBatch:v,addDomElementsToCache:y,addToExclusionLists:h,getCachedResources:w,getExclusionLists:p}};return c});
//# sourceMappingURL=loaded-resources-cache-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/resource-batch-fetcher.js' */
WRM.define("wrm/resource-batch-fetcher",["wrm/jquery","wrm/_"],function(e,r){var s=function(){var s=function(r){var s=e.Deferred();return e.ajax({url:AJS.contextPath()+"/rest/webResources/1.0/resources",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({r:r.resources,c:r.contexts,xc:r.excludedContexts||[],xr:r.excludedResources||[]}),success:s.resolve,error:s.reject}),s},n=function(r){return e("script[src='"+r+"']").length>0},a=function(r){return e("link[href='"+r+"']").length>0},o=function(r){console.warn("Asynchronously loading a CSS resource containing a media query: "+r.url);var s='<link rel="stylesheet" type="text/css" href="'+r.url+'" media="'+r.media+'" />';e(s).appendTo("head")},t=function(r,s,o,t){var c=r.url,u=r.key,i=r.batchType,d=r.resourceType,l=r.media,p=function(r){var n=e.Deferred();WRM.curl([r],n.resolve,n.reject);var a=n.promise();s[u]||(s[u]=[]),s[u].push({resourceType:d,batchType:i,promise:a}),o.push(a)};if("JAVASCRIPT"===d){if(!n(c)){var f="js!"+c+"!order";p(f,i,d)}}else if("CSS"===d){if(!a(c))if(l&&"all"!==l)t.push(r);else{var w="css!"+c;p(w,i,d)}}else console.warn("Unknown resource type required: "+c)},c=function(s){s.unparsedData&&(window.WRM._unparsedData||(window.WRM._unparsedData={}),r.each(s.unparsedData,function(e,r){window.WRM._unparsedData[r]=e}),window.WRM._dataArrived&&window.WRM._dataArrived()),s.unparsedErrors&&(window.WRM._unparsedErrors||(window.WRM._unparsedErrors={}),r.each(s.unparsedErrors,function(e,r){window.WRM._unparsedErrors[r]=e}),window.WRM._dataArrived&&window.WRM._dataArrived());var n=s.resources.reduce(function(e,r){var s=e.batchPromises,n=e.cssMediaResources,a=e.allPromises;return t(r,s,a,n),e},{batchPromises:{},cssMediaResources:[],allPromises:[]}),a=n.batchPromises,c=n.cssMediaResources,u=n.allPromises;return e.__then__(e.when.apply(e,u),function(){c.forEach(function(e){o(e)})}),a};return{fetchResourceBatchDetails:s,fetchResourceBatches:c}};return s});
//# sourceMappingURL=resource-batch-fetcher-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/resource-batch-fetcher-cached.js' */
WRM.define("wrm/resource-batch-fetcher-cached",["wrm/jquery","wrm/resource-batch-fetcher","wrm/loaded-resources-cache"],function(e,r,t){var c=this,o=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),s=r(),n=function(r,t){var c=[],s={context:new Set,resource:new Set};Object.keys(t).forEach(function(r){var n=t[r],u=n.map(function(e){var r=e.promise;return r}),a=n[0].batchType,i=e.when.apply(e,u),h=o.addBatch(r,a,i);h.forEach(function(e){return s[a].add(e)}),c.push(i)});var n=e.when.apply(e,c);return r.contexts.filter(function(e){return!s.context.has(e)}).forEach(function(e){o.addToExclusionLists(e,"context"),o.update(e,"context",n)}),r.resources.filter(function(e){return!s.resource.has(e)}).forEach(function(e){o.addToExclusionLists(e,"resource"),o.update(e,"resource",n)}),n},u=function(r,t){r.resources.forEach(function(e){return o.update(e,"resource",!1)}),r.contexts.forEach(function(e){return o.update(e,"context",!1)});var s=t();return s.resourceBatchDetailsPromise.fail(function(){for(var t=arguments.length,s=Array(t),n=0;n<t;n++)s[n]=arguments[n];var u=e.Deferred().rejectWith(c,s);return r.resources.forEach(function(e){return o.update(e,"resource",u)}),r.contexts.forEach(function(e){return o.update(e,"context",u)}),u}),s},a=function(e,r){var t=s.fetchResourceBatches(r);return n(e,t)},i=function(r){return u(r,function(){var t=s.fetchResourceBatchDetails(r),c=e.__then__(t,function(e){return a(r,e)});return{resourceBatchDetailsPromise:t,resourceBatchesLoadedPromise:c}})},h=function(r,t){return u(r,function(){var c=e.Deferred();c.resolve(t);var o=e.__then__(c,function(){return a(r,t)});return{resourceBatchDetailsPromise:c,resourceBatchesLoadedPromise:o}})},d=function(r){o.addDomElementsToCache(window.document);var t=o.getCachedResources({resource:r.resources,context:r.contexts}),c=t.cachedResourcesPromise,s=t.uncachedResources,n=o.getExclusionLists();if(0===s.context.length&&0===s.resource.length)return{resourceBatchDetailsPromise:c,resourceBatchesLoadedPromise:c};var u=i({resources:s.resource,contexts:s.context,excludedResources:n.resource,excludedContexts:n.context}),a=u.resourceBatchDetailsPromise,h=u.resourceBatchesLoadedPromise;return{resourceBatchDetailsPromise:a.then(function(){}),resourceBatchesLoadedPromise:e.when(h,c)}},f=function(e){o.addDomElementsToCache(window.document);var r=o.getExclusionLists({context:e.excludedContexts||[],resource:(e.excludedResources||[]).concat(e.resources)}),t=i({resources:e.resources,contexts:e.contexts,excludedContexts:r.context,excludedResources:r.resource}),c=t.resourceBatchDetailsPromise,s=t.resourceBatchesLoadedPromise;return{resourceBatchDetailsPromise:c.then(function(){}),resourceBatchesLoadedPromise:s}};return{fetchResourcesCached:d,fetchResourcesUncached:f,fetchBatchesAndUpdateCache:a,fetchBatchesAndUpdateCacheWithPreloadedDetails:h}};return o});
//# sourceMappingURL=resource-batch-fetcher-cached-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/require-handler-v2.js' */
var _slicedToArray=function(){function e(e,r){var t=[],n=!0,c=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(i){c=!0,o=i}finally{try{!n&&a["return"]&&a["return"]()}finally{if(c)throw o}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();WRM.define("wrm/require-handler-v2",["wrm/jquery","wrm/_","wrm/loaded-resources-cache","wrm/resource-batch-fetcher-cached"],function(e,r,t,n){var c=this,o=/^wrc!(.*)$|^(?:.*!)?(.*)$/,u=function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),a=n(u),i=null,s=null,d=function(e,r){s||(s={resources:{resource:new Set,context:new Set},registeredCallbacks:[]}),e.resource.forEach(function(e){return s.resources.resource.add(e)}),e.context.forEach(function(e){return s.resources.context.add(e)}),r&&s.registeredCallbacks.push(r)},h=function(){var e=s;if(!e)throw Error("Cannot pick up an empty waitlist");s=null;var t=a.fetchResourcesCached({resources:r.toArray(e.resources.resource),contexts:r.toArray(e.resources.context)});return e.registeredCallbacks.forEach(function(e){return e(t)}),t},f=function A(){if(!i){s&&(i=h());var r=function(){i=null,A()};i&&e.__then__(i.resourceBatchDetailsPromise,r,r)}},l=function(e){var r=u.getCachedResources(e),t=r.uncachedResources,n=r.cachedResourcesPromise;return t.resource.length||t.context.length?null:n},w=function(r){var t=l(r);if(t)return t;var n=e.Deferred();return d(r,n.resolve.bind(n)),f(),e.__then__(n,function(e){return e.resourceBatchesLoadedPromise})},v=function(e){return e.reduce(function(e,r){var t=r.match(o),n=_slicedToArray(t,3),c=n[1],u=n[2];return c&&e.context.push(c),u&&e.resource.push(u),e},{resource:[],context:[]})},_=function(t){r.isArray(t)||(t=[t]);var n=v(t),c=e.Deferred(),o=function(){var r=w(n);e.__then__(r,c.resolve,c.reject)};return window.WRM&&window.WRM.InOrderLoader?window.WRM.InOrderLoader.registerAllResolvedCallback(o):o(),c},y=function(e){return _(e)},m=function(r,t){var n=e.Deferred();return e.__then__(_(r),function(){return n.resolveWith(c,r.map?r.map(function(){return window}):[window])},n.reject),t&&n.done(t),n},p=function(t,n,o){r.isArray(t)||(t=[t]);var u=v(t),i=e.Deferred();return e.__then__(a.fetchBatchesAndUpdateCacheWithPreloadedDetails({resources:r.toArray(new Set(u.resource)),contexts:r.toArray(new Set(u.context))},n).resourceBatchesLoadedPromise,function(){return i.resolveWith(c,t.map?t.map(function(){return window}):[window])},i.reject),o&&i.done(o),i};return{require:y,requireLegacy:m,requireWithPrefetch:p,fetchBatchesAndUpdateCache:a.fetchBatchesAndUpdateCache,_cache:u}};return u});
//# sourceMappingURL=require-handler-v2-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/require-handler-v2-to-v1-adapter.js' */
WRM.define("wrm/require-handler",["wrm/require-handler-v2"],function(r){return function(e){var i=r(e);this.requireHandlerV2=i,this.require=i.requireLegacy}});
//# sourceMappingURL=require-handler-v2-to-v1-adapter-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/stats-accumulator.js' */
WRM.define("wrm/stats-accumulator",function(){var _=function(_,r){null==r[_]?r[_]=1:r[_]+=1},r=function(){return{requests:0,resources:{}}},n=function(){return null==window.__WRM_INTERNAL_STATS__?window.__WRM_INTERNAL_STATS__={WRMRequire:r()}:null==window.__WRM_INTERNAL_STATS__.WRMRequire&&(window.__WRM_INTERNAL_STATS__.WRMRequire=r()),window.__WRM_INTERNAL_STATS__.WRMRequire},e=function(){return window.__WRM_INTERNAL_STATS__&&window.__WRM_INTERNAL_STATS__.isPageInteractive},u=function(r){try{if(e())return;var u=n();u.requests+=1,Array.isArray(r)?r.forEach(function(r){return _(r,u.resources)}):null!=r&&_(r,u.resources)}catch(t){}};return{saveStats:u}});
//# sourceMappingURL=stats-accumulator-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:require-handler-v2', location = 'atlassian-plugins-webresource-rest/js/wrm/index-v2.js' */
WRM.curl(["wrm/require-handler","wrm/loaded-resources-cache","wrm/stats-accumulator"],function(r,e,n){var u=e(),i=void 0,t=function(){return i||(i=new r(u)),i};WRM.require=function(r,e){return n.saveStats(r),t().require(r,e)},"function"==typeof define&&(define("wrm/require",[],function(){return WRM.require}),define("wrm/require-v2",[],function(){var r=function(r){return n.saveStats(r),t().requireHandlerV2.require(r)},e=function(r,e,n){return t().requireHandlerV2.requireWithPrefetch(r,e,n)};return{require:r,requireWithPrefetch:e}}),define("wrm/require-handler-wrapper",[],function(){return{getRequireHandler:function(){return i}}}))});
//# sourceMappingURL=index-v2-min.js.map
;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-plugin/probe.js' */
!function(){var n,t,e,r,i,o,u,a,c,s,f,l,h,d,y,p,v,m,w;n=function(){return window}(),t=function(n){return!(!n.performance||!n.performance.now)}(n),e=[],r=function(n){return function(t){n.unshift({addReporter:t})}}(e),i=function(n){return function(t){for(;n.length;)t(n.splice(0,1)[0]);n.unshift=t,n.push=t}}(e),o=function(n,t){return function(e){n.push({end:{key:e.key,timestamp:t.performance.now()}})}}(e,n),u=function(n){return n.document}(n),a=function(n){return n.Promise}(n),c=function(){function n(){this._={}}var t=function(e){var r=e[0],i=e[1];i instanceof n?e.length>=3?Object.keys(i._).forEach(function(n){t([r,i._[n],n].concat(e.slice(2)))}):Object.keys(i._).forEach(function(n){t([r,i._[n],n])}):Array.isArray(i)&&r.apply(null,[i].concat(e.slice(2)))};n.prototype.forEach=function(n){t([n,this])},n.prototype.add=function(){for(var t=this,e=null,r=null,i=0;i<arguments.length;i++){if(r=arguments[i],i===arguments.length-1&&Array.isArray(t)){t.push(r);break}i<arguments.length-2&&!t._.hasOwnProperty(r)?t._[r]=new n:i!==arguments.length-2||t._.hasOwnProperty(r)||(t._[r]=[]),t=t._[r],e=r}};var e=function(n,t){if(0!==n.length){var r=n.pop(),i=r[0],o=r[1];i===t?e(n,i):o._.hasOwnProperty(t)&&delete o._[t],0===Object.keys(o).length&&e(n,i)}};return n.prototype.remove=function(){for(var n,t=!1,r=null,i=this,o=[[r,i]],u=null,a=0;a<arguments.length;a++)if(u=arguments[a],Array.isArray(i))n=i.indexOf(u),n>-1&&(i.splice(n,1),0===i.length&&o.length>1&&e(o,r),t=!0);else{if(!i._.hasOwnProperty(u))break;a===arguments.length-1&&(delete i._[u],0===Object.keys(i).length&&o.length>1&&e(o,r),t=!0),r=u,i=i._[u],o.push([r,i])}return t},n.prototype.get=function(n){return this._.hasOwnProperty(n)?this._[n]:[]},n}(),s=function(n,t,e,r){function i(n){return!n||null==n||"null"===n||"undefined"===n}function o(t,e,r){l||(c.observe(n,{attributes:!0,childList:!0,subtree:!0}),l=!0),s.add(t,e,r)}function u(t,e){var r=n.querySelectorAll(t);return r.length&&(i(e)||Array.prototype.every.call(r,function(n){return!n.querySelector(e)}))}function a(n,e){var r;n.forEach||(n=[n]),!i(e)&&Array.isArray(e)&&(e=e.join(", "));var a=new t(function(i,a){var c=[],f=[];n.forEach(function(n){var r,i;u(n,e)||(r=new t(function(t){o(n,e,t),i=function(){s.remove(n,e,t)},f.push(i)}),c.push(r))});var l=function(){f.forEach(function(n){n()})};t.all(c).then(l).then(i,a),r=function(){l(),a()}});return a.dismiss=r,a}var c,s,f=r.MutationObserver,l=!1;return f&&t?(s=new e,c=new f(function(){s.forEach(function(n,t,e){u(e,t)&&(n.forEach(function(n){n()}),s.remove(e,t))})}),a):void 0}(u,a,c,n),f=function(n){return!!n}(s),l=function(n){function t(){c(),n.body.classList.add(u)}function e(){function e(){n.body.classList.remove(u),n.removeEventListener(i,s),n.removeEventListener(o,c),r=null}if(r)return r;var c,s,f=!1;return r=new Promise(function(e,r){"visible"!==n.visibilityState?r():(s=function(){f=!0},c=function(n){n.animationName===a&&(f?r():e())},n.addEventListener(i,s),n.addEventListener(o,c),t())}),r.then(e,e),r}var r,i="visibilitychange",o="animationend",u="browser-metrics-visibility-test",a="browser-metrics-visibility-animation",c=function(){var t=n.createElement("style"),e=["."+u+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+a+";","animation-name: "+a+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+a+" {}","@-webkit-keyframes "+a+" {","from {}","to {}","}"].join("\n");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(n.createTextNode(e)),n.head.appendChild(t),c=function(){}};return e}(u),h=function(n,t,e,r,i){function o(n){return Array.isArray(n)||(n=[n]),n.map(function(n){return"string"==typeof n?{selector:n,hasNone:null}:n})}function u(n){return Array.isArray(n)||"string"==typeof n}function a(n){return u(n)&&(n={rules:n}),n.rules=o(n.rules),n.requirePaint="undefined"==typeof n.requirePaint?!1:n.requirePaint,n}return function(i,o){if(n){i=a(i);var u=function(){},c=new e(function(n,r){var o=[],a=i.rules.map(function(n){var e=new t(n.selector,n.hasNone);return o.push(function(){e.dismiss()}),e});u=function(){o.forEach(function(n){n()}),r()},e.all(a).then(function(n){}).then(n,r)});return c.cancel=u,i.requirePaint&&(c=c.then(r)),"function"==typeof o&&c.then(o),c}}}(f,s,a,l,n),d=function(n,t){function e(){return r}var r=!1;return n.addEventListener("DOMContentLoaded",function(){t.setTimeout(function(){r=!0})}),e}(u,n),y=function(n,t,e,r,i,o,u){function a(){c=null}var c;return function(o){var s="isInitial"in o?o.isInitial:i()===!1,f="threshold"in o?o.threshold:1e3,l="reporters"in o?o.reporters:[];r.push({start:{key:o.key,isInitial:s,threshold:f,timestamp:s?0:u.performance.now(),reporters:Array.isArray(l)?l:[l]}}),c&&(c.cancel(),a()),o.ready&&e&&(c=n(o.ready),c.then(function(){t({key:o.key})}).then(a,a))}}(h,o,f,e,d,a,n),p=function(n){return function(t){n.push({subscribe:t})}}(e),v=function(){return window}(),m=function(n){return n.performance}(v),w=function(n,t,e,r,i,o,u){var a=function(){};return u?{start:n?i:a,end:n?r:a,addReporter:n?t:a,delegateTo:n?e:a,subscribe:n?o:a}:void 0}(t,r,i,o,y,p,m),window["browser-metrics"]=w,window.define&&window.define("internal/browser-metrics",function(){return w})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-plugin/internal/browser-metrics-aa-beacon.js' */
!function(){var e={};e=function(e){function n(e,n){Object.keys(n).forEach(function(r){e[r]=n[r]})}Object.defineProperty(e,"__esModule",{value:!0});var r,t=[],o=[];return e.addUrlCleaner=function(e){o.push(e)},e.cleanUrl=function(e){return o.reduce(function(n,r){var t=r(e);return t.length>n.length?t:n},"")},e.addReportMarshaller=function(e){t.push(e)},e.setEventQueue=function(e){r=e},e.beacon=function(e){var o={};t.forEach(function(r){var t=r(e);"object"==typeof t&&n(o,t)});var a={name:"browser.metrics.navigation",properties:o};(r||AJS.EventQueue).push(a)},e}(e),window["browser-metrics-aa-beacon"]=e,window.define&&window.define("internal/browser-metrics-aa-beacon",function(){return e})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-plugin/loader.js' */
!function(){var n={},r={};r=function(n,r,i){function e(){t===c&&l&&(l(),l=null)}Object.defineProperty(n,"__esModule",{value:!0});var t=0,c=0,l=null,o={install:function(n){t+=1,n(function(){c+=1,e()})}};return r["browser-metrics-plugin"]=o,i.require(["wrc!com.atlassian.jira.plugins.jira-browser-metrics:contrib","wrc!com.atlassian.plugins.browser.metrics.browser-metrics-plugin:impl"],function(){r.require(["internal/browser-metrics-plugin/collector"],function(n){l=function(){n.install()},e()})}),n}(r,n=window,n.WRM)}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/global-sidebar-api.js' */
!function(){var n,e=new Promise(function(e){n=e});e.done=function(n){return this.then(n)},AJS.namespace("JIRA.API"),JIRA.API.getSidebar=function(){return e},define("jira/globalnavigator/sidebar/bridge",function(){return function(e){n(e)}}),define("jira/globalnavigator/sidebar",function(){return e})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/imperative-api.js' */
!function(){var n,i=new Promise(function(i){n=i});AJS.namespace("JIRA.API"),JIRA.API.getNavigationApi=function(){return i},define("jira/navigation/bridge",function(){return function(i){n(i)}}),define("jira/navigation",function(){return i})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/check-both-apis.js' */
!function(){require(["jira/globalnavigator/sidebar","jira/navigation","jira/analytics"],function(i,a,n){Promise.all([i,a]).then(function(){n.send({name:"navigation.imperative-api.both-apis-resolves"})})})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/favourite-imperative-api.js' */
!function(){var e,n=new Promise(function(n){e=n});AJS.namespace("JIRA.API"),JIRA.API.getFavouriteItemsApi=function(){return n},define("jira/favouriteItems",function(){return n}),define("jira/favouriteItems/bridge",function(){return function(n){e(n)}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:forge', location = 'jira-atlaskit-module/js/forge-api.js' */
!function(){var n,e=new Promise(function(e){n=e});AJS.namespace("JIRA.API"),JIRA.API.getForgeAPI=function(){return e},define("jira/forge/bridge",function(){return function(e){n(e)}}),define("jira/forge",function(){return e})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/utils/index.js' */
!function(){define("jira/container-api/utils",["exports","jira/util/top-same-origin-window","jira/featureflags/feature-manager","jira/util/data/meta"],function(e,a,n,t){e.isInSpaIframe=function(){return!1},e.getIframeDatasetValue=function(e){return window.frameElement&&window.frameElement.dataset[e]},e.setIframeDatasetValue=function(e,a){window.frameElement&&(window.frameElement.dataset[e]=a)},e.loadAmdResource=function(e){var n=this.isInSpaIframe()?a(window):window;return new Promise(function(a,t){var i=function(i){i?t(i):n.require(e).then(a).catch(t)};try{var r=n.JIRA_HERITAGE;r&&"function"==typeof r.onReady?r.onReady(i):i()}catch(e){t(e)}})}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/navigation/index.js' */
!function(){define("jira/container-api/apis/navigation",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/navigation")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/favourite/index.js' */
!function(){define("jira/container-api/apis/favourite",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/favouriteItems")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/profilecard/index.js' */
!function(){define("jira/container-api/apis/profilecard",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/profilecard")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/team-profilecard/index.js' */
!function(){define("jira/container-api/apis/team-profilecard",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/team-profilecard")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/async-modals/index.js' */
!function(){define("jira/container-api/apis/async-modals",["jira/container-api/utils"],function(n){return function(){return n.loadAmdResource("jira/async-modals")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/forge/index.js' */
!function(){define("jira/container-api/apis/forge",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/forge")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/modal/index.js' */
!function(){define("jira/container-api/apis/modal",[],function(){var n=!1;return{modalOpen:function(){n=!0},modalClose:function(){n=!1},getIsModalOpen:function(){return n}}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/ipblocklisting/index.js' */
!function(){define("jira/container-api/apis/ipblocklisting",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/global-components/ipblocklisting")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/index.js' */
!function(){define("jira/container-api/apis",["jira/container-api/apis/navigation","jira/container-api/apis/favourite","jira/container-api/apis/profilecard","jira/container-api/apis/team-profilecard","jira/container-api/apis/async-modals","jira/container-api/apis/modal","jira/container-api/apis/ipblocklisting","jira/container-api/apis/forge"],function(i,a,r,n,e,o,t,p){return{getNavigationAPI:i,getFavouriteAPI:a,getProfilecardAPI:r,getTeamProfileCardAPI:n,getAsyncModalsAPI:e,modal:o,getIPBlocklistApi:t,getForgeAPI:p}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/index.js' */
!function(){define("jira/container-api",["@atlassian/spa-iframe","internal/browser-metrics","jira/container-api/utils","jira/container-api/apis"],function(a,e,i,n){var r=a.ContainerAPI({browserMetrics:e,isIframe:i.isInSpaIframe(),postponeMessageChannelInit:!0});r.APIs=n,r.utils={getUuid:i.getIframeDatasetValue.bind(i,"uuid")};var t=r.sendRFU;return r.sendRFU=function(a){var e=i.getIframeDatasetValue("uuid"),n="false"!==i.getIframeDatasetValue("isInitial"),s=window.performance&&performance.timing&&performance.timing.navigationStart,o=Object.assign({},a,{reporters:[].concat(a.reporters).concat(function(a){return{iframeUuid:e,isInitialSpaLoad:n,readyForUserTimestamp:s?s+a.end:void 0,navigationStartTimestamp:s}})});return t.call(r,o)},r})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/ui/notification/Notification.soy' */
// This file was automatically generated from Notification.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.notification.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.notification == 'undefined') { GH.tpl.rapid.notification = {}; }


GH.tpl.rapid.notification.renderErrorMessages = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length > 1) {
    output += '<ul>';
    var errorList6 = opt_data.errors;
    var errorListLen6 = errorList6.length;
    for (var errorIndex6 = 0; errorIndex6 < errorListLen6; errorIndex6++) {
      var errorData6 = errorList6[errorIndex6];
      output += '<li>' + ((errorData6.noAutoescape) ? soy.$$filterNoAutoescape(errorData6.message) : soy.$$escapeHtml(errorData6.message)) + '</li>';
    }
    output += '</ul>';
  } else {
    var errorList18 = opt_data.errors;
    var errorListLen18 = errorList18.length;
    for (var errorIndex18 = 0; errorIndex18 < errorListLen18; errorIndex18++) {
      var errorData18 = errorList18[errorIndex18];
      output += '<p>' + ((errorData18.noAutoescape) ? soy.$$filterNoAutoescape(errorData18.message) : soy.$$escapeHtml(errorData18.message)) + '</p>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderErrorMessages.soyTemplateName = 'GH.tpl.rapid.notification.renderErrorMessages';
}


GH.tpl.rapid.notification.renderContextualErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList29 = opt_data.errors;
  var errorListLen29 = errorList29.length;
  for (var errorIndex29 = 0; errorIndex29 < errorListLen29; errorIndex29++) {
    var errorData29 = errorList29[errorIndex29];
    output += '<div class="ghx-error">' + soy.$$escapeHtml(errorData29.message) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderContextualErrors.soyTemplateName = 'GH.tpl.rapid.notification.renderContextualErrors';
}


GH.tpl.rapid.notification.renderMessageHolder = function(opt_data, opt_ignored) {
  return '<div class="ghx-body-warning">' + soy.$$escapeHtml(AJS.format('This version of {0} is not a supported browser.',opt_data.browser)) + ' <a href="' + soy.$$escapeHtml(opt_data.docsUrl) + '">' + soy.$$escapeHtml('See our documentation for the list of supported browsers.') + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderMessageHolder.soyTemplateName = 'GH.tpl.rapid.notification.renderMessageHolder';
}


GH.tpl.rapid.notification.renderAuiMessage = function(opt_data, opt_ignored) {
  return '<div id="ghx-global-message" class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ((opt_data.className) ? ' ' + soy.$$escapeHtml(opt_data.className) : '') + '">' + ((opt_data.title) ? '<p class="title">' + ((opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' : '') + ((opt_data.message) ? '<p>' + ((! opt_data.title && opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + ((opt_data.messageHtml) ? soy.$$filterNoAutoescape(opt_data.message) : soy.$$escapeHtml(opt_data.message)) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderAuiMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderAuiMessage';
}


GH.tpl.rapid.notification.renderGHtvMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div id="ghx-update-message" class="ghx-tv-message"><p>' + soy.$$escapeHtml('This board has been updated') + ': <a href="" class="js-refresh-now">' + soy.$$escapeHtml('Refresh') + '</a>' + ((opt_data.showIgnore) ? '<span class="ghx-divider">&bull;</span><a href="" class="js-ignore-refresh">' + soy.$$escapeHtml('Ignore') + '</a>' : '') + '</p></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderGHtvMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderGHtvMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/Events.js' */
define("jira-agile/rapid/events",["require"],function(t){var r=t("underscore");function n(t){return t?r.extend(t,n.prototype):t=this,t._bindings=[],t}return n.prototype={on:function(t,n,e){return e&&this._off({type:t,context:e}),this._bindings.push({type:t,handler:n,context:e}),this},off:function(t){return r.isString(t)?this._off({type:t}):r.isFunction(t)?this._off({handler:t}):r.isObject(t)&&this._off({context:t}),this},_off:function(i){this._bindings=r.reject(this._bindings,function(t){var n=!i.type||i.type===t.type,e=!i.context||i.context===t.context,t=!i.handler||i.handler===t.handler;return n&&e&&t})},trigger:function(n){var e=Array.prototype.slice.call(arguments,1);return r.each(this._bindings,function(t){t.type===n&&t.handler.apply(t.context,e)}),this}},n}),AJS.namespace("GH.Events",null,require("jira-agile/rapid/events"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/GlobalEvents.js' */
define("jira-agile/rapid/global-events",["require"],function(e){"use strict";return new(e("jira-agile/rapid/events"))});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/gh-config.js' */
AJS.namespace("GH.Config"),GH.Config.isSampleDataAvailable=!1,GH.Config.setSampleDataAvailable=function(a){GH.Config.isSampleDataAvailable=a};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/Ajax.js' */
define("jira-agile/rapid/ajax",["jira/util/top-same-origin-window"],function(n){"use strict";var s={};s.CONTEXT_PATH=AJS.contextPath(),s.REST_URL_BASE="/rest/greenhopper/1.0",s.PUBLIC_REST_URL_BASE="/rest/agile/1.0";var r;require("jira/featureflags/feature-manager");return s.xhrRegistery={},s.stallTimeout=300,s.get=function(e,r){return AJS.$.extend(e,{type:"GET",headers:{"X-Atlassian-GreenHopper-Gadget":!_.isUndefined(GH.gadget)}}),s._executeGet(e,r).pipe(function(e,r,t){return AJS.$.Deferred().resolveWith(this,[e.success,r,t])})},s.post=function(e){return e=s._getSettings(e,!0),AJS.$.extend(e,{type:"POST",contentType:"application/json"}),s._executeStore(e)},s.put=function(e){return(e=s._getSettings(e,!0)).type="PUT",s._executeStore(e)},s.del=function(e){return(e=s._getSettings(e,!0)).type="DELETE",s._executeStore(e)},s._getSettings=function(e,r){return!e.bareUrl&&e.url&&(e.bareUrl=s.buildRestUrl(e.url)),e.bareUrl&&(e.url=e.bareUrl),e.dataType||(e.dataType="json"),e.data&&r&&(e.data=JSON.stringify(e.data)),e.contentType="application/json",e},s._getXhrData=function(e){var r={timestamp:0};return r=e?s.xhrRegistery[e]||(s.xhrRegistery[e]=r):r},s._executeGet=function(e,r){e=s._getSettings(e);var t=s._getXhrData(r);t.xhr&&(t.xhr.abort(),delete t.xhr,delete t.xhrAbort,delete t.timeoutId);var n,o,a=t.timestamp;return t.timestamp=(new Date).getTime(),t.timestamp-a<s.stallTimeout?(n=AJS.$.Deferred(),t.timeoutId=window.setTimeout(function(){(o=s._executeGet(e,r)).then(n.resolve,n.reject)},s.stallTimeout),t.xhr=n.promise(),t.xhr.abort=function(){o?o.abort.apply(o,arguments):clearTimeout(t.timeoutId)}):t.xhr=s.makeRequest(e),t.xhrAbort=t.xhr.abort,t.xhr.abort=function(){var e=t.xhr,r=t.xhrAbort;if(e&&r)return r.apply(e,arguments)},t.xhr.done(function(){t.xhr&&delete t.xhr}).fail(function(){t.xhr&&delete t.xhr}),t.xhr},s._executeStore=function(e){return(e=e||{}).data&&"string"==typeof e.data&&/\?\?/.test(e.data)&&(e.data=e.data.replace(/\?\?/g,"\\u003F\\u003F")),e.dataType="json",s.makeRequest(e)},s.makeRequest=function(e){var r=AJS.$.Deferred();e=_.extend(e,{success:function(){r.resolveWith(this,arguments)},error:function(){r.rejectWith(this,arguments)}});var t=r.promise(JIRA.SmartAjax.makeRequest(e)),n=t.abort;t.abort=function(e){return t.abortMarker="timeout"!==e,n.apply(t,arguments)};var o=t.pipe(s._generateDoneInterceptor(),s._generateFailInterceptor(e.errorsNoAutoEscape));return e.deferErrorHandling||o.fail(s._generateErrorHandler(e.onGlobalError,e.errorContextMap,e.contextualErrorRenderer,e.globalErrorDismissable)),o},s._generateDoneInterceptor=function(){return function(e,r,t){return e=s._createExtendedResult(e=e||{}),s.matchesCurrentUser(t)?e.isSuccess()?AJS.$.Deferred().resolveWith(this,[e,r,t]):AJS.$.Deferred().rejectWith(this,[e,t,r,null]):s._handleCurrentUserChanged(t)}},s._generateFailInterceptor=function(a){return function(e,r,t){if(e.abortMarker)return AJS.$.Deferred();if(!s.matchesCurrentUser(e))return s._handleCurrentUserChanged(e);var n={},o=null;if(e.responseText)try{n=JSON.parse(e.responseText)}catch(e){}return n.errors||n.errorMessages?o=s._convertJiraErrors(n,a):n.message&&(o=s._convertFrameworkErrors(n)),o=o||s._convertGenericErrors(e,t),AJS.$.Deferred().rejectWith(this,[o,e,r,t])}},s.handleContextualErrors=function(o,a,s){return a=a||{},!!o.hasContextualErrors()&&(AJS.$(o.getContextualErrors()).each(function(e,r){var t,n=a[r.contextId];n?AJS.$.isFunction(n)?n(r,o):((n=AJS.$(n)).siblings(".ghx-error").remove(),t=s?s(r):GH.tpl.rapid.notification.renderContextualErrors({errors:r.errors}),n.after(t)):AJS.$(r.errors).each(function(e,r){o.addGlobalError(r)})}),!0)},s.handleGlobalErrors=function(e,r,t){return!!e.hasGlobalErrors()&&(GH.Notification.showErrors({errors:e.getGlobalErrors()},t),r&&r instanceof Function&&r(e),!0)},s.buildRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),s.buildBareRestUrl(s.REST_URL_BASE+e)},s.buildPublicRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),s.buildBareRestUrl(s.PUBLIC_REST_URL_BASE+e)},s.buildBareRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),s.CONTEXT_PATH+e},s._createExtendedResult=function(e){return e?s._extendResult({success:e}):s._extendResult({success:!0})},s._extendResult=function(r){return AJS.$.extend(r,{getGlobalErrors:function(){return r.error?r.error.errors:null},getContextualErrors:function(){return r.error?r.error.contextualErrors:null},hasGlobalErrors:function(){return r.error&&r.error.errors&&0<r.error.errors.length},hasContextualErrors:function(){return r.error&&r.error.contextualErrors},addGlobalError:function(e){r.error||(r.error={}),r.error.errors||(r.error.errors=[]),r.error.errors[r.error.errors.length]=e},getSuccessObject:function(){return r.success},isSuccess:function(){return!r.error}})},s._generateErrorHandler=function(r,t,n,o){return function(e){s.handleContextualErrors(e,t,n),s.handleGlobalErrors(e,r,o)}},s._convertJiraErrors=function(e,t){var r=e.errorMessages||[],r=_.map(r,function(e){return{message:e,noAutoescape:t}}),e=e.errors||{},e=_.map(e,function(e,r){return{contextId:r,errors:[{message:e,noAutoescape:t}]}});return s._extendResult({error:{errors:r,contextualErrors:e}})},s._convertFrameworkErrors=function(e){e={error:{errors:[{message:e.message,name:e.name}],contextualErrors:[]}};return s._extendResult(e)},s._convertGenericErrors=function(e,r){var t=s._extendResult({});return 0===e.status&&"abort"===r?t.addGlobalError({message:"Ajax.error.timeout"}):r&&t.addGlobalError({message:r}),t},s._hasUsernameResponseHeader=function(e){return!!e.getResponseHeader("X-AUSERNAME")},s._hasUserAccountIdResponseHeader=function(e){return!!e.getResponseHeader("X-AACCOUNTID")},s._getUserForResponse=function(e){return e.getResponseHeader("X-AUSERNAME")?decodeURIComponent(e.getResponseHeader("X-AUSERNAME")):"anonymous"},s._getAccountIdForResponse=function(e){return e.getResponseHeader("X-AACCOUNTID")?decodeURIComponent(e.getResponseHeader("X-AACCOUNTID")):"anonymous"},r=require("jira/util/data/meta"),s.getUserFromAJS=function(){var e=r.get("remote-user");return e||"anonymous"},s.getAccountIdFromAJS=function(){var e=r.get("atlassian-account-id");return e||"anonymous"},s.matchesCurrentUser=function(e){return!e.getResponseHeader||!e.getAllResponseHeaders||!s._hasUserAccountIdResponseHeader(e)||s.getAccountIdFromAJS()===s._getAccountIdForResponse(e)||204===e.status&&!e.getAllResponseHeaders()&&AJS.$.browser.msie},s._handleCurrentUserChanged=function(e){s.getUserFromAJS(),s._getUserForResponse(e);var r,t=s.getAccountIdFromAJS(),e=s._getAccountIdForResponse(e);return"anonymous"!==t&&"anonymous"===e?(r=GH.Navigation.getLoginUrl(),require("jira/container-api").navigate(r,function(){location.href=r})):n(window).location.reload(),AJS.$.Deferred()},s});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/ui/notification/Notification.js' */
!function(){function o(){return e(window).document}var e=require("jira/util/top-same-origin-window");AJS.namespace("GH.Notification"),GH.Notification.autoHideEnabled=!0;var t=Object.freeze({INFO:"info",SUCCESS:"success"});GH.Notification.showErrors=function(e,i){var t=GH.Notification.prepareNotificationDiv(),e=GH.tpl.rapid.notification.renderErrorMessages(e);void 0===i&&(i=!0),AJS.messages.error(t,{title:"Error",body:e,closeable:i}),GH.Notification._divStyle(t)&&t.css(GH.Notification._divStyle(t)),t.show()},GH.Notification.showError=function(e,i,t){var o=GH.Notification.prepareNotificationDiv();void 0===t&&(t=!0),AJS.messages.error(o,{title:e,body:i,closeable:t}),GH.Notification._divStyle(o)&&o.css(GH.Notification._divStyle(o)),o.show()},GH.Notification.showWarnings=function(e,i){i=_.extend({},{autoHide:!0,autoHideDelay:5e3,preRendered:!1,showTitle:!1},i);var t=GH.Notification.prepareNotificationDiv(),e=i.preRendered?e:GH.tpl.rapid.notification.renderErrorMessages({errors:e}),e={body:e,closeable:!0};i.showTitle&&(e.title="Warning"),AJS.messages.warning(t,e),GH.Notification._divStyle(t)&&t.css(GH.Notification._divStyle(t)),t.show(),i.autoHide&&GH.Notification.autoHideEnabled&&setTimeout(function(){t.hide()},i.autoHideDelay)},GH.Notification.showWarning=function(e){var i=GH.Notification.prepareNotificationDiv();AJS.messages.warning(i,{body:e,closeable:!0}),GH.Notification._divStyle(i)&&i.css(GH.Notification._divStyle(i)),i.show()},GH.Notification.clear=function(){GH.Notification.prepareNotificationDiv().hide()},GH.Notification.handleDateFormatMismatchError=function(e){var i='<a href="'+GH.Ajax.CONTEXT_PATH+'/secure/admin/AdvancedApplicationProperties.jspa">';i+="Advanced Settings",i+="</a>";i=AJS.format("It appears your Jira date format settings are misconfigured. Please check the {0} and ensure that \'\'jira.date.time.picker.java.format\'\' and \'\'jira.date.time.picker.javascript.format\'\' have matching output.",i);GH.Notification.showWarnings(i,{autoHide:!1,preRendered:!0})},GH.Notification.auiMessage=function(e){e=_.extend({type:"generic",icon:!0,messageHtml:!1},e);return GH.tpl.rapid.notification.renderAuiMessage({type:e.type,title:e.title,icon:e.icon,messageHtml:e.messageHtml,message:e.message})},GH.Notification.Handler={_defaultNotificationHandler:function(){var e=AJS.$("<div/>").addClass("global-msg");return AJS.$(".global-msg",o()).remove(),AJS.$("body",o()).append(e),e},_defaultDivStyleHandler:function(e){return{marginLeft:-e.outerWidth()/2,top:20}},setCustomDivStyleHandler:function(e){this._customDivStyleHandler=e,this._useDefault=!1},_useDefault:!0,setCustomNotificationHandler:function(e){this._customNotificationHandler=e,this._useDefault=!1},removeCustomHandlers:function(){this._useDefault=!0},getNotificationHandler:function(){return this._useDefault||null==this._customNotificationHandler?this._defaultNotificationHandler:this._customNotificationHandler},getDivStyleHandler:function(){return this._useDefault||null==this._customDivStyleHandler?this._defaultDivStyleHandler:this._customDivStyleHandler}},GH.Notification._divStyle=function(e){return GH.Notification.Handler.getDivStyleHandler()(e)},GH.Notification.prepareNotificationDiv=function(){return GH.Notification.Handler.getNotificationHandler()()},GH.Notification.showSuccess=function(e,i){a(t.SUCCESS,e,i)},GH.Notification.showInfo=function(e,i){a(t.INFO,e,i)};var a=function(e,i,t){clearTimeout(GH.Notification.current);t=_.extend({timeout:5e3,closeable:!0,shadowed:!0},t,{body:i});i=GH.Notification.prepareNotificationDiv();AJS.messages[e](i,t),GH.Notification._divStyle(i)&&i.css(GH.Notification._divStyle(i)),i.show(),GH.Notification.autoHideEnabled&&(GH.Notification.current=setTimeout(function(){AJS.$(".global-msg",o()).hide()},t.timeout))};GH.Notification.showIssueMessage=function(e){var i,t,o=JIRA.SessionStorage;(e=e||o.getItem("selectedIssueId"))&&(t=o.getItem("selectedIssueKey"),i=o.getItem("selectedIssueMsg"),GH.Notification.showIssueMessageImpl(e,i,t)),o.removeItem("selectedIssueId"),o.removeItem("selectedIssueKey"),o.removeItem("selectedIssueMsg")},GH.Notification.showIssueMessageImpl=function(e,i,t){i=i||"thanks_issue_updated";i=AJS.params[i];i&&t&&(i=AJS.format(i,t),GH.Notification.showSuccess(i))},GH.Notification.addPageLoadMessage=function(e,i){var t=GH.storage.get("gh.pageloadmessages",!0)||[];t.push({message:e,type:i||"success"}),GH.storage.put("gh.pageloadmessages",t,!0)},GH.Notification._displayPageLoadMessages=function(){var e,i,t=GH.storage.get("gh.pageloadmessages",!0);t&&(e=t[0].type,i="",_.each(t,function(e){0<i.length&&(i+="<br>"),i+=e.message}),"warning"===e?GH.Notification.showWarning(i):GH.Notification.showSuccess(i),GH.storage.put("gh.pageloadmessages",null,!0))};var n=null;GH.Notification.showBoardUpdatedMessage=function(){var e,i=AJS.$.Deferred();0===AJS.$(".aui-flag[aria-hidden=false]").length&&(e=GH.tpl.rapid.notification.renderGHtvMessage({showIgnore:!1}),n=AJS.flag({type:"info",body:e}),AJS.$(e));function t(e){e.preventDefault(),GH.Notification.clearBoardUpdatedMessage(),i.resolve()}return AJS.$(".js-refresh-now").off("click",t).click(t),i.promise()},GH.Notification.clearBoardUpdatedMessage=function(){n&&n.close()},GH.Notification.isBoardUpdatedMessageVisible=function(){return 0<AJS.$("#ghx-update-message").length},AJS.$(document).ready(function(){GH.Notification.showIssueMessage(),GH.storage&&GH.Notification._displayPageLoadMessages()})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/state/storage.js' */
AJS.namespace("GH.storage"),GH.storage.get=function(t,e){t=(e?sessionStorage:localStorage).getItem(t);if("string"!=typeof t)return t;try{return JSON.parse(t)}catch(t){return}},GH.storage.put=function(t,e,r){if(null==e)(r?sessionStorage:localStorage).removeItem(t);else try{(r?sessionStorage:localStorage).setItem(t,JSON.stringify(e))}catch(t){return!1}return!0},window.localStorage&&window.sessionStorage||(GH.storage.get=function(){return null},GH.storage.put=function(){return!1});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/Validation.js' */
AJS.namespace("GH.Validation"),GH.Validation.notBlank=function(t,r,n){return GH.Validation.applyRules(t,r,n,function(){return 0<AJS.$.trim(AJS.$(t).val()).length})},GH.Validation.maxLength=function(t,r,n,a){return GH.Validation.applyRules(t,n,a,function(){return AJS.$.trim(AJS.$(t).val()).length<=r})},GH.Validation.isPositiveInteger=function(t,r,n){return GH.Validation.applyRules(t,r,n,function(){return/^\d*$/.test(AJS.$.trim(AJS.$(t).val()))})},GH.Validation.applyRules=function(t,r,n,a){return t=AJS.$(t),errorCtx=n?AJS.$(n):t,!!a.call(this)||(GH.Validation.showContextualErrors(errorCtx,r),!1)},GH.Validation.showContextualErrors=function(t,r,n,a,i){GH.Validation.clearContextualErrors(t),t.after(GH.tpl.rapid.notification.renderContextualErrors({errors:[{message:AJS.I18n.getText(r,n,a,i)}]}))},GH.Validation.clearContextualErrors=function(t){(t=AJS.$(t)).find(".ghx-error").remove(),t.siblings(".ghx-error").remove()};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/gh-helppaths.js' */
AJS.namespace("GH.HelpPaths"),GH.HelpPaths.getHelpPath=function(e){return null};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/gh-message.js' */
AJS.namespace("GH.Message"),GH.Message.showIssueMessage=function(e){var s,a,t=JIRA.SessionStorage;(e=e||t.getItem("selectedIssueId"))&&(a=t.getItem("selectedIssueKey"),s=t.getItem("selectedIssueMsg"),GH.Message.showIssueMessageImpl(e,s,a)),t.removeItem("selectedIssueId"),t.removeItem("selectedIssueKey"),t.removeItem("selectedIssueMsg")},GH.Message.showIssueMessageImpl=function(e,s,a){s=s||"thanks_issue_updated";s=AJS.params[s];s&&a&&(s=AJS.format(s,a),GH.Message.showSuccess(s))},GH.Message.prepareNotificationDiv=function(){var e=AJS.$("#gh-notification");return 0==e.length&&(e=AJS.$('<div id="gh-notification"></div>'),AJS.$("#gh").append(e)),e.text(""),e},GH.Message.preparePresistentNotificationDiv=function(){var e=AJS.$("#gh-persistent-notification");return 0==e.length&&(e=AJS.$('<div id="gh-persistent-notification"></div>'),AJS.$("#gh").append(e)),e.text(""),e},GH.Message.showSuccess=function(e){var s=GH.Message.prepareNotificationDiv();AJS.messages.success(s,{body:e}),s.show(),setTimeout('AJS.$("#gh-notification").hide()',5e3)},GH.Message.showWarning=function(e){var s=GH.Message.prepareNotificationDiv();AJS.messages.warning(s,{body:e,closeable:!0}),s.show()},GH.Message.showPersistentWarning=function(e){var s=GH.Message.preparePresistentNotificationDiv();AJS.messages.warning(s,{body:e,closeable:!0}),s.show()},GH.Message.addPageLoadMessage=function(e,s){var a=GH.storage.get("gh.pageloadmessages",!0)||[];a.push({message:e,type:s||"success"}),GH.storage.put("gh.pageloadmessages",a,!0)},GH.Message._displayPageLoadMessages=function(){var e,s,a=GH.storage.get("gh.pageloadmessages",!0);a&&(e=a[0].type,s="",_.each(a,function(e){0<s.length&&(s+="<br>"),s+=e.message}),"warning"===e?GH.Message.showWarning(s):GH.Message.showSuccess(s),GH.storage.put("gh.pageloadmessages",null,!0))},AJS.$(document).ready(function(){GH.Message.showIssueMessage(),GH.storage&&GH.Message._displayPageLoadMessages()}),AJS.$(document).ready(function(){var e=AJS.$("#footer"),s=e.find(".footer-body:first ul:first"),e=e.find("#ghx-footer");s.before(e),e.css({visibility:""})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/Util.js' */
AJS.namespace("GH.Util"),GH.Util.getPluginKey=function(){return AJS.$('meta[name="ghx-plugin-key"]').attr("content")},GH.Util.getEdition=function(e){switch(JSON.parse(jQuery('meta[name="ajs-product-editions"]').attr("content"))[e]){case"f":return"jedi";case"s":return"standard";case"p":return"premium";default:return"unlicensed"}},GH.Util.wrapPreventDefault=function(n,r){return function(e){return e.preventDefault(),n.apply(r||this,arguments)}},GH.Util.andThenSplice=function(){return{_needsSplice:Array.prototype.slice.call(arguments)}},GH.Util.andThen=function(o){var e=[{trigger:"resolveWith",on:"done",filter:arguments[1]},{trigger:"rejectWith",on:"fail",filter:arguments[2]},{trigger:"notifyWith",on:"progress",filter:arguments[3]}];return AJS.$.Deferred(function(i){_.each(e,function(e){var n=e.on,r=e.trigger,t=_.isFunction(e.filter)&&e.filter;o[n](function(){var e=t&&t.apply(this,arguments);e&&_.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):(e=e&&_.isArray(e._needsSplice)?e._needsSplice:t?[e]:arguments,i[r](_.isFunction(this.promise)?i.promise():this,e))})})}).promise()},AJS.$._OriginalDeferred=AJS.$.Deferred,AJS.$.Deferred=function(r){return AJS.$._OriginalDeferred(function(n){n.andThen=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),GH.Util.andThen.apply(this,e)};var e=n.promise;n.promise=function(){var n=e.apply(this,arguments);return n.andThen=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),GH.Util.andThen.apply(this,e)},n},r&&r.call(n,n)})},GH.Util.indexOf=function(r,t,i){var o=-1;return i&&(r=r.slice().reverse()),_.some(r,function(e,n){return!!t(e,n)&&(o=i?r.length-1-n:n,!0)}),o},GH.Util.swapArrayItems=function(e,n,r){if(e&&n!==r&&0<=Math.min(n,r)&&Math.max(n,r)<e.length){var t=e[r];return e[r]=e[n],e[n]=t,!0}return!1},GH.Util.moveArrayItems=function(e,n,r){if(e&&n!==r&&0<=Math.min(n,r)&&Math.max(n,r)<e.length){var t=e[n];return e.splice(n,1),e.splice(r,0,t),!0}return!1},GH.Util.roundToDecimalPlaces=function(e,n){if("number"!=typeof e||e===Math.round(e))return e;if(0===n)return Math.round(e);var r=e.toString();if(0<=r.indexOf("e"))return e;var t=e<0,e=r.split("."),r=+e[1].charAt(n);return e[1]=e[1].substr(0,n),(5<r||!t&&5==r)&&(r=/^0*/.exec(e[1])[0],e[1]=r+(+e[1]+1),e[1].length>n&&(r?e[1]=e[1].substr(e[1].length-n):(e[0]=+e[0]+1,e[1]=0))),parseFloat(e.join("."))},GH.Util.promiseCast=function(t){return t&&AJS.$.isFunction(t.promise)?new Promise(function(n,r){t.done(function(e){return n(e)}),t.fail(function(e){return r(t)})}):t&&"function"==typeof t.then?t:new Promise(function(e){return e(t)})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/rapid/UserData.js' */
define("jira-agile/rapid/user-data",["jira/util/data/meta"],function(e){"use strict";var r={};return r.remoteUser=e.get("remote-user"),r.loggedIn=!!r.remoteUser,r.hasUser=function(){return r.loggedIn},r.getUserName=function(){return r.remoteUser},r.canCreateProject=function(){return r.userConfig.canCreateProject},r.canCreateBoard=function(){return r.userConfig&&r.userConfig.canCreateBoard},r.setGlobalConfig=function(e){r.quickCreateDefaultIssueTypeId=e.quickCreateDefaultIssueTypeId,r.setUserConfig(e.userConfig)},r.getUserConfig=function(){return r.userConfig},r.setUserConfig=function(e){r.userConfig=e},r}),AJS.namespace("GH.UserData",null,require("jira-agile/rapid/user-data"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/features/feature-flags.js' */
define("jira-agile/features/feature-flags",[],function(){return{EPIC_CREATE_IMPROVEMENT:{key:"agile.epic.create.improvement",fallback:!1}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'jira-agile-module/includes/js/gh/navigation/Navigation.js' */
!function(){AJS.namespace("GH.Navigation");var i=require("jira-agile/rapid/ajax");GH.Navigation.gotoDefaultRapidBoardPage=function(a,i){window.location.href=GH.Navigation.getDefaultRapidBoardPageUrl(a,i)},GH.Navigation.gotoDefaultRapidBoardPageAfterSprintStarted=function(a){window.location.href=GH.Navigation.getCanonicRapidBoardPageUrl(a)+"&sprintStarted=true"},GH.Navigation.getDefaultRapidBoardPageUrl=function(a,i){i=_.isUndefined(i)?"":"&view="+i;return GH.Navigation.getCanonicRapidBoardPageUrl(a)+i},GH.Navigation.getCanonicRapidBoardPageUrl=function(a){return i.CONTEXT_PATH+"/secure/RapidBoard.jspa?rapidView="+a},GH.Navigation.getLoginUrl=function(){return i.CONTEXT_PATH+"/login.jsp?os_destination="+encodeURIComponent(window.location.href)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-persistent-messages', location = 'jira-agile-module/includes/js/rapid/ui/persistent-messages/CreateViewMessage.js' */
AJS.namespace("GH.PersistentMessages.CreateViewMessage"),GH.PersistentMessages.CreateViewMessage.setView=function(e,s,a,t){GH.storage.put("gh.createViewMessage",{id:e,name:s,type:a,subType:t},!0)},GH.PersistentMessages.CreateViewMessage.clear=function(){GH.storage.put("gh.createViewMessage",null,!0)},GH.PersistentMessages.CreateViewMessage.renderMessage=function(){var e,s=GH.storage.get("gh.createViewMessage",!0);s&&"simple"!==s.type&&(s.name=AJS.escapeHTML(String(s.name)),"advanced"==s.type?e=GH.tpl.board.x.renderCreateViewMessage:"kanban"==s.subType?e=GH.tpl.board.x.renderWelcomeViewMessageKanban:"scrum"==s.subType&&(e=GH.tpl.board.x.renderWelcomeViewMessageScrum),s=e({rapidView:s,url:AJS.parseUri(window.location.href)}),GH.Notification.showSuccess(s,{title:"Success",timeout:1e4}),GH.PersistentMessages.CreateViewMessage.clear())};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-persistent-messages', location = 'jira-agile-module/includes/js/rapid/ui/persistent-messages/WelcomeMessage.js' */
AJS.namespace("GH.PersistentMessages.WelcomeMessage"),GH.PersistentMessages.WelcomeMessage.show=function(e){GH.storage.put("gh.welcomeMessage",e,!0)},GH.PersistentMessages.WelcomeMessage.renderMessage=function(){var e,s,a=GH.storage.get("gh.welcomeMessage",!0);a&&"simple"!==a.preset&&(e=null,a.rapidView.name=AJS.escapeHTML(String(a.rapidView.name)),a.project.name=AJS.escapeHTML(String(a.project.name)),s=null,/kanban/.test(a.preset)?s=a.sample?GH.tpl.board.x.renderWelcomeProjectSampleMessageKanban:GH.tpl.board.x.renderWelcomeProjectMessageKanban:/scrum/.test(a.preset)&&(s=a.sample?GH.tpl.board.x.renderWelcomeProjectSampleMessageScrum:GH.tpl.board.x.renderWelcomeProjectMessageScrum),e=s({project:a.project,rapidView:a.rapidView,url:AJS.parseUri(window.location.href)}),GH.Notification.showSuccess(e,{title:"Success",timeout:1e4}),GH.storage.put("gh.welcomeMessage",null,!0))};;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-jquery-jquery-tipsy', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery.tipsy.js' */
("undefined"===typeof window?global:window).__f673a5150978887490995d88aeec0c8d=function(){var b=jQuery,i=function(a){for(;a=a.parentNode;)if(a==document)return!0;return!1},j=function(a,c){this.$element=b(a);this.options=c;this.enabled=!0;this.fixTitle()},k=0;j.prototype={show:function(){if(i(this.$element[0])){var a=this.getTitle();if(a&&this.enabled){var c=this.tip();c.find(".tipsy-inner")[this.options.html?"html":"text"](a);c[0].className="tipsy";c.remove().css({top:0,left:0,visibility:"hidden",
display:"block"}).appendTo(document.body);var d=this;this.options.hoverable&&c.hover(function(){d.hoverTooltip=!0},function(){"in"!=d.hoverState&&(d.hoverTooltip=!1,"manual"!=d.options.trigger&&d.$element.trigger("hover"==d.options.trigger?"mouseleave.tipsy":"blur.tipsy"))});this.options.className&&c.addClass("function"==typeof this.options.className?this.options.className.call(this.$element[0]):this.options.className);var a=b.extend({},this.$element.offset(),{width:this.$element[0].getBoundingClientRect().width,
height:this.$element[0].getBoundingClientRect().height}),e={},f=c[0].offsetWidth,h=c[0].offsetHeight,g="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity;2===g.length&&(e.left="w"===g.charAt(1)?a.left+a.width/2-15:a.left+a.width/2-f+15);switch(g.charAt(0)){case "n":"undefined"===typeof e.left&&(e.left=a.left+a.width/2-f/2);e.top=a.top+a.height+this.options.offset;break;case "s":"undefined"===typeof e.left&&(e.left=a.left+a.width/2-f/2,c.css(e),
h=c[0].offsetHeight);e.top=a.top-h-this.options.offset;break;case "e":e.left=a.left-f-this.options.offset;e.top=a.top+a.height/2-h/2;break;case "w":e.left=a.left+a.width+this.options.offset,e.top=a.top+a.height/2-h/2}c.css(e).addClass("tipsy-"+g);c.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+g.charAt(0);this.options.fade?c.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):c.css({visibility:"visible",opacity:this.options.opacity});
this.options.aria&&(a="tipsyuid"+k++,c.attr("id",a),this.$element.attr("aria-describedby",a))}}},destroy:function(){this.$element.removeData("tipsy");this.unbindHandlers();this.hide()},unbindHandlers:function(){this.options.live?b(this.$element.context).off(".tipsy"):this.$element.unbind(".tipsy")},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){b(this).remove()}):this.tip().remove();this.options.aria&&this.$element.removeAttr("aria-describedby")},fixTitle:function(){var a=
this.$element;if(a.attr("title")||"string"!=typeof a.attr("original-title"))a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,d=this.options;this.fixTitle();d=this.options;"string"==typeof d.title?a=b.attr("title"==d.title?"original-title":d.title):"function"==typeof d.title&&(a=d.title.call(b[0]));return(a=(""+a).replace(/(^\s*|\s*$)/,""))||d.fallback},tip:function(){this.$tip||(this.$tip=b('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>').attr("role",
"tooltip"),this.$tip.data("tipsy-pointee",this.$element[0]));return this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}};b.fn.tipsy=function(a){function c(c){var d=b.data(c,"tipsy");d||(d=new j(c,b.fn.tipsy.elementOptions(c,a)),b.data(c,"tipsy",d));return d}function d(){var b=c(this);b.hoverState="in";0==a.delayIn?b.show():
(b.fixTitle(),setTimeout(function(){"in"==b.hoverState&&b.show()},a.delayIn))}function e(){var b=c(this);b.hoverState="out";0==a.delayOut?b.hide():setTimeout(function(){"out"==b.hoverState&&!b.hoverTooltip&&b.hide()},a.delayOut)}if(!0===a)return this.data("tipsy");if("string"==typeof a){var f=this.data("tipsy");if(f)f[a]();return this}a=b.extend({},b.fn.tipsy.defaults,a);a.hoverable&&(a.delayOut=a.delayOut||20);a.live||this.each(function(){c(this)});if("manual"!=a.trigger){var f="hover"==a.trigger?
"mouseenter.tipsy focus.tipsy":"focus.tipsy",h="hover"==a.trigger?"mouseleave.tipsy blur.tipsy":"blur.tipsy";if(a.live)b(this.context).on(f,this.selector,d).on(h,this.selector,e);else this.bind(f,d).bind(h,e)}return this};b.fn.tipsy.defaults={aria:!1,className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,hoverable:!1,offset:0,opacity:0.8,title:"title",trigger:"hover"};b.fn.tipsy.revalidate=function(){b(".tipsy").each(function(){var a=b.data(this,"tipsy-pointee");(!a||
!i(a))&&b(this).remove()})};b.fn.tipsy.elementOptions=function(a,c){return b.metadata?b.extend({},c,b(a).metadata()):c};b.fn.tipsy.autoNS=function(){return b(this).offset().top>b(document).scrollTop()+b(window).height()/2?"s":"n"};b.fn.tipsy.autoWE=function(){return b(this).offset().left>b(document).scrollLeft()+b(window).width()/2?"e":"w"};b.fn.tipsy.autoBounds=function(a,c){return function(){var d=c[0],e=1<c.length?c[1]:!1,f=b(document).scrollTop()+a,h=b(document).scrollLeft()+a,g=b(this);g.offset().top<
f&&(d="n");g.offset().left<h&&(e="w");b(window).width()+b(document).scrollLeft()-g.offset().left<a&&(e="e");b(window).height()+b(document).scrollTop()-g.offset().top<a&&(d="s");return d+(e?e:"")}};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-tipsy', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/tipsy.js' */
("undefined"===typeof window?global:window).__e0e2fcbfe1adeeec3d129337203daa99=function(){"use strict";__f673a5150978887490995d88aeec0c8d;return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-tooltip', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/tooltip.js' */
("undefined"===typeof window?global:window).__8a6820c3d0bc5d638a8490d849a5b750=function(){function f(a,b,c){a.tipsy(c);"destroy"===c&&(b.live?(0,d.default)(a.context).off(".tipsy",a.selector):a.unbind(".tipsy"));return a}function g(a,b){a.tipsy(b);if(b&&b.hideOnClick&&("hover"===b.trigger||!b.trigger&&"hover"===a.tipsy.defaults.trigger)){var c=function(){(0,d.default)(this).tipsy("hide")};if(b.live)(0,d.default)(a.context).on("click.tipsy",a.selector,c);else a.bind("click.tipsy",c)}return a}"use strict";
var e=__307d3e18fd611f85395c67cddeb1fe24,d=e&&e.__esModule?e:{"default":e};__f673a5150978887490995d88aeec0c8d;d.default.fn.tooltip=function(a){var b=d.default.extend({},d.default.fn.tooltip.defaults,a);return b.live?("string"===typeof a?f(this,b,a):g(this,b),this):this.each(function(){var c=(0,d.default)(this);"string"===typeof a?f(c,b,a):g(c,b);return c})};d.default.fn.tooltip.defaults={opacity:1,offset:1,delayIn:500,hoverable:!0,hideOnClick:!0,aria:!0};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-spin-spin', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/spin/spin.js' */
("undefined"===typeof window?global:window).__5948fbc87d30aef48e0301714319f1fd=function(){var m={exports:{}},r=m.exports,x={module:m,exports:r},s;s=function(p,e,h){var j=("undefined"===typeof window?global:window).define,f,k,h=[h,e,p].filter(function(e){return"function"===typeof e})[0],e=[e,p,[]].filter(Array.isArray)[0];f=h.apply(null,e.map(function(e){return x[e]}));k=typeof f;"function"===typeof j&&j("string"===typeof p?p:"__5948fbc87d30aef48e0301714319f1fd",e,h);"string"===k?f=String(f):"number"===
k?f=Number(f):"boolean"===k&&(f=Boolean(f));void 0!==f&&(r=m.exports=f)};s.amd=!0;var w=function(){function p(b,a){var c=document.createElement(b||"div"),d;for(d in a)c[d]=a[d];return c}function e(b){for(var a=1,c=arguments.length;a<c;a++)b.appendChild(arguments[a]);return b}function h(b,a){var c=b.style,d,e,a=a.charAt(0).toUpperCase()+a.slice(1);for(e=0;e<m.length;e++)if(d=m[e]+a,void 0!==c[d])return d;if(void 0!==c[a])return a}function j(b,a){for(var c in a)b.style[h(b,c)||c]=a[c];return b}function f(b){for(var a=
1;a<arguments.length;a++){var c=arguments[a],d;for(d in c)void 0===b[d]&&(b[d]=c[d])}return b}function k(b){for(var a={x:b.offsetLeft,y:b.offsetTop};b=b.offsetParent;)a.x+=b.offsetLeft+b.clientLeft,a.y+=b.offsetTop+b.clientTop;return a}function l(b){if("undefined"==typeof this)return new l(b);this.opts=f(b||{},l.defaults,r)}var m=["webkit","Moz","ms","O"],s={},t,u,n=p("style",{type:"text/css"});e(document.getElementsByTagName("head")[0],n);u=n.sheet||n.styleSheet;var r={lines:12,length:7,width:5,
radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={};f(l.prototype,{spin:function(b){this.stop();var a=this,c=a.opts,d=a.el=j(p(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex}),e=c.radius+c.length+c.width,i,g;b&&(b.insertBefore(d,b.firstChild||null),g=k(b),i=k(d),j(d,{left:("auto"==c.left?g.x-i.x+(b.offsetWidth>>1):parseInt(c.left,10)+e)+"px",top:("auto"==
c.top?g.y-i.y+(b.offsetHeight>>1):parseInt(c.top,10)+e)+"px"}));d.setAttribute("role","progressbar");a.lines(d,a.opts);if(!t){var f=0,m=(c.lines-1)*(1-c.direction)/2,o,h=c.fps,q=h/c.speed,s=(1-c.opacity)/(q*c.trail/100),l=q/c.lines;(function y(){f++;for(var b=0;b<c.lines;b++){o=Math.max(1-(f+(c.lines-b)*l)%q*s,c.opacity);a.opacity(d,b*c.direction+m,o,c)}a.timeout=a.el&&setTimeout(y,~~(1E3/h))})()}return a},stop:function(){var b=this.el;b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),
this.el=void 0);return this},lines:function(b,a){function c(b,c){return j(p(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*d+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var d=0,f=(a.lines-1)*(1-a.direction)/2,i;d<a.lines;d++){i=p();var g=1+~(a.width/2)+"px",h=a.hwaccel?"translate3d(0,0,0)":"",m=a.opacity,o;if(o=t){o=a.opacity;var l=a.trail,q=f+
d*a.direction,k=a.lines,n=["opacity",l,~~(100*o),q,k].join("-"),q=0.01+100*(q/k),k=Math.max(1-(1-o)/l*(100-q),o),r=t.substring(0,t.indexOf("Animation")).toLowerCase(),r=r&&"-"+r+"-"||"";s[n]||(u.insertRule("@"+r+"keyframes "+n+"{0%{opacity:"+k+"}"+q+"%{opacity:"+o+"}"+(q+0.01)+"%{opacity:1}"+(q+l)%100+"%{opacity:"+o+"}100%{opacity:"+k+"}}",u.cssRules.length),s[n]=1);o=n+" "+1/a.speed+"s linear infinite"}i=j(i,{position:"absolute",top:g,transform:h,opacity:m,animation:o});a.shadow&&e(i,j(c("#000",
"0 0 4px #000"),{top:"2px"}));e(b,e(i,c("string"==typeof a.color?a.color:a.color[d%a.color.length],"0 0 1px rgba(0,0,0,.1)")))}return b},opacity:function(b,a,c){a<b.childNodes.length&&(b.childNodes[a].style.opacity=c)}});n=j(p("group"),{behavior:"url(#default#VML)"});if(!h(n,"transform")&&n.adj){var v=function(b,a){return p("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',a)};u.addRule(".spin-vml","behavior:url(#default#VML)");l.prototype.lines=function(b,a){function c(){return j(v("group",
{coordsize:i+" "+i,coordorigin:-f+" "+-f}),{width:i,height:i})}function d(b,d,g){e(h,e(j(c(),{rotation:360/a.lines*b+"deg",left:~~d}),e(j(v("roundrect",{arcsize:a.corners}),{width:f,height:a.width,left:a.radius,top:-a.width>>1,filter:g}),v("fill",{color:"string"==typeof a.color?a.color:a.color[b%a.color.length],opacity:a.opacity}),v("stroke",{opacity:0}))))}var f=a.length+a.width,i=2*f,g=2*-(a.width+a.length)+"px",h=j(c(),{position:"absolute",top:g,left:g});if(a.shadow)for(g=1;g<=a.lines;g++)d(g,
-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(g=1;g<=a.lines;g++)d(g);return e(b,h)};l.prototype.opacity=function(b,a,c,d){b=b.firstChild;d=d.shadow&&d.lines||0;if(b&&a+d<b.childNodes.length&&(b=(b=(b=b.childNodes[a+d])&&b.firstChild)&&b.firstChild))b.opacity=c}}else t=h(n,"animation");return l};"object"==typeof r?m.exports=w():"function"==typeof s&&s("aui/internal/spin",w);this.Spinner=w();return m.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-jquery-jquery-spin', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery.spin.js' */
("undefined"===typeof window?global:window).__e9282c4286b6886c60cee0b1e3321cc6=function(){var b=jQuery;b.fn.spin=function(a,c){var f,d;if("string"===typeof a){if(!a in b.fn.spin.presets)throw Error("Preset '"+a+"' isn't defined");f=b.fn.spin.presets[a];d=c||{}}else{if(c)throw Error("Invalid arguments. Accepted arguments:\n$.spin([String preset[, Object options]]),\n$.spin(Object options),\n$.spin(Boolean shouldSpin)");f=b.fn.spin.presets.small;d=b.isPlainObject(a)?a:{}}if(window.Spinner)return this.each(function(){var c=
b(this),e=c.data();e.spinner&&(e.spinner.stop(),delete e.spinner);!1!==a&&(d=b.extend({color:c.css("color")},f,d),e.spinner=(new Spinner(d)).spin(this))});throw"Spinner class not available.";};b.fn.spin.presets={small:{lines:12,length:3,width:2,radius:3,trail:60,speed:1.5},medium:{lines:12,length:5,width:3,radius:8,trail:60,speed:1.5},large:{lines:12,length:8,width:4,radius:10,trail:60,speed:1.5}};b.fn.spinStop=function(){if(window.Spinner)return this.each(function(){var a=b(this).data();a.spinner&&
(a.spinner.stop(),delete a.spinner)});throw"Spinner class not available.";};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-spin', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/spin.js' */
("undefined"===typeof window?global:window).__e573296a636ce4ee054d5d3b9c8823fb=function(){"use strict";__5948fbc87d30aef48e0301714319f1fd;__e9282c4286b6886c60cee0b1e3321cc6;return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-amdify', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/amdify.js' */
("undefined"===typeof window?global:window).__574ac67f906effeb9d8ec2753b23cf28=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,b){if(window.define){var c=window.define;c(a,[],function(){return b})}return b};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-trigger', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/trigger.js' */
("undefined"===typeof window?global:window).__50e2876f514ad7c8f1fee05297cde9e2=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(a.isEnabled()){var c=document.getElementById(a.getAttribute("aria-controls"));c&&c.message&&c.message(b)}}"use strict";var g=e(__307d3e18fd611f85395c67cddeb1fe24),h=e(__574ac67f906effeb9d8ec2753b23cf28),f=e(__c1ce1f1e3e613f564fc234ff043570f1);(0,f.default)("data-aui-trigger",{type:f.default.type.ATTRIBUTE,events:{click:function(a,b){var c=
b.target,c=(0,g.default)(c).closest("a[href]",a);c.length&&c[0]!==a||(d(a,b),b.preventDefault())},mouseenter:function(a,b){d(a,b)},mouseleave:function(a,b){d(a,b)},focus:function(a,b){d(a,b)},blur:function(a,b){d(a,b)}},prototype:{disable:function(){this.setAttribute("aria-disabled","true")},enable:function(){this.setAttribute("aria-disabled","false")},isEnabled:function(){return"true"!==this.getAttribute("aria-disabled")}}});(0,h.default)("aui/trigger");return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:aui-trigger', location = 'auiplugin/src/soy/trigger.soy' */
// This file was automatically generated from trigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.trigger.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.trigger == 'undefined') { aui.trigger = {}; }


aui.trigger.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '" ' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '" aria-controls="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-haspopup="true" role="button"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.container) ? ' data-container="' + soy.$$escapeHtml(opt_data.container) + '"' : '') + (((! opt_data.tagName || opt_data.tagName == 'a') && (! opt_data.extraAttributes || Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]' && ! opt_data.extraAttributes.href && ! opt_data.extraAttributes.tabindex || (! opt_data.extraAttributes.href || ! opt_data.extraAttributes.tabindex))) ? ' tabindex="0"' : '') + ' data-aui-trigger' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + ((! (opt_data.showIcon == false)) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClasses ? opt_data.iconClasses : 'aui-icon-dropdown') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) : '') + '</span>' : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + '>';
};
if (goog.DEBUG) {
  aui.trigger.trigger.soyTemplateName = 'aui.trigger.trigger';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-attributes', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/attributes.js' */
("undefined"===typeof window?global:window).__29fa312a51517f20df339a1900640e1d=function(){function d(a){return null!==a}function e(a,b,c){c?a.setAttribute(b,""):a.removeAttribute(b)}function f(a,b){var c=function(a){return a.toLowerCase()===b.toLowerCase()},d=null===b,e=!d&&!a.values.filter(c).length;return d?a.hasOwnProperty("missingDefault")?a.missingDefault:null:e?a.hasOwnProperty("invalidDefault")?a.invalidDefault:a.hasOwnProperty("missingDefault")?a.missingDefault:null:a.values.length?a.values.filter(c)[0]:
null}function g(a,b,c){a.setAttribute(b.attribute,c)}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.computeBooleanValue=d;b.setBooleanAttribute=e;b.computeEnumValue=f;b.setEnumAttribute=g;b.default={computeBooleanValue:d,setBooleanAttribute:e,computeEnumValue:f,setEnumAttribute:g};return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-enforcer', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/enforcer.js' */
("undefined"===typeof window?global:window).__8339408c10b0a9052af9f3aad7b3a4e8=function(){var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d;var a=__cf890abdf040e0993fb71f2f839bc972;if(a&&a.__esModule)d=a;else{var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b.default=a;d=b}c.default=function(a){function c(b){return e(function(){return a.hasAttribute(b)},b+" wasn't defined")}function b(d){if(!c(d,a))return!1;var f=a.getAttribute(d);
return e(function(){return document.getElementById(f)},'an element with id set to "'+f+'" was not found')}function e(b,c){return!b()?(a?d.error(c,a):d.error(c),!1):!0}return{attributeExists:c,refersTo:b,satisfiesRules:e,ariaControls:function(){return b("aria-controls")},ariaOwns:function(){return b("aria-owns")}}};return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-inline-dialog2', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/inline-dialog2.js' */
("undefined"===typeof window?global:window).__2883f62e804d6ae6a52910b6c4a55520=function(){function c(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){var d=document.querySelector('[aria-controls="'+a.id+'"]');d&&b(d)}function n(a){a=a.target;(0,e.default)(a).set("mouse-inside",!0);a.message({type:"mouseenter"})}function o(a){a=a.target;(0,e.default)(a).set("mouse-inside",!1);a.message({type:"mouseleave"})}function m(a){(0,e.default)(a).set("mouse-inside",void 0);a.removeEventListener("mouseenter",
n);a.removeEventListener("mouseleave",o);"hover"===a.respondsTo&&((0,e.default)(a).set("mouse-inside",!1),a.addEventListener("mouseenter",n),a.addEventListener("mouseleave",o))}function j(a){var b=!a.hasAttribute("aria-hidden"),d=a.hasAttribute("open");if(b||a.open!==d)d?((0,e.default)(a).set("is-processing-show",!0),(0,f.default)(a).show(),(0,f.default)(a).isVisible()?l(a,function(b){a._auiAlignment||(a._auiAlignment=new p.default(a,b));a._auiAlignment.enable();b.setAttribute("aria-expanded","true")}):
a.open=!1,(0,e.default)(a).set("is-processing-show",!1)):((0,f.default)(a).hide(),(0,f.default)(a).isVisible()?a.open=!0:l(a,function(b){a._auiAlignment||(a._auiAlignment=new p.default(a,b));a._auiAlignment.disable();b.setAttribute("aria-expanded","false")}))}var k={};"use strict";Object.defineProperty(k,"__esModule",{value:!0});var q=c(__307d3e18fd611f85395c67cddeb1fe24),p=c(__f420c577506564c314d7d5d82088641c),r=c(__574ac67f906effeb9d8ec2753b23cf28),g=c(__29fa312a51517f20df339a1900640e1d),s=c(__8339408c10b0a9052af9f3aad7b3a4e8),
t=c(__4d02fe17b8e885a34493e34af3d145dd),f=c(__fe0cd0a7ef176e2ef4e0e105d1ce31f5),h=c(__c1ce1f1e3e613f564fc234ff043570f1),e=c(__fd7d82ce22cd33cac1609667ce8040f9),u={click:function(a){if(a.open){if(!(0,f.default)(a).isPersistent())a.open=!1}else a.open=!0},mouseenter:function(a){a.open||(a.open=!0);a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout()},mouseleave:function(a){if(!(0,f.default)(a).isPersistent()&&a.open){a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout();var b=setTimeout(function(){if(!(0,
e.default)(a).get("mouse-inside"))a.open=!1},1E3);a._clearMouseleaveTimeout=function(){clearTimeout(b);a._clearMouseleaveTimeout=null}}},focus:function(a){a.open||(a.open=!0)},blur:function(a){if(!(0,f.default)(a).isPersistent()&&a.open)a.open=!1}},i={attribute:"responds-to",values:["toggle","hover"],missingDefault:"toggle",invalidDefault:"toggle"},h=(0,h.default)("aui-inline-dialog",{prototype:{get open(){return(0,f.default)(this).isVisible()},set open(a){g.default.setBooleanAttribute(this,"open",
a);j(this)},get persistent(){return this.hasAttribute("persistent")},set persistent(a){g.default.setBooleanAttribute(this,"persistent",a)},get respondsTo(){return g.default.computeEnumValue(i,this.getAttribute(i.attribute))},set respondsTo(a){var b=this.respondsTo;g.default.setEnumAttribute(this,i,a);b!==this.respondsTo&&m(this)},message:function(a){var b={toggle:["click"],hover:["mouseenter","mouseleave","focus","blur"]}[this.respondsTo];if(b&&-1<b.indexOf(a.type))u[a.type](this,a);return this}},
created:function(a){(0,e.default)(a).set("is-processing-show",!1);l(a,function(b){b.setAttribute("aria-expanded",a.open);b.setAttribute("aria-haspopup","true")})},attributes:{"aria-hidden":function(a,b){if("true"===b.newValue){var d=document.querySelector('[aria-controls="'+a.id+'"]');d&&d.setAttribute("aria-expanded","false")}g.default.setBooleanAttribute(a,"open","false"===b.newValue)},open:function(a){document.body.contains(a)&&j(a)},"responds-to":function(a,b){var d=g.default.computeEnumValue(i,
b.oldValue),c=g.default.computeEnumValue(i,b.newValue);d!==c&&m(a)}},attached:function(a){(0,s.default)(a).attributeExists("id");a.hasAttribute("open")?(0,e.default)(a).get("is-processing-show")||j(a):j(a);m(a)},detached:function(a){a._auiAlignment&&a._auiAlignment.destroy()},template:function(a){var b=(0,q.default)('<div class="aui-inline-dialog-contents"></div>').append(a.childNodes);(0,q.default)(a).addClass("aui-layer").html(b)}});(0,r.default)("aui/inline-dialog2",h);(0,t.default)("InlineDialog2",
h);k.default=h;return k=k["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:aui-inline-dialog2', location = 'auiplugin/src/soy/inline-dialog2.soy' */
// This file was automatically generated from inline-dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.inlineDialog2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.inlineDialog2 == 'undefined') { aui.inlineDialog2 = {}; }


aui.inlineDialog2.inlineDialog2 = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.alignment) ? ' alignment="' + soy.$$escapeHtml(opt_data.alignment) + '"' : '') + ((opt_data.open) ? ' open' : '') + ((opt_data.persistent) ? ' persistent' : '') + ((opt_data.respondsTo) ? ' responds-to="' + soy.$$escapeHtml(opt_data.respondsTo) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</aui-inline-dialog>';
};
if (goog.DEBUG) {
  aui.inlineDialog2.inlineDialog2.soyTemplateName = 'aui.inlineDialog2.inlineDialog2';
}


aui.inlineDialog2.trigger = function(opt_data, opt_ignored) {
  return '' + aui.trigger.trigger(soy.$$augmentMap(opt_data, {showIcon: opt_data.showIcon ? opt_data.showIcon : false}));
};
if (goog.DEBUG) {
  aui.inlineDialog2.trigger.soyTemplateName = 'aui.inlineDialog2.trigger';
}
;
;
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = 'issue-status-plugin/templates/status.soy' */
// This file was automatically generated from status.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Template.Util.Issue.Status.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Template == 'undefined') { JIRA.Template = {}; }
if (typeof JIRA.Template.Util == 'undefined') { JIRA.Template.Util = {}; }
if (typeof JIRA.Template.Util.Issue == 'undefined') { JIRA.Template.Util.Issue = {}; }
if (typeof JIRA.Template.Util.Issue.Status == 'undefined') { JIRA.Template.Util.Issue.Status = {}; }


JIRA.Template.Util.Issue.Status.issueStatusResolver = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.issueStatus) ? '<span class="aui-icon aui-icon-small aui-iconfont-help jira-issue-status-render-error" title="' + soy.$$escapeHtml('No issue status information was provided') + '"></span>' : (opt_data.issueStatus.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatus(opt_data) : JIRA.Template.Util.Issue.Status.iconStatus({name: opt_data.issueStatus.name, iconUrl: opt_data.issueStatus.iconUrl, description: opt_data.issueStatus.description, isCompact: opt_data.isCompact}));
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatusResolver.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatusResolver';
}


JIRA.Template.Util.Issue.Status.iconStatus = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" width="16" height="16" alt="' + soy.$$escapeHtml(opt_data.name) + '" title="' + soy.$$escapeHtml(opt_data.name) + ((opt_data.description) ? ' - ' + soy.$$escapeHtml(opt_data.description) : '') + '" class="jira-issue-status-icon">' + ((! opt_data.isCompact) ? ' ' + soy.$$escapeHtml(opt_data.name) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.iconStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.iconStatus';
}


JIRA.Template.Util.Issue.Status.issueStatus = function(opt_data, opt_ignored) {
  return '' + JIRA.Template.Util.Issue.Status.statusLozenge({name: opt_data.issueStatus.name, categoryKey: opt_data.issueStatus.statusCategory.key, colorName: opt_data.issueStatus.statusCategory.colorName, description: opt_data.issueStatus.description, isSubtle: opt_data.isSubtle, isCompact: opt_data.isCompact, maxWidth: opt_data.maxWidth});
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatus';
}


JIRA.Template.Util.Issue.Status.statusLozenge = function(opt_data, opt_ignored) {
  var output = '';
  var maxWidth__soy46 = opt_data.maxWidth ? opt_data.maxWidth : 'medium';
  var tooltipContent__soy47 = '<span class="jira-issue-status-tooltip-title">' + soy.$$escapeHtml(opt_data.name) + '</span>' + ((opt_data.description) ? '<br><span class="jira-issue-status-tooltip-desc">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '');
  output += '<span class=" jira-issue-status-lozenge aui-lozenge ' + JIRA.Template.Util.Issue.Status.statusLozengeClasses(opt_data) + ((opt_data.isSubtle && ! opt_data.isCompact) ? ' aui-lozenge-subtle' : '') + ((opt_data.isCompact) ? ' jira-issue-status-lozenge-compact' : '') + ' jira-issue-status-lozenge-max-width-' + soy.$$escapeHtml(maxWidth__soy46) + '" data-tooltip="' + soy.$$escapeHtml(tooltipContent__soy47) + '">' + soy.$$escapeHtml(opt_data.name) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozenge.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozenge';
}


JIRA.Template.Util.Issue.Status.statusLozengeClasses = function(opt_data, opt_ignored) {
  return 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.colorName ? opt_data.colorName : 'medium-gray') + ' ' + ((opt_data.categoryKey) ? 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.categoryKey) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozengeClasses.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozengeClasses';
}
;
;
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = '/issue-status-plugin/js/issue-status-plugin.js' */
AJS.$(function(){AJS.$.fn.tooltip&&AJS.$(".jira-issue-status-lozenge[data-tooltip]").tooltip({aria:!0,gravity:AJS.$.fn.tipsy.autoWE,delayIn:100,html:!0,live:!0,title:"data-tooltip",className:"jira-issue-status-tooltip"})});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.fancybox-1.3.4', location = 'atlassian-jslibs/jquery-plugins/jquery.fancybox/1.3.4/jquery.fancybox-1.3.4.js' */
!function(t){define("atlassian/jquery-plugins/jquery.fancybox-1.3.4",function(){return function(e){return t(window,document,e),e}})}(function(t,e,i){!function(n){var a,o,d,c,r,s,h,l,f,p,g,b,u,y=0,v={},x=[],w=0,m={},I=[],C=null,k=new Image,O=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,j=/[^\.]\.(swf)\s*$/i,T=1,S=0,A="",D=!1,F=n.extend(n("<div/>")[0],{prop:0}),E=n.browser.msie&&n.browser.version<7&&!t.XMLHttpRequest,N=function(){o.hide(),k.onerror=k.onload=null,C&&C.abort(),a.empty()},B=function(){return!1===v.onError(x,y,v)?(o.hide(),void(D=!1)):(v.titleShow=!1,v.width="auto",v.height="auto",a.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),void L())},P=function(){var t,e,i,d,c,r,h=x[y];if(N(),v=n.extend({},n.fn.fancybox.defaults,"undefined"==typeof n(h).data("fancybox")?v:n(h).data("fancybox")),r=v.onStart(x,y,v),r===!1)return void(D=!1);if("object"==typeof r&&(v=n.extend(v,r)),i=v.title||(h.nodeName?n(h).attr("title"):h.title)||"",h.nodeName&&!v.orig&&(v.orig=n(h).children("img:first").length?n(h).children("img:first"):n(h)),""===i&&v.orig&&v.titleFromAlt&&(i=v.orig.attr("alt")),t=v.href||(h.nodeName?n(h).attr("href"):h.href)||null,(/^(?:javascript)/i.test(t)||"#"==t)&&(t=null),v.type?(e=v.type,t||(t=v.content)):v.content?e="html":t&&(e=t.match(O)?"image":t.match(j)?"swf":n(h).hasClass("iframe")?"iframe":0===t.indexOf("#")?"inline":"ajax"),!e)return void B();switch("inline"==e&&(h=t.substr(t.indexOf("#")),e=n(h).length>0?"inline":"ajax"),v.type=e,v.href=t,v.title=i,v.autoDimensions&&("html"==v.type||"inline"==v.type||"ajax"==v.type?(v.width="auto",v.height="auto"):v.autoDimensions=!1),v.modal&&(v.overlayShow=!0,v.hideOnOverlayClick=!1,v.hideOnContentClick=!1,v.enableEscapeButton=!1,v.showCloseButton=!1),v.padding=parseInt(v.padding,10),v.margin=parseInt(v.margin,10),a.css("padding",v.padding+v.margin),n(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){n(this).replaceWith(s.children())}),e){case"html":a.html(v.content),L();break;case"inline":if(n(h).parent().is("#fancybox-content")===!0)return void(D=!1);n('<div class="fancybox-inline-tmp" />').hide().insertBefore(n(h)).bind("fancybox-cleanup",function(){n(this).replaceWith(s.children())}).bind("fancybox-cancel",function(){n(this).replaceWith(a.children())}),n(h).appendTo(a),L();break;case"image":D=!1,n.fancybox.showActivity(),k=new Image,k.onerror=function(){B()},k.onload=function(){D=!0,k.onerror=k.onload=null,M()},k.src=t;break;case"swf":v.scrolling="no",d='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+v.width+'" height="'+v.height+'"><param name="movie" value="'+t+'"></param>',c="",n.each(v.swf,function(t,e){d+='<param name="'+t+'" value="'+e+'"></param>',c+=" "+t+'="'+e+'"'}),d+='<embed src="'+t+'" type="application/x-shockwave-flash" width="'+v.width+'" height="'+v.height+'"'+c+"></embed></object>",a.html(d),L();break;case"ajax":D=!1,n.fancybox.showActivity(),v.ajax.win=v.ajax.success,C=n.ajax(n.extend({},v.ajax,{url:t,data:v.ajax.data||{},error:function(t,e,i){t.status>0&&B()},success:function(e,i,n){var d="object"==typeof n?n:C;if(200==d.status){if("function"==typeof v.ajax.win){if(r=v.ajax.win(t,e,i,n),r===!1)return void o.hide();"string"!=typeof r&&"object"!=typeof r||(e=r)}a.html(e),L()}}}));break;case"iframe":z()}},L=function(){var e=v.width,i=v.height;e=e.toString().indexOf("%")>-1?parseInt((n(t).width()-2*v.margin)*parseFloat(e)/100,10)+"px":"auto"==e?"auto":e+"px",i=i.toString().indexOf("%")>-1?parseInt((n(t).height()-2*v.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",a.wrapInner('<div style="width:'+e+";height:"+i+";overflow: "+("auto"==v.scrolling?"auto":"yes"==v.scrolling?"scroll":"hidden")+';position:relative;"></div>'),v.width=a.width(),v.height=a.height(),z()},M=function(){v.width=k.width,v.height=k.height,n("<img />").attr({id:"fancybox-img",src:k.src,alt:v.title}).appendTo(a),z()},z=function(){var i,r;return o.hide(),c.is(":visible")&&!1===m.onCleanup(I,w,m)?(n.event.trigger("fancybox-cancel"),void(D=!1)):(D=!0,n(s.add(d)).unbind(),n(t).unbind("resize.fb scroll.fb"),n(e).unbind("keydown.fb"),c.is(":visible")&&"outside"!==m.titlePosition&&c.css("height",c.height()),I=x,w=y,m=v,m.overlayShow?(d.css({"background-color":m.overlayColor,opacity:m.overlayOpacity,cursor:m.hideOnOverlayClick?"pointer":"auto",height:n(e).height()}),d.is(":visible")||(E&&n("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),d.show())):d.hide(),u=U(),q(),c.is(":visible")?(n(h.add(f).add(p)).hide(),i=c.position(),b={top:i.top,left:i.left,width:c.width(),height:c.height()},r=b.width==u.width&&b.height==u.height,void s.fadeTo(m.changeFade,.3,function(){var t=function(){s.html(a.contents()).fadeTo(m.changeFade,1,K)};n.event.trigger("fancybox-change"),s.empty().removeAttr("filter").css({"border-width":m.padding,width:u.width-2*m.padding,height:v.autoDimensions?"auto":u.height-S-2*m.padding}),r?t():(F.prop=0,n(F).animate({prop:1},{duration:m.changeSpeed,easing:m.easingChange,step:X,complete:t}))})):(c.removeAttr("style"),s.css("border-width",m.padding),"elastic"==m.transitionIn?(b=J(),s.html(a.contents()),c.show(),m.opacity&&(u.opacity=0),F.prop=0,void n(F).animate({prop:1},{duration:m.speedIn,easing:m.easingIn,step:X,complete:K})):("inside"==m.titlePosition&&S>0&&l.show(),s.css({width:u.width-2*m.padding,height:v.autoDimensions?"auto":u.height-S-2*m.padding}).html(a.contents()),void c.css(u).fadeIn("none"==m.transitionIn?0:m.speedIn,K))))},H=function(t){return!(!t||!t.length)&&("float"==m.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+m.titlePosition+'">'+t+"</div>")},q=function(){if(A=m.title||"",S=0,l.empty().removeAttr("style").removeClass(),m.titleShow===!1)return void l.hide();if(A=n.isFunction(m.titleFormat)?m.titleFormat(A,I,w,m):H(A),!A||""===A)return void l.hide();switch(l.addClass("fancybox-title-"+m.titlePosition).html(A).appendTo("body").show(),m.titlePosition){case"inside":l.css({width:u.width-2*m.padding,marginLeft:m.padding,marginRight:m.padding}),S=l.outerHeight(!0),l.appendTo(r),u.height+=S;break;case"over":l.css({marginLeft:m.padding,width:u.width-2*m.padding,bottom:m.padding}).appendTo(r);break;case"float":l.css("left",parseInt((l.width()-u.width-40)/2,10)*-1).appendTo(c);break;default:l.css({width:u.width-2*m.padding,paddingLeft:m.padding,paddingRight:m.padding}).appendTo(c)}l.hide()},R=function(){return(m.enableEscapeButton||m.enableKeyboardNav)&&n(e).bind("keydown.fb",function(t){27==t.keyCode&&m.enableEscapeButton?(t.preventDefault(),n.fancybox.close()):37!=t.keyCode&&39!=t.keyCode||!m.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),n.fancybox[37==t.keyCode?"prev":"next"]())}),m.showNavArrows?((m.cyclic&&I.length>1||0!==w)&&f.show(),void((m.cyclic&&I.length>1||w!=I.length-1)&&p.show())):(f.hide(),void p.hide())},K=function(){n.support.opacity||(s.get(0).style.removeAttribute("filter"),c.get(0).style.removeAttribute("filter")),v.autoDimensions&&s.css("height","auto"),c.css("height","auto"),A&&A.length&&l.show(),m.showCloseButton&&h.show(),R(),m.hideOnContentClick&&s.bind("click",n.fancybox.close),m.hideOnOverlayClick&&d.bind("click",n.fancybox.close),n(t).bind("resize.fb",n.fancybox.resize),m.centerOnScroll&&n(t).bind("scroll.fb",n.fancybox.center),"iframe"==m.type&&n('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(n.browser.msie?'allowtransparency="true""':"")+' scrolling="'+v.scrolling+'" src="'+m.href+'"></iframe>').appendTo(s),c.show(),D=!1,n.fancybox.center(),m.onComplete(I,w,m),W()},W=function(){var t,e;I.length-1>w&&(t=I[w+1].href,"undefined"!=typeof t&&t.match(O)&&(e=new Image,e.src=t)),w>0&&(t=I[w-1].href,"undefined"!=typeof t&&t.match(O)&&(e=new Image,e.src=t))},X=function(t){var e={width:parseInt(b.width+(u.width-b.width)*t,10),height:parseInt(b.height+(u.height-b.height)*t,10),top:parseInt(b.top+(u.top-b.top)*t,10),left:parseInt(b.left+(u.left-b.left)*t,10)};"undefined"!=typeof u.opacity&&(e.opacity=t<.5?.5:t),c.css(e),s.css({width:e.width-2*m.padding,height:e.height-S*t-2*m.padding})},$=function(){return[n(t).width()-2*m.margin,n(t).height()-2*m.margin,n(e).scrollLeft()+m.margin,n(e).scrollTop()+m.margin]},U=function(){var t,e=$(),i={},n=m.autoScale,a=2*m.padding;return m.width.toString().indexOf("%")>-1?i.width=parseInt(e[0]*parseFloat(m.width)/100,10):i.width=m.width+a,m.height.toString().indexOf("%")>-1?i.height=parseInt(e[1]*parseFloat(m.height)/100,10):i.height=m.height+a,n&&(i.width>e[0]||i.height>e[1])&&("image"==v.type||"swf"==v.type?(t=m.width/m.height,i.width>e[0]&&(i.width=e[0],i.height=parseInt((i.width-a)/t+a,10)),i.height>e[1]&&(i.height=e[1],i.width=parseInt((i.height-a)*t+a,10))):(i.width=Math.min(i.width,e[0]),i.height=Math.min(i.height,e[1]))),i.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-i.height-40)),10),i.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-i.width-40)),10),i},G=function(t){var e=t.offset();return e.top+=parseInt(t.css("paddingTop"),10)||0,e.left+=parseInt(t.css("paddingLeft"),10)||0,e.top+=parseInt(t.css("border-top-width"),10)||0,e.left+=parseInt(t.css("border-left-width"),10)||0,e.width=t.width(),e.height=t.height(),e},J=function(){var t,e,i=!!v.orig&&n(v.orig),a={};return i&&i.length?(t=G(i),a={width:t.width+2*m.padding,height:t.height+2*m.padding,top:t.top-m.padding-20,left:t.left-m.padding-20}):(e=$(),a={width:2*m.padding,height:2*m.padding,top:parseInt(e[3]+.5*e[1],10),left:parseInt(e[2]+.5*e[0],10)}),a},Q=function(){return o.is(":visible")?(n("div",o).css("top",T*-40+"px"),void(T=(T+1)%12)):void clearInterval(g)};n.fn.fancybox=function(t){return n(this).length?(n(this).data("fancybox",n.extend({},t,n.metadata?n(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){if(t.preventDefault(),!D){D=!0,n(this).blur(),x=[],y=0;var e=n(this).attr("rel")||"";e&&""!=e&&"nofollow"!==e?(x=n("a[rel="+e+"], area[rel="+e+"]"),y=x.index(this)):x.push(this),P()}}),this):this},n.fancybox=function(t){var e;if(!D){if(D=!0,e="undefined"!=typeof arguments[1]?arguments[1]:{},x=[],y=parseInt(e.index,10)||0,n.isArray(t)){for(var a=0,o=t.length;a<o;a++)"object"==typeof t[a]?n(t[a]).data("fancybox",n.extend({},e,t[a])):t[a]=n({}).data("fancybox",n.extend({content:t[a]},e));x=i.merge(x,t)}else"object"==typeof t?n(t).data("fancybox",n.extend({},e,t)):t=n({}).data("fancybox",n.extend({content:t},e)),x.push(t);(y>x.length||y<0)&&(y=0),P()}},n.fancybox.showActivity=function(){clearInterval(g),o.show(),g=setInterval(Q,66)},n.fancybox.hideActivity=function(){o.hide()},n.fancybox.next=function(){return n.fancybox.pos(w+1)},n.fancybox.prev=function(){return n.fancybox.pos(w-1)},n.fancybox.pos=function(t){D||(t=parseInt(t),x=I,t>-1&&t<I.length?(y=t,P()):m.cyclic&&I.length>1&&(y=t>=I.length?0:I.length-1,P()))},n.fancybox.cancel=function(){D||(D=!0,n.event.trigger("fancybox-cancel"),N(),v.onCancel(x,y,v),D=!1)},n.fancybox.close=function(){function i(){d.fadeOut("fast"),l.empty().hide(),c.hide(),n.event.trigger("fancybox-cleanup"),s.empty(),m.onClosed(I,w,m),I=v=[],w=y=0,m=v={},D=!1}if(!D&&!c.is(":hidden")){if(D=!0,m&&!1===m.onCleanup(I,w,m))return void(D=!1);if(N(),n(h.add(f).add(p)).hide(),n(s.add(d)).unbind(),n(t).unbind("resize.fb scroll.fb"),n(e).unbind("keydown.fb"),s.find("iframe").attr("src",E&&/^https/i.test(t.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==m.titlePosition&&l.empty(),c.stop(),"elastic"==m.transitionOut){b=J();var a=c.position();u={top:a.top,left:a.left,width:c.width(),height:c.height()},m.opacity&&(u.opacity=1),l.empty().hide(),F.prop=1,n(F).animate({prop:0},{duration:m.speedOut,easing:m.easingOut,step:X,complete:i})}else c.fadeOut("none"==m.transitionOut?0:m.speedOut,i)}},n.fancybox.resize=function(){d.is(":visible")&&d.css("height",n(e).height()),n.fancybox.center(!0)},n.fancybox.center=function(){var t,e;D||(e=arguments[0]===!0?1:0,t=$(),!e&&(c.width()>t[0]||c.height()>t[1])||c.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-s.height()-40)-m.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-s.width()-40)-m.padding))},"number"==typeof arguments[0]?arguments[0]:200))},n.fancybox.init=function(){n("#fancybox-wrap").length||(n("body").append(a=n('<div id="fancybox-tmp"></div>'),o=n('<div id="fancybox-loading"><div></div></div>'),d=n('<div id="fancybox-overlay"></div>'),c=n('<div id="fancybox-wrap"></div>')),r=n('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(c),r.append(s=n('<div id="fancybox-content"></div>'),h=n('<a id="fancybox-close"></a>'),l=n('<div id="fancybox-title"></div>'),f=n('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),p=n('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),h.click(n.fancybox.close),o.click(n.fancybox.cancel),f.click(function(t){t.preventDefault(),n.fancybox.prev()}),p.click(function(t){t.preventDefault(),n.fancybox.next()}),n.fn.mousewheel&&c.bind("mousewheel.fb",function(t,e){D?t.preventDefault():0!=n(t.target).get(0).clientHeight&&n(t.target).get(0).scrollHeight!==n(t.target).get(0).clientHeight||(t.preventDefault(),n.fancybox[e>0?"prev":"next"]())}),n.support.opacity||c.addClass("fancybox-ie"),E&&(o.addClass("fancybox-ie6"),c.addClass("fancybox-ie6"),n('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(t.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(r)))},n.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},n(e).ready(function(){n.fancybox.init()})}(i)});;
;
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox.jira.js' */
require(["jquery","atlassian/jquery-plugins/jquery.fancybox-1.3.4"],function(t,i){i(t),t.fn.fancybox.defaults.titleFormat=function(t){if(t&&t.length)return t=AJS.escapeHtml(t),"float"===this.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+this.titlePosition+'">'+t+"</div>"}});;
;
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.29.4', location = 'atlassian-jslibs/libs/moment/moment.js' */
!function(e){define("atlassian/libs/moment",function(){var t={};return e.call(t),t.moment})}(function(){!function(e,t){e.moment=t()}(this,function(){"use strict";function e(){return ti.apply(null,arguments)}function t(e){ti=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(i(e,t))return!1;return!0}function a(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,s=[],i=e.length;for(n=0;n<i;++n)s.push(t(e[n],n));return s}function h(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return Ot(e,t,n,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=c()),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=ni.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function _(e){var t=d(NaN);return null!=e?h(f(t),e):f(t).userInvalidated=!0,t}function y(e,t){var n,s,i,r=si.length;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=f(t)),a(t._locale)||(e._locale=t._locale),r>0)for(n=0;n<r;n++)s=si[n],i=t[s],a(i)||(e[s]=i);return e}function g(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ii===!1&&(ii=!0,e.updateOffset(this),ii=!1)}function w(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function p(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function v(t,n){var s=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){var r,a,o,u=[],l=arguments.length;for(a=0;a<l;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(o in arguments[0])i(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];u.push(r)}p(t+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function k(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),ri[t]||(p(n),ri[t]=!0)}function M(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e){var t,n;for(n in e)i(e,n)&&(t=e[n],M(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(e,t){var n,r=h({},e);for(n in t)i(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)i(e,n)&&!i(t,n)&&s(e[n])&&(r[n]=h({},r[n]));return r}function Y(e){null!=e&&this.set(e)}function O(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return M(s)?s.call(t,n):s}function b(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function x(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(ci[e]=i),t&&(ci[t[0]]=function(){return b(i.apply(this,arguments),t[1],t[2])}),n&&(ci[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function T(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,s=e.match(li);for(t=0,n=s.length;t<n;t++)ci[s[t]]?s[t]=ci[s[t]]:s[t]=T(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=M(s[i])?s[i].call(t,e):s[i];return r}}function P(e,t){return e.isValid()?(t=R(t,e.localeData()),di[t]=di[t]||N(t),di[t](e)):e.localeData().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(hi.lastIndex=0;s>=0&&hi.test(e);)e=e.replace(hi,n),hi.lastIndex=0,s-=1;return e}function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(li).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}function C(){return this._invalidDate}function U(e){return this._ordinal.replace("%d",e)}function H(e,t,n,s){var i=this._relativeTime[n];return M(i)?i(e,t,n,s):i.replace(/%d/i,e)}function F(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)}function L(e,t){var n=e.toLowerCase();wi[n]=wi[n+"s"]=wi[t]=e}function V(e){return"string"==typeof e?wi[e]||wi[e.toLowerCase()]:void 0}function G(e){var t,n,s={};for(n in e)i(e,n)&&(t=V(n),t&&(s[t]=e[n]));return s}function E(e,t){pi[e]=t}function A(e){var t,n=[];for(t in e)i(e,t)&&n.push({unit:t,priority:pi[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}function I(e){return e%4===0&&e%100!==0||e%400===0}function j(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Z(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=j(t)),n}function z(t,n){return function(s){return null!=s?(q(this,t,s),e.updateOffset(this,n),this):$(this,t)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&I(e.year())&&1===e.month()&&29===e.date()?(n=Z(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),re(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function B(e){return e=V(e),M(this[e])?this[e]():this}function J(e,t){if("object"==typeof e){e=G(e);var n,s=A(e),i=s.length;for(n=0;n<i;n++)this[s[n].unit](e[s[n].unit])}else if(e=V(e),M(this[e]))return this[e](t);return this}function Q(e,t,n){oi[e]=M(t)?t:function(e,s){return e&&n?n:t}}function X(e,t){return i(oi,e)?oi[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,s,i=t;for("string"==typeof e&&(e=[e]),o(t)&&(i=function(e,n){n[t]=Z(e)}),s=e.length,n=0;n<s;n++)Li[e[n]]=i}function ne(e,t){te(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function se(e,t,n){null!=t&&i(Li,e)&&Li[e](t,n._a,n,e)}function ie(e,t){return(e%t+t)%t}function re(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ie(t,12);return e+=(t-n)/12,1===n?I(e)?29:28:31-n%7%2}function ae(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ji).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function oe(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ji.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ue(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=Fi.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Fi.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=Fi.call(this._shortMonthsParse,a),i!==-1?i:(i=Fi.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Fi.call(this._longMonthsParse,a),i!==-1?i:(i=Fi.call(this._shortMonthsParse,a),i!==-1?i:null))}function le(e,t,n){var s,i,r;if(this._monthsParseExact)return ue.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function he(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Z(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(t){return null!=t?(he(this,t),e.updateOffset(this,!0),this):$(this,"Month")}function ce(){return re(this.year(),this.month())}function fe(e){return this._monthsParseExact?(i(this,"_monthsRegex")||_e.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=Qi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(e){return this._monthsParseExact?(i(this,"_monthsRegex")||_e.call(this),e?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=Xi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function _e(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=ee(s[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)r[t]=ee(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ye(e){return I(e)?366:365}function ge(){return I(this.year())}function we(e,t,n,s,i,r,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}function pe(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ve(e,t,n){var s=7+t-n,i=(7+pe(e,0,s).getUTCDay()-t)%7;return-i+s-1}function ke(e,t,n,s,i){var r,a,o=(7+n-s)%7,u=ve(e,s,i),l=1+7*(t-1)+o+u;return l<=0?(r=e-1,a=ye(r)+l):l>ye(e)?(r=e+1,a=l-ye(e)):(r=e,a=l),{year:r,dayOfYear:a}}function Me(e,t,n){var s,i,r=ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(i=e.year()-1,s=a+De(i,t,n)):a>De(e.year(),t,n)?(s=a-De(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function De(e,t,n){var s=ve(e,t,n),i=ve(e+1,t,n);return(ye(e)-s+i)/7}function Se(e){return Me(e,this._week.dow,this._week.doy).week}function Ye(){return this._week.dow}function Oe(){return this._week.doy}function be(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function xe(e){var t=Me(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Te(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ne(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Re(e,t){var s=n(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Pe(s,this._week.dow):e?s[e.day()]:s}function We(e){return e===!0?Pe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ce(e){return e===!0?Pe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ue(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=Fi.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=Fi.call(this._weekdaysParse,a),i!==-1?i:(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=Fi.call(this._weekdaysParse,a),i!==-1?i:(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:(i=Fi.call(this._weekdaysParse,a),i!==-1?i:(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function He(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Ue.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Te(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ve(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ne(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ge(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ie.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=ir),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ee(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ie.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=rr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ae(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ie.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ar),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ie(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=ee(this.weekdaysMin(n,"")),i=ee(this.weekdaysShort(n,"")),r=ee(this.weekdays(n,"")),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);a.sort(e),o.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function je(){return this.hours()%12||12}function Ze(){return this.hours()||24}function ze(e,t){x(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $e(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Be(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Je(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,s,i,r=0;r<e.length;){for(i=Qe(e[r]).split("-"),t=i.length,n=Qe(e[r+1]),n=n?n.split("-"):null;t>0;){if(s=et(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&Je(i,n)>=t-1)break;t--}r++}return or}function Ke(e){return null!=e.match("^[^/\\\\]*$")}function et(e){var t,n=null;if(void 0===dr[e]&&"undefined"!=typeof module&&module&&module.exports&&Ke(e))try{n=or._abbr,t=require,t("./locale/"+e),tt(n)}catch(t){dr[e]=null}return dr[e]}function tt(e,t){var n;return e&&(n=a(t)?it(e):nt(e,t),n?or=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),or._abbr}function nt(e,t){if(null!==t){var n,s=hr;if(t.abbr=e,null!=dr[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=dr[e]._config;else if(null!=t.parentLocale)if(null!=dr[t.parentLocale])s=dr[t.parentLocale]._config;else{if(n=et(t.parentLocale),null==n)return cr[t.parentLocale]||(cr[t.parentLocale]=[]),cr[t.parentLocale].push({name:e,config:t}),null;s=n._config}return dr[e]=new Y(S(s,t)),cr[e]&&cr[e].forEach(function(e){nt(e.name,e.config)}),tt(e),dr[e]}return delete dr[e],null}function st(e,t){if(null!=t){var n,s,i=hr;null!=dr[e]&&null!=dr[e].parentLocale?dr[e].set(S(dr[e]._config,t)):(s=et(e),null!=s&&(i=s._config),t=S(i,t),null==s&&(t.abbr=e),n=new Y(t),n.parentLocale=dr[e],dr[e]=n),tt(e)}else null!=dr[e]&&(null!=dr[e].parentLocale?(dr[e]=dr[e].parentLocale,e===tt()&&tt(e)):null!=dr[e]&&delete dr[e]);return dr[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return or;if(!n(e)){if(t=et(e))return t;e=[e]}return Xe(e)}function rt(){return ai(dr)}function at(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[Gi]<0||n[Gi]>11?Gi:n[Ei]<1||n[Ei]>re(n[Vi],n[Gi])?Ei:n[Ai]<0||n[Ai]>24||24===n[Ai]&&(0!==n[Ii]||0!==n[ji]||0!==n[Zi])?Ai:n[Ii]<0||n[Ii]>59?Ii:n[ji]<0||n[ji]>59?ji:n[Zi]<0||n[Zi]>999?Zi:-1,f(e)._overflowDayOfYear&&(t<Vi||t>Ei)&&(t=Ei),f(e)._overflowWeeks&&t===-1&&(t=zi),f(e)._overflowWeekday&&t===-1&&(t=$i),f(e).overflow=t),e}function ot(e){var t,n,s,i,r,a,o=e._i,u=fr.exec(o)||mr.exec(o),l=yr.length,h=gr.length;if(u){for(f(e).iso=!0,t=0,n=l;t<n;t++)if(yr[t][1].exec(u[1])){i=yr[t][0],s=yr[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=h;t<n;t++)if(gr[t][1].exec(u[3])){r=(u[2]||" ")+gr[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!_r.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),pt(e)}else e._isValid=!1}function ut(e,t,n,s,i,r){var a=[lt(e),Bi.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function lt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ht(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function dt(e,t,n){if(e){var s=nr.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ct(e,t,n){if(e)return vr[e];if(t)return 0;var s=parseInt(n,10),i=s%100,r=(s-i)/100;return 60*r+i}function ft(e){var t,n=pr.exec(ht(e._i));if(n){if(t=ut(n[4],n[3],n[2],n[5],n[6],n[7]),!dt(n[1],t,e))return;e._a=t,e._tzm=ct(n[8],n[9],n[10]),e._d=pe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function mt(t){var n=wr.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(ot(t),void(t._isValid===!1&&(delete t._isValid,ft(t),t._isValid===!1&&(delete t._isValid,t._strict?t._isValid=!1:e.createFromInputFallback(t)))))}function _t(e,t,n){return null!=e?e:null!=t?t:n}function yt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function gt(e){var t,n,s,i,r,a=[];if(!e._d){for(s=yt(e),e._w&&null==e._a[Ei]&&null==e._a[Gi]&&wt(e),null!=e._dayOfYear&&(r=_t(e._a[Vi],s[Vi]),(e._dayOfYear>ye(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=pe(r,0,e._dayOfYear),e._a[Gi]=n.getUTCMonth(),e._a[Ei]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ai]&&0===e._a[Ii]&&0===e._a[ji]&&0===e._a[Zi]&&(e._nextDay=!0,e._a[Ai]=0),e._d=(e._useUTC?pe:we).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ai]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function wt(e){var t,n,s,i,r,a,o,u,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,a=4,n=_t(t.GG,e._a[Vi],Me(bt(),1,4).year),s=_t(t.W,1),i=_t(t.E,1),(i<1||i>7)&&(u=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,l=Me(bt(),r,a),n=_t(t.gg,e._a[Vi],l.year),s=_t(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r),s<1||s>De(n,r,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(o=ke(n,s,i,r,a),e._a[Vi]=o.year,e._dayOfYear=o.dayOfYear)}function pt(t){if(t._f===e.ISO_8601)return void ot(t);if(t._f===e.RFC_2822)return void ft(t);t._a=[],f(t).empty=!0;var n,s,i,r,a,o,u,l=""+t._i,h=l.length,d=0;for(i=R(t._f,t._locale).match(li)||[],u=i.length,n=0;n<u;n++)r=i[n],s=(l.match(X(r,t))||[])[0],s&&(a=l.substr(0,l.indexOf(s)),a.length>0&&f(t).unusedInput.push(a),l=l.slice(l.indexOf(s)+s.length),d+=s.length),ci[r]?(s?f(t).empty=!1:f(t).unusedTokens.push(r),se(r,s,t)):t._strict&&!s&&f(t).unusedTokens.push(r);f(t).charsLeftOver=h-d,l.length>0&&f(t).unusedInput.push(l),t._a[Ai]<=12&&f(t).bigHour===!0&&t._a[Ai]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[Ai]=vt(t._locale,t._a[Ai],t._meridiem),o=f(t).era,null!==o&&(t._a[Vi]=t._locale.erasConvertYear(o,t._a[Vi])),gt(t),at(t)}function vt(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function kt(e){var t,n,s,i,r,a,o=!1,u=e._f.length;if(0===u)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)r=0,a=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],pt(t),m(t)&&(a=!0),r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,o?r<s&&(s=r,n=t):(null==s||r<s||a)&&(s=r,n=t,a&&(o=!0));h(e,n||t)}function Mt(e){if(!e._d){var t=G(e._i),n=void 0===t.day?t.date:t.day;e._a=l([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),gt(e)}}function Dt(e){var t=new g(at(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,s=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===s&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new g(at(t)):(u(t)?e._d=t:n(s)?kt(e):s?pt(e):Yt(e),m(e)||(e._d=null),e))}function Yt(t){var i=t._i;a(i)?t._d=new Date(e.now()):u(i)?t._d=new Date(i.valueOf()):"string"==typeof i?mt(t):n(i)?(t._a=l(i.slice(0),function(e){return parseInt(e,10)}),gt(t)):s(i)?Mt(t):o(i)?t._d=new Date(i):e.createFromInputFallback(t)}function Ot(e,t,i,a,o){var u={};return t!==!0&&t!==!1||(a=t,t=void 0),i!==!0&&i!==!1||(a=i,i=void 0),(s(e)&&r(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=i,u._i=e,u._f=t,u._strict=a,Dt(u)}function bt(e,t,n,s){return Ot(e,t,n,s,!1)}function xt(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return bt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function Tt(){var e=[].slice.call(arguments,0);return xt("isBefore",e)}function Nt(){var e=[].slice.call(arguments,0);return xt("isAfter",e)}function Pt(e){var t,n,s=!1,r=Sr.length;for(t in e)if(i(e,t)&&(Fi.call(Sr,t)===-1||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[Sr[n]]){if(s)return!1;parseFloat(e[Sr[n]])!==Z(e[Sr[n]])&&(s=!0)}return!0}function Rt(){return this._isValid}function Wt(){return Kt(NaN)}function Ct(e){var t=G(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=Pt(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=it(),this._bubble()}function Ut(e){return e instanceof Ct}function Ht(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Ft(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&Z(e[s])!==Z(t[s]))&&a++;return a+r}function Lt(e,t){x(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+b(~~(e/60),2)+t+b(~~e%60,2)})}function Vt(e,t){var n,s,i,r=(t||"").match(e);return null===r?null:(n=r[r.length-1]||[],s=(n+"").match(Yr)||["-",0,0],i=+(60*s[1])+Z(s[2]),0===i?0:"+"===s[0]?i:-i)}function Gt(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(w(t)||u(t)?t.valueOf():bt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):bt(t).local()}function Et(e){return-Math.round(e._d.getTimezoneOffset())}function At(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Vt(Ci,t),null===t)return this}else Math.abs(t)<16&&!s&&(t=60*t);return!this._isUTC&&n&&(i=Et(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?rn(this,Kt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Et(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function jt(e){return this.utcOffset(0,e)}function Zt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Et(this),"m")),this}function zt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Vt(Wi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function $t(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),t=St(t),t._a?(e=t._isUTC?d(t._a):bt(t._a),this._isDSTShifted=this.isValid()&&Ft(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Jt(){return!!this.isValid()&&!this._isUTC}function Qt(){return!!this.isValid()&&this._isUTC}function Xt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Kt(e,t){var n,s,r,a=e,u=null;return Ut(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:o(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(u=Or.exec(e))?(n="-"===u[1]?-1:1,a={y:0,d:Z(u[Ei])*n,h:Z(u[Ai])*n,m:Z(u[Ii])*n,s:Z(u[ji])*n,ms:Z(Ht(1e3*u[Zi]))*n}):(u=br.exec(e))?(n="-"===u[1]?-1:1,a={y:en(u[2],n),M:en(u[3],n),w:en(u[4],n),d:en(u[5],n),h:en(u[6],n),m:en(u[7],n),s:en(u[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=nn(bt(a.from),bt(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),s=new Ct(a),Ut(e)&&i(e,"_locale")&&(s._locale=e._locale),Ut(e)&&i(e,"_isValid")&&(s._isValid=e._isValid),s}function en(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tn(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nn(e,t){var n;return e.isValid()&&t.isValid()?(t=Gt(t,e),e.isBefore(t)?n=tn(e,t):(n=tn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function sn(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),i=Kt(n,s),rn(this,i,e),this}}function rn(t,n,s,i){var r=n._milliseconds,a=Ht(n._days),o=Ht(n._months);t.isValid()&&(i=null==i||i,o&&he(t,$(t,"Month")+o*s),a&&q(t,"Date",$(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function an(e){return"string"==typeof e||e instanceof String}function on(e){return w(e)||u(e)||an(e)||o(e)||ln(e)||un(e)||null===e||void 0===e}function un(e){var t,n,a=s(e)&&!r(e),o=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=u.length;for(t=0;t<l;t+=1)n=u[t],o=o||i(e,n);return a&&o}function ln(e){var t=n(e),s=!1;return t&&(s=0===e.filter(function(t){return!o(t)&&an(e)}).length),t&&s}function hn(e){var t,n,a=s(e)&&!r(e),o=!1,u=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<u.length;t+=1)n=u[t],o=o||i(e,n);return a&&o}function dn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function cn(t,n){1===arguments.length&&(arguments[0]?on(arguments[0])?(t=arguments[0],n=void 0):hn(arguments[0])&&(n=arguments[0],t=void 0):(t=void 0,n=void 0));var s=t||bt(),i=Gt(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(M(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,bt(s)))}function fn(){return new g(this)}function mn(e,t){var n=w(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function _n(e,t){var n=w(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function yn(e,t,n,s){var i=w(e)?e:bt(e),r=w(t)?t:bt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&(s=s||"()",("("===s[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n)))}function gn(e,t){var n,s=w(e)?e:bt(e);return!(!this.isValid()||!s.isValid())&&(t=V(t)||"millisecond","millisecond"===t?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function wn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function vn(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(s=Gt(e,this),!s.isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=V(t)){case"year":r=kn(this,s)/12;break;case"month":r=kn(this,s);break;case"quarter":r=kn(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:j(r)}function kn(e,t){if(e.date()<t.date())return-kn(t,e);var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return t-r<0?(n=e.clone().add(i-1,"months"),
s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function Mn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Dn(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?P(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",P(n,"Z")):P(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,s,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",s=r+'[")]',this.format(e+t+n+s)}function Yn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=P(this,t);return this.localeData().postformat(n)}function On(e,t){return this.isValid()&&(w(e)&&e.isValid()||bt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.from(bt(),e)}function xn(e,t){return this.isValid()&&(w(e)&&e.isValid()||bt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.to(bt(),e)}function Nn(e){var t;return void 0===e?this._locale._abbr:(t=it(e),null!=t&&(this._locale=t),this)}function Pn(){return this._locale}function Rn(e,t){return(e%t+t)%t}function Wn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Cr:new Date(e,t,n).valueOf()}function Cn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Cr:Date.UTC(e,t,n)}function Un(t){var n,s;if(t=V(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(s=this._isUTC?Cn:Wn,t){case"year":n=s(this.year(),0,1);break;case"quarter":n=s(this.year(),this.month()-this.month()%3,1);break;case"month":n=s(this.year(),this.month(),1);break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=s(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Rn(n+(this._isUTC?0:this.utcOffset()*Rr),Wr);break;case"minute":n=this._d.valueOf(),n-=Rn(n,Rr);break;case"second":n=this._d.valueOf(),n-=Rn(n,Pr)}return this._d.setTime(n),e.updateOffset(this,!0),this}function Hn(t){var n,s;if(t=V(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(s=this._isUTC?Cn:Wn,t){case"year":n=s(this.year()+1,0,1)-1;break;case"quarter":n=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=s(this.year(),this.month()+1,1)-1;break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=Wr-Rn(n+(this._isUTC?0:this.utcOffset()*Rr),Wr)-1;break;case"minute":n=this._d.valueOf(),n+=Rr-Rn(n,Rr)-1;break;case"second":n=this._d.valueOf(),n+=Pr-Rn(n,Pr)-1}return this._d.setTime(n),e.updateOffset(this,!0),this}function Fn(){return this._d.valueOf()-6e4*(this._offset||0)}function Ln(){return Math.floor(this.valueOf()/1e3)}function Vn(){return new Date(this.valueOf())}function Gn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function En(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function An(){return this.isValid()?this.toISOString():null}function In(){return m(this)}function jn(){return h({},f(this))}function Zn(){return f(this).overflow}function zn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function $n(t,n){var s,i,r,a=this._eras||it("en")._eras;for(s=0,i=a.length;s<i;++s){switch(typeof a[s].since){case"string":r=e(a[s].since).startOf("day"),a[s].since=r.valueOf()}switch(typeof a[s].until){case"undefined":a[s].until=+(1/0);break;case"string":r=e(a[s].until).startOf("day").valueOf(),a[s].until=r.valueOf()}}return a}function qn(e,t,n){var s,i,r,a,o,u=this.eras();for(e=e.toUpperCase(),s=0,i=u.length;s<i;++s)if(r=u[s].name.toUpperCase(),a=u[s].abbr.toUpperCase(),o=u[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[s];break;case"NNNN":if(r===e)return u[s];break;case"NNNNN":if(o===e)return u[s]}else if([r,a,o].indexOf(e)>=0)return u[s]}function Bn(t,n){var s=t.since<=t.until?1:-1;return void 0===n?e(t.since).year():e(t.since).year()+(n-t.offset)*s}function Jn(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].name;if(s[e].until<=n&&n<=s[e].since)return s[e].name}return""}function Qn(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].narrow;if(s[e].until<=n&&n<=s[e].since)return s[e].narrow}return""}function Xn(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].abbr;if(s[e].until<=n&&n<=s[e].since)return s[e].abbr}return""}function Kn(){var t,n,s,i,r=this.localeData().eras();for(t=0,n=r.length;t<n;++t)if(s=r[t].since<=r[t].until?1:-1,i=this.clone().startOf("day").valueOf(),r[t].since<=i&&i<=r[t].until||r[t].until<=i&&i<=r[t].since)return(this.year()-e(r[t].since).year())*s+r[t].offset;return this.year()}function es(e){return i(this,"_erasNameRegex")||os.call(this),e?this._erasNameRegex:this._erasRegex}function ts(e){return i(this,"_erasAbbrRegex")||os.call(this),e?this._erasAbbrRegex:this._erasRegex}function ns(e){return i(this,"_erasNarrowRegex")||os.call(this),e?this._erasNarrowRegex:this._erasRegex}function ss(e,t){return t.erasAbbrRegex(e)}function is(e,t){return t.erasNameRegex(e)}function rs(e,t){return t.erasNarrowRegex(e)}function as(e,t){return t._eraYearOrdinalRegex||Pi}function os(){var e,t,n=[],s=[],i=[],r=[],a=this.eras();for(e=0,t=a.length;e<t;++e)s.push(ee(a[e].name)),n.push(ee(a[e].abbr)),i.push(ee(a[e].narrow)),r.push(ee(a[e].name)),r.push(ee(a[e].abbr)),r.push(ee(a[e].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function us(e,t){x(0,[e,e.length],0,t)}function ls(e){return _s.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function hs(e){return _s.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ds(){return De(this.year(),1,4)}function cs(){return De(this.isoWeekYear(),1,4)}function fs(){var e=this.localeData()._week;return De(this.year(),e.dow,e.doy)}function ms(){var e=this.localeData()._week;return De(this.weekYear(),e.dow,e.doy)}function _s(e,t,n,s,i){var r;return null==e?Me(this,s,i).year:(r=De(e,s,i),t>r&&(t=r),ys.call(this,e,t,n,s,i))}function ys(e,t,n,s,i){var r=ke(e,t,n,s,i),a=pe(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function gs(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function ws(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ps(e,t){t[Zi]=Z(1e3*("0."+e))}function vs(){return this._isUTC?"UTC":""}function ks(){return this._isUTC?"Coordinated Universal Time":""}function Ms(e){return bt(1e3*e)}function Ds(){return bt.apply(null,arguments).parseZone()}function Ss(e){return e}function Ys(e,t,n,s){var i=it(),r=d().set(s,t);return i[n](r,e)}function Os(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ys(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Ys(e,s,n,"month");return i}function bs(e,t,n,s){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var i,r=it(),a=e?r._week.dow:0,u=[];if(null!=n)return Ys(t,(n+a)%7,s,"day");for(i=0;i<7;i++)u[i]=Ys(t,(i+a)%7,s,"day");return u}function xs(e,t){return Os(e,t,"months")}function Ts(e,t){return Os(e,t,"monthsShort")}function Ns(e,t,n){return bs(e,t,n,"weekdays")}function Ps(e,t,n){return bs(e,t,n,"weekdaysShort")}function Rs(e,t,n){return bs(e,t,n,"weekdaysMin")}function Ws(){var e=this._data;return this._milliseconds=Ar(this._milliseconds),this._days=Ar(this._days),this._months=Ar(this._months),e.milliseconds=Ar(e.milliseconds),e.seconds=Ar(e.seconds),e.minutes=Ar(e.minutes),e.hours=Ar(e.hours),e.months=Ar(e.months),e.years=Ar(e.years),this}function Cs(e,t,n,s){var i=Kt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Us(e,t){return Cs(this,e,t,1)}function Hs(e,t){return Cs(this,e,t,-1)}function Fs(e){return e<0?Math.floor(e):Math.ceil(e)}function Ls(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*Fs(Gs(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=j(r/1e3),u.seconds=e%60,t=j(e/60),u.minutes=t%60,n=j(t/60),u.hours=n%24,a+=j(n/24),i=j(Vs(a)),o+=i,a-=Fs(Gs(i)),s=j(o/12),o%=12,u.days=a,u.months=o,u.years=s,this}function Vs(e){return 4800*e/146097}function Gs(e){return 146097*e/4800}function Es(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=V(e),"month"===e||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+Vs(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Gs(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function As(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN}function Is(e){return function(){return this.as(e)}}function js(){return Kt(this)}function Zs(e){return e=V(e),this.isValid()?this[e+"s"]():NaN}function zs(e){return function(){return this.isValid()?this._data[e]:NaN}}function $s(){return j(this.days()/7)}function qs(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function Bs(e,t,n,s){var i=Kt(e).abs(),r=ra(i.as("s")),a=ra(i.as("m")),o=ra(i.as("h")),u=ra(i.as("d")),l=ra(i.as("M")),h=ra(i.as("w")),d=ra(i.as("y")),c=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(c=c||h<=1&&["w"]||h<n.w&&["ww",h]),c=c||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d],c[2]=t,c[3]=+e>0,c[4]=s,qs.apply(null,c)}function Js(e){return void 0===e?ra:"function"==typeof e&&(ra=e,!0)}function Qs(e,t){return void 0!==aa[e]&&(void 0===t?aa[e]:(aa[e]=t,"s"===e&&(aa.ss=t-1),!0))}function Xs(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,s,i=!1,r=aa;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(r=Object.assign({},aa,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),n=this.localeData(),s=Bs(this,!i,r,n),i&&(s=n.pastFuture(+this,s)),n.postformat(s)}function Ks(e){return(e>0)-(e<0)||+e}function ei(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,i,r,a,o,u=oa(this._milliseconds)/1e3,l=oa(this._days),h=oa(this._months),d=this.asSeconds();return d?(e=j(u/60),t=j(e/60),u%=60,e%=60,n=j(h/12),h%=12,s=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",r=Ks(this._months)!==Ks(d)?"-":"",a=Ks(this._days)!==Ks(d)?"-":"",o=Ks(this._milliseconds)!==Ks(d)?"-":"",i+"P"+(n?r+n+"Y":"")+(h?r+h+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(u?o+s+"S":"")):"P0D"}var ti,ni;ni=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),s=n.length>>>0;for(t=0;t<s;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var si=e.momentProperties=[],ii=!1,ri={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var ai;ai=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)i(e,t)&&n.push(t);return n};var oi,ui={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},li=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,hi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,di={},ci={},fi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},mi="Invalid date",_i="%d",yi=/\d{1,2}/,gi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},wi={},pi={},vi=/\d/,ki=/\d\d/,Mi=/\d{3}/,Di=/\d{4}/,Si=/[+-]?\d{6}/,Yi=/\d\d?/,Oi=/\d\d\d\d?/,bi=/\d\d\d\d\d\d?/,xi=/\d{1,3}/,Ti=/\d{1,4}/,Ni=/[+-]?\d{1,6}/,Pi=/\d+/,Ri=/[+-]?\d+/,Wi=/Z|[+-]\d\d:?\d\d/gi,Ci=/Z|[+-]\d\d(?::?\d\d)?/gi,Ui=/[+-]?\d+(\.\d{1,3})?/,Hi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;oi={};var Fi,Li={},Vi=0,Gi=1,Ei=2,Ai=3,Ii=4,ji=5,Zi=6,zi=7,$i=8;Fi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},x("M",["MM",2],"Mo",function(){return this.month()+1}),x("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),x("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),E("month",8),Q("M",Yi),Q("MM",Yi,ki),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Gi]=Z(e)-1}),te(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[Gi]=i:f(n).invalidMonth=e});var qi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Bi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ji=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qi=Hi,Xi=Hi;x("Y",0,0,function(){var e=this.year();return e<=9999?b(e,4):"+"+e}),x(0,["YY",2],0,function(){return this.year()%100}),x(0,["YYYY",4],0,"year"),x(0,["YYYYY",5],0,"year"),x(0,["YYYYYY",6,!0],0,"year"),L("year","y"),E("year",1),Q("Y",Ri),Q("YY",Yi,ki),Q("YYYY",Ti,Di),Q("YYYYY",Ni,Si),Q("YYYYYY",Ni,Si),te(["YYYYY","YYYYYY"],Vi),te("YYYY",function(t,n){n[Vi]=2===t.length?e.parseTwoDigitYear(t):Z(t)}),te("YY",function(t,n){n[Vi]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[Vi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return Z(e)+(Z(e)>68?1900:2e3)};var Ki=z("FullYear",!0);x("w",["ww",2],"wo","week"),x("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),E("week",5),E("isoWeek",5),Q("w",Yi),Q("ww",Yi,ki),Q("W",Yi),Q("WW",Yi,ki),ne(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=Z(e)});var er={dow:0,doy:6};x("d",0,"do","day"),x("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),x("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),x("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),x("e",0,0,"weekday"),x("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),E("day",11),E("weekday",11),E("isoWeekday",11),Q("d",Yi),Q("e",Yi),Q("E",Yi),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,s){t[s]=Z(e)});var tr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ir=Hi,rr=Hi,ar=Hi;x("H",["HH",2],0,"hour"),x("h",["hh",2],0,je),x("k",["kk",2],0,Ze),x("hmm",0,0,function(){return""+je.apply(this)+b(this.minutes(),2)}),x("hmmss",0,0,function(){return""+je.apply(this)+b(this.minutes(),2)+b(this.seconds(),2)}),x("Hmm",0,0,function(){return""+this.hours()+b(this.minutes(),2)}),x("Hmmss",0,0,function(){return""+this.hours()+b(this.minutes(),2)+b(this.seconds(),2)}),ze("a",!0),ze("A",!1),L("hour","h"),E("hour",13),Q("a",$e),Q("A",$e),Q("H",Yi),Q("h",Yi),Q("k",Yi),Q("HH",Yi,ki),Q("hh",Yi,ki),Q("kk",Yi,ki),Q("hmm",Oi),Q("hmmss",bi),Q("Hmm",Oi),Q("Hmmss",bi),te(["H","HH"],Ai),te(["k","kk"],function(e,t,n){var s=Z(e);t[Ai]=24===s?0:s}),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[Ai]=Z(e),f(n).bigHour=!0}),te("hmm",function(e,t,n){var s=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s)),f(n).bigHour=!0}),te("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s,2)),t[ji]=Z(e.substr(i)),f(n).bigHour=!0}),te("Hmm",function(e,t,n){var s=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s))}),te("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s,2)),t[ji]=Z(e.substr(i))});var or,ur=/[ap]\.?m?\.?/i,lr=z("Hours",!0),hr={calendar:ui,longDateFormat:fi,invalidDate:mi,ordinal:_i,dayOfMonthOrdinalParse:yi,relativeTime:gi,months:qi,monthsShort:Bi,week:er,weekdays:tr,weekdaysMin:sr,weekdaysShort:nr,meridiemParse:ur},dr={},cr={},fr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_r=/Z|[+-]\d\d(?::?\d\d)?/,yr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wr=/^\/?Date\((-?\d+)/i,pr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=v("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var kr=v("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),Mr=v("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}),Dr=function(){return Date.now?Date.now():+new Date},Sr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Lt("Z",":"),Lt("ZZ",""),Q("Z",Ci),Q("ZZ",Ci),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vt(Ci,e)});var Yr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Or=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,br=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Kt.fn=Ct.prototype,Kt.invalid=Wt;var xr=sn(1,"add"),Tr=sn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Nr=v("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),Pr=1e3,Rr=60*Pr,Wr=60*Rr,Cr=3506328*Wr;x("N",0,0,"eraAbbr"),x("NN",0,0,"eraAbbr"),x("NNN",0,0,"eraAbbr"),x("NNNN",0,0,"eraName"),x("NNNNN",0,0,"eraNarrow"),x("y",["y",1],"yo","eraYear"),x("y",["yy",2],0,"eraYear"),x("y",["yyy",3],0,"eraYear"),x("y",["yyyy",4],0,"eraYear"),Q("N",ss),Q("NN",ss),Q("NNN",ss),Q("NNNN",is),Q("NNNNN",rs),te(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){var i=n._locale.erasParse(e,s,n._strict);i?f(n).era=i:f(n).invalidEra=e}),Q("y",Pi),Q("yy",Pi),Q("yyy",Pi),Q("yyyy",Pi),Q("yo",as),te(["y","yy","yyy","yyyy"],Vi),te(["yo"],function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Vi]=n._locale.eraYearOrdinalParse(e,i):t[Vi]=parseInt(e,10)}),x(0,["gg",2],0,function(){return this.weekYear()%100}),x(0,["GG",2],0,function(){return this.isoWeekYear()%100}),us("gggg","weekYear"),us("ggggg","weekYear"),us("GGGG","isoWeekYear"),us("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),E("weekYear",1),E("isoWeekYear",1),Q("G",Ri),Q("g",Ri),Q("GG",Yi,ki),Q("gg",Yi,ki),Q("GGGG",Ti,Di),Q("gggg",Ti,Di),Q("GGGGG",Ni,Si),Q("ggggg",Ni,Si),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=Z(e)}),ne(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),x("Q",0,"Qo","quarter"),L("quarter","Q"),E("quarter",7),Q("Q",vi),te("Q",function(e,t){t[Gi]=3*(Z(e)-1)}),x("D",["DD",2],"Do","date"),L("date","D"),E("date",9),Q("D",Yi),Q("DD",Yi,ki),Q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],Ei),te("Do",function(e,t){t[Ei]=Z(e.match(Yi)[0])});var Ur=z("Date",!0);x("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),E("dayOfYear",4),Q("DDD",xi),Q("DDDD",Mi),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Z(e)}),x("m",["mm",2],0,"minute"),L("minute","m"),E("minute",14),Q("m",Yi),Q("mm",Yi,ki),te(["m","mm"],Ii);var Hr=z("Minutes",!1);x("s",["ss",2],0,"second"),L("second","s"),E("second",15),Q("s",Yi),Q("ss",Yi,ki),te(["s","ss"],ji);var Fr=z("Seconds",!1);x("S",0,0,function(){return~~(this.millisecond()/100)}),x(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),x(0,["SSS",3],0,"millisecond"),x(0,["SSSS",4],0,function(){return 10*this.millisecond()}),x(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),x(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),x(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),x(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),x(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),E("millisecond",16),Q("S",xi,vi),Q("SS",xi,ki),Q("SSS",xi,Mi);var Lr,Vr;for(Lr="SSSS";Lr.length<=9;Lr+="S")Q(Lr,Pi);for(Lr="S";Lr.length<=9;Lr+="S")te(Lr,ps);Vr=z("Milliseconds",!1),x("z",0,0,"zoneAbbr"),x("zz",0,0,"zoneName");var Gr=g.prototype;Gr.add=xr,Gr.calendar=cn,Gr.clone=fn,Gr.diff=vn,Gr.endOf=Hn,Gr.format=Yn,Gr.from=On,Gr.fromNow=bn,Gr.to=xn,Gr.toNow=Tn,Gr.get=B,Gr.invalidAt=Zn,Gr.isAfter=mn,Gr.isBefore=_n,Gr.isBetween=yn,Gr.isSame=gn,Gr.isSameOrAfter=wn,Gr.isSameOrBefore=pn,Gr.isValid=In,Gr.lang=Nr,Gr.locale=Nn,Gr.localeData=Pn,Gr.max=Mr,Gr.min=kr,Gr.parsingFlags=jn,Gr.set=J,Gr.startOf=Un,Gr.subtract=Tr,Gr.toArray=Gn,Gr.toObject=En,Gr.toDate=Vn,Gr.toISOString=Dn,Gr.inspect=Sn,"undefined"!=typeof Symbol&&null!=Symbol.for&&(Gr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Gr.toJSON=An,Gr.toString=Mn,Gr.unix=Ln,Gr.valueOf=Fn,Gr.creationData=zn,Gr.eraName=Jn,Gr.eraNarrow=Qn,Gr.eraAbbr=Xn,Gr.eraYear=Kn,Gr.year=Ki,Gr.isLeapYear=ge,Gr.weekYear=ls,Gr.isoWeekYear=hs,Gr.quarter=Gr.quarters=gs,Gr.month=de,Gr.daysInMonth=ce,Gr.week=Gr.weeks=be,Gr.isoWeek=Gr.isoWeeks=xe,Gr.weeksInYear=fs,Gr.weeksInWeekYear=ms,Gr.isoWeeksInYear=ds,Gr.isoWeeksInISOWeekYear=cs,Gr.date=Ur,Gr.day=Gr.days=Fe,Gr.weekday=Le,Gr.isoWeekday=Ve,Gr.dayOfYear=ws,Gr.hour=Gr.hours=lr,Gr.minute=Gr.minutes=Hr,Gr.second=Gr.seconds=Fr,Gr.millisecond=Gr.milliseconds=Vr,Gr.utcOffset=At,Gr.utc=jt,Gr.local=Zt,Gr.parseZone=zt,Gr.hasAlignedHourOffset=$t,Gr.isDST=qt,Gr.isLocal=Jt,Gr.isUtcOffset=Qt,Gr.isUtc=Xt,Gr.isUTC=Xt,Gr.zoneAbbr=vs,Gr.zoneName=ks,Gr.dates=v("dates accessor is deprecated. Use date instead.",Ur),Gr.months=v("months accessor is deprecated. Use month instead",de),Gr.years=v("years accessor is deprecated. Use year instead",Ki),Gr.zone=v("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),Gr.isDSTShifted=v("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var Er=Y.prototype;Er.calendar=O,Er.longDateFormat=W,Er.invalidDate=C,Er.ordinal=U,Er.preparse=Ss,Er.postformat=Ss,Er.relativeTime=H,Er.pastFuture=F,Er.set=D,Er.eras=$n,Er.erasParse=qn,Er.erasConvertYear=Bn,Er.erasAbbrRegex=ts,Er.erasNameRegex=es,Er.erasNarrowRegex=ns,Er.months=ae,Er.monthsShort=oe,Er.monthsParse=le,Er.monthsRegex=me,Er.monthsShortRegex=fe,Er.week=Se,Er.firstDayOfYear=Oe,Er.firstDayOfWeek=Ye,Er.weekdays=Re,Er.weekdaysMin=Ce,Er.weekdaysShort=We,Er.weekdaysParse=He,Er.weekdaysRegex=Ge,Er.weekdaysShortRegex=Ee,Er.weekdaysMinRegex=Ae,Er.isPM=qe,Er.meridiem=Be,tt("en",{eras:[{since:"0001-01-01",until:+(1/0),offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-(1/0),offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===Z(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=v("moment.lang is deprecated. Use moment.locale instead.",tt),e.langData=v("moment.langData is deprecated. Use moment.localeData instead.",it);var Ar=Math.abs,Ir=Is("ms"),jr=Is("s"),Zr=Is("m"),zr=Is("h"),$r=Is("d"),qr=Is("w"),Br=Is("M"),Jr=Is("Q"),Qr=Is("y"),Xr=zs("milliseconds"),Kr=zs("seconds"),ea=zs("minutes"),ta=zs("hours"),na=zs("days"),sa=zs("months"),ia=zs("years"),ra=Math.round,aa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},oa=Math.abs,ua=Ct.prototype;
//! moment.js
return ua.isValid=Rt,ua.abs=Ws,ua.add=Us,ua.subtract=Hs,ua.as=Es,ua.asMilliseconds=Ir,ua.asSeconds=jr,ua.asMinutes=Zr,ua.asHours=zr,ua.asDays=$r,ua.asWeeks=qr,ua.asMonths=Br,ua.asQuarters=Jr,ua.asYears=Qr,ua.valueOf=As,ua._bubble=Ls,ua.clone=js,ua.get=Zs,ua.milliseconds=Xr,ua.seconds=Kr,ua.minutes=ea,ua.hours=ta,ua.days=na,ua.weeks=$s,ua.months=sa,ua.years=ia,ua.humanize=Xs,ua.toISOString=ei,ua.toString=ei,ua.toJSON=ei,ua.locale=Nn,ua.localeData=Pn,ua.toIsoString=v("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ei),ua.lang=Nr,x("X",0,0,"unix"),x("x",0,0,"valueOf"),Q("x",Ri),Q("X",Ui),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),te("x",function(e,t,n){n._d=new Date(Z(e))}),e.version="2.29.4",t(bt),e.fn=Gr,e.min=Tt,e.max=Nt,e.now=Dr,e.utc=d,e.unix=Ms,e.months=xs,e.isDate=u,e.locale=tt,e.invalid=_,e.duration=Kt,e.isMoment=w,e.weekdays=Ns,e.parseZone=Ds,e.localeData=it,e.isDuration=Ut,e.monthsShort=Ts,e.weekdaysMin=Rs,e.defineLocale=nt,e.updateLocale=st,e.locales=rt,e.weekdaysShort=Ps,e.normalizeUnits=V,e.relativeTimeRounding=Js,e.relativeTimeThreshold=Qs,e.calendarFormat=dn,e.prototype=Gr,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.lib.js' */
define("jira/moment/moment.lib",["atlassian/libs/moment"],function(n){return n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.formatter.js' */
define("jira/moment/moment.jira.formatter",["underscore","exports"],function(t,e){"use strict";function r(e){return u[e]||t.reduce(e,function(t,e){return t+(u[e]||e)},"")}function n(e){var n=!1,u=!1,a="",o=t.reduce(e,function(t,e,o,i){return u?u=!1:"'"===e?(a&&(t+=r(a),a=""),"'"===i[o+1]?(t+=e,u=!0):(t+=n?"]":"[",n=!n)):n?t+=e:/[a-zA-Z]/.test(e)?a&&a[a.length-1]!==e?(t+=r(a),a=e):a+=e:(a&&(t+=r(a),a=""),t+=e),t},"");return a&&(o+=r(a)),o}var u={d:"D",y:"Y",a:"A",E:"d",u:"d",Z:"ZZ",z:"[GMT]ZZ",XX:"ZZ",XXX:"Z"};e.translateSimpleDateFormat=n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.i18n.js' */
define("jira/moment/moment.jira.i18n",["jira/moment/moment.lib","jira/moment/moment.jira.formatter","jira/util/formatter","jira/util/data/meta","wrm/data"],function(e,t,a,m,o){"use strict";var r=o.claim("jira.webresources:dateFormatProvider.dateFormat");e.locale("jira",{months:r.months,monthsShort:r.monthsShort,weekdays:r.weekdays,weekdaysShort:r.weekdaysShort,weekdaysMin:r.weekdaysShort,longDateFormat:{LT:t.translateSimpleDateFormat(m.get("date-time")),L:t.translateSimpleDateFormat(m.get("date-day")),LL:t.translateSimpleDateFormat(m.get("date-dmy")),LLL:t.translateSimpleDateFormat(m.get("date-complete"))},meridiem:function(e){return r.meridiem[+(e>11)]},calendar:{sameDay:"LLL",nextDay:"LLL",nextWeek:"LLL",lastDay:"LLL",lastWeek:"LLL",sameElse:"LLL"},relativeTime:{future:a.format("in {0}","%s"),past:a.format("{0} ago","%s"),s:"a few seconds",m:"a minute",mm:a.format("{0} minutes","%d"),h:"an hour",hh:a.format("{0} hours","%d"),d:"a day",dd:a.format("{0} days","%d"),M:"a month",MM:a.format("{0} months","%d"),y:"a year",yy:a.format("{0} years","%d")}})});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.js' */
define("jira/moment",["jira/moment/moment.lib","jira/moment/moment.jira.i18n"],function(t,n){return t.splitDate=function(t,n){return Date.splitDate(t,n)},t});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.legacy.js' */
!function(){AJS.namespace("JIRA.translateSimpleDateFormat",null,require("jira/moment/moment.jira.formatter").translateSimpleDateFormat),AJS.namespace("window.moment",null,require("jira/moment"))}();;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/time.js' */
define("jira/jquery/plugins/livestamp/time",["jira/util/formatter","jira/moment","jira/util/data/meta"],function(e,t,n){"use strict";function o(e,t){this.key=e,this.isAge=t}function r(t,n,o){return t in y?e.format(y[t],o):null}function a(e){switch(e.key){case"short":case"shortAge":return"ll";case"long":case"longAge":return"LL";case"full":case"fullAge":return"LLL";case"timestamp":return"LLL";default:return null}}function i(e){return e.clone().hours(0).minutes(0).seconds(0).milliseconds(0)}function u(e,t){var n=i(e),o=n.clone().subtract(1,"d");return o<=t&&t<n}function l(e,t){var n=i(e).add(1,"d"),o=n.clone().add(1,"d");return n<=t&&t<o}function m(e,t){return Math.floor(t.diff(e,"minutes",!0))}function s(e,t){var n=t.diff(e,"hours",!0);return Math.round(n)}function c(e,t){return Math.floor(t.diff(e,"days",!0))}function d(e,t){var n=a(t);return e.format(n)}function g(e,n,o){if(o=o||t(),e<=o){if(e>o.clone().subtract(1,"m"))return r("aMomentAgo",n);if(e>o.clone().subtract(2,"m"))return r("oneMinuteAgo",n);if(e>o.clone().subtract(50,"m"))return r("xMinutesAgo",n,m(e,o));if(e>o.clone().subtract(90,"m"))return r("oneHourAgo",n);if(u(o,e)&&e<o.clone().subtract(5,"h"))return r("oneDayAgo",n);if(e>o.clone().subtract(1,"d"))return r("xHoursAgo",n,s(e,o));if(e>o.clone().subtract(7,"d"))return r("xDaysAgo",n,Math.max(c(e,o),2));if(e>o.clone().subtract(8,"d"))return r("oneWeekAgo",n)}else{if(e<o.clone().add(1,"m"))return r("inAMoment",n);if(e<o.clone().add(2,"m"))return r("inOneMinute",n);if(e<o.clone().add(50,"m"))return r("inXMinutes",n,m(o,e));if(e<o.clone().add(90,"m"))return r("inOneHour",n);if(l(o,e)&&e>o.clone().add(5,"h"))return r("inOneDay",n);if(e<o.clone().add(1,"d"))return r("inXHours",n,s(o,e));if(e<o.clone().add(7,"d"))return r("inXDays",n,Math.max(c(o,e),2));if(e<o.clone().add(8,"d"))return r("inOneWeek",n)}return d(e,n)}var f={},v=n.getBoolean("date-relativize");o.types={};for(var x,A=["shortAge","longAge","fullAge","short","long","full","timestamp"],h=0,T=A.length;h<T;h++)x=A[h],o.types[x]=new o(x,x.toLowerCase().indexOf("age")!==-1);var y={};return f.FormatType=o,f.formatDate=function(e,t,n){return e&&t?(v||n)&&t.isAge?g(e,t):d(e,t):null},f.setRelativeTranslations=function(e){for(var t in e)y[t]=e[t]},f.restoreDefaultRelativeTranslations=function(){this.setRelativeTranslations({inAMoment:"Now",inOneMinute:"In 1 minute",inXMinutes:"In {0} minutes",inOneHour:"In 1 hour",inXHours:"In {0} hours",inOneDay:"Tomorrow",inXDays:"In {0} days",inOneWeek:"In 1 week",aMomentAgo:"Just now",oneMinuteAgo:"1 minute ago",xMinutesAgo:"{0} minutes ago",oneHourAgo:"1 hour ago",xHoursAgo:"{0} hours ago",oneDayAgo:"Yesterday",xDaysAgo:"{0} days ago",oneWeekAgo:"1 week ago"})},f.restoreDefaultRelativeTranslations(),f.formatDateWithRelativeAge=g,f.formatDateWithFormatString=d,f}),AJS.namespace("JIRA.Time",null,require("jira/jquery/plugins/livestamp/time"));;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/livestamp.js' */
define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/skate","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],function(t,e,i,a,r){"use strict";var n=6e3,u=a.getBoolean("date-relativize");e("livestamp",{type:e.type.CLASSNAME,prototype:{update:function(){var e=t(this),a=e.data("relativize"),n=e.attr("datetime");if(n&&(n=isNaN(n)?i(n).utcOffset(n):i(parseInt(n,10)),i.isMoment(n)&&n.isValid())){var m=e.data("datetime-format");m=m?m:"fullAge",u||a||(m=m.replace("Age",""));var s=r.formatDate(n,r.FormatType.types[m],a);return e.text()!==s&&e.text(s),!0}return!1},onTimeout:function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=!1);var t=this.update();t&&(this.timerId=setTimeout(this.onTimeout.bind(this),n))}},attributes:function(t){t.onTimeout()},attached:function(t){t.onTimeout()},detached:function(t){clearTimeout(t.timerId),t.timerId=!1}}),t.fn.livestamp=function(){return this}}),function(){require("jira/jquery/plugins/livestamp/livestamp")}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/babel-polyfill.js' */
!function(t,n,r){"use strict";!function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=64)}([function(t,n,e){var o=e(9),i=e(23),u=e(18),c=e(32),f=e(27),a=function(t,n,e){var s,l,p,h,v=t&a.F,y=t&a.G,g=t&a.S,b=t&a.P,d=t&a.B,x=y?o:g?o[n]||(o[n]={}):(o[n]||{}).prototype,m=y?i:i[n]||(i[n]={}),O=m.prototype||(m.prototype={});y&&(e=n);for(s in e)l=!v&&x&&x[s]!==r,p=(l?x:e)[s],h=d&&l?f(p,o):b&&"function"==typeof p?f(Function.call,p):p,x&&c(x,s,p,t&a.U),m[s]!=p&&u(m,s,h),b&&O[s]!=p&&(O[s]=p)};o.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(40)("wks"),o=r(26),i=r(9).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},function(t,n,r){var e=r(16);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(21),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){t.exports=!r(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(0),o=r(6),i=r(16),u=/"/g,c=function(t,n,r,e){var o=String(i(t)),c="<"+n;return""!==r&&(c+=" "+r+'="'+String(e).replace(u,"&quot;")+'"'),c+">"+o+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*o(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){var e=r(28),o=r(16);t.exports=function(t){return e(o(t))}},function(t,r){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof n&&(n=e)},function(t,n,r){var e=r(15),o=r(51),i=r(24),u=Object.defineProperty;n.f=r(5)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(6);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(0),o=r(23),i=r(6);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i(function(){r(1)}),"Object",u)}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,e){var o=e(1)("unscopables"),i=Array.prototype;i[o]==r&&e(18)(i,o,{}),t.exports=function(t){i[o][t]=!0}},function(t,n,r){var e=r(3);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){if(t==r)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var o=e(27),i=e(28),u=e(2),c=e(4),f=e(50);t.exports=function(t,n){var e=1==t,a=2==t,s=3==t,l=4==t,p=6==t,h=5==t||p,v=n||f;return function(n,f,y){for(var g,b,d=u(n),x=i(d),m=o(f,y,3),O=c(x.length),S=0,j=e?v(n,O):a?v(n,0):r;O>S;S++)if((h||S in x)&&(g=x[S],b=m(g,S,d),t))if(e)j[S]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:j.push(g)}else if(l)return!1;return p?-1:s||l?l:j}}},function(t,n,r){var e=r(10),o=r(25);t.exports=r(5)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(54),o=r(44);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(31),o=r(25),i=r(8),u=r(24),c=r(13),f=r(51),a=Object.getOwnPropertyDescriptor;n.f=r(5)?a:function(t,n){if(t=i(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return o(!e.f.call(t,n),t[n])}},function(n,r){var e=n.exports={version:"2.5.1"};"number"==typeof t&&(t=e)},function(t,n,r){var e=r(3);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(t===r?"":t,")_",(++e+o).toString(36))}},function(t,n,e){var o=e(19);t.exports=function(t,n,e){if(o(t),n===r)return t;switch(e){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(29);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(21),o=Math.max,i=Math.min;t.exports=function(t,n){return t=e(t),t<0?o(t+n,0):i(t,n)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(9),o=r(18),i=r(13),u=r(26)("src"),c=Function.toString,f=(""+c).split("toString");r(23).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,c){var a="function"==typeof r;a&&(i(r,"name")||o(r,"name",n)),t[n]!==r&&(a&&(i(r,u)||o(r,u,t[n]?""+t[n]:f.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:o(t,n,r):(delete t[n],o(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||c.call(this)})},function(t,n,r){var e=r(26)("meta"),o=r(3),i=r(13),u=r(10).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(6)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},p=function(t,n){if(!i(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},h=function(t){return a&&v.NEED&&f(t)&&!i(t,e)&&s(t),t},v=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:p,onFreeze:h}},function(t,n){t.exports=!1},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(29);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(13),o=r(2),i=r(43)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){t.exports={}},function(t,n,r){t.exports=r(34)||!r(6)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(9)[t]})},function(t,n,r){var e=r(9),o=e["__core-js_shared__"]||(e["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){var e=r(10).f,o=r(13),i=r(1)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n,r){var e=r(8),o=r(4),i=r(30);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=o(f.length),s=i(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(40)("keys"),o=r(26);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var o=e(15),i=e(55),u=e(44),c=e(43)("IE_PROTO"),f=function(){},a=function(){var t,n=e(52)("iframe"),r=u.length;for(n.style.display="none",e(56).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[u[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f.prototype=o(t),e=new f,f.prototype=null,e[c]=t):e=a(),n===r?e:i(e,n)}},function(t,n,r){var e=r(54),o=r(44).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){var e=r(95),o=r(16);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(t))}},function(t,n,r){var e=r(1)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){var e=r(10),o=r(25);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){var e=r(126);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){t.exports=!r(5)&&!r(6)(function(){return 7!=Object.defineProperty(r(52)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(3),o=r(9).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){n.f=r(1)},function(t,n,r){var e=r(13),o=r(8),i=r(42)(!1),u=r(43)("IE_PROTO");t.exports=function(t,n){var r,c=o(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~i(a,r)||a.push(r));return a}},function(t,n,r){var e=r(10),o=r(15),i=r(20);t.exports=r(5)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(9).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(8),o=r(46).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?c(t):o(e(t))}},function(t,n,e){var o=e(29),i=e(1)("toStringTag"),u="Arguments"==o(function(){return arguments}()),c=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,e,f;return t===r?"Undefined":null===t?"Null":"string"==typeof(e=c(n=Object(t),i))?e:u?o(n):"Object"==(f=o(n))&&"function"==typeof n.callee?"Arguments":f}},function(t,n,e){var o=e(21),i=e(16);t.exports=function(t){return function(n,e){var u,c,f=String(i(n)),a=o(e),s=f.length;return a<0||a>=s?t?"":r:(u=f.charCodeAt(a),u<55296||u>56319||a+1===s||(c=f.charCodeAt(a+1))<56320||c>57343?t?f.charAt(a):u:t?f.slice(a,a+2):c-56320+(u-55296<<10)+65536)}}},function(t,n,e){var o=e(34),i=e(0),u=e(32),c=e(18),f=e(13),a=e(38),s=e(101),l=e(41),p=e(37),h=e(1)("iterator"),v=!([].keys&&"next"in[].keys()),y=function(){return this};t.exports=function(t,n,e,g,b,d,x){s(e,n,g);var m,O,S,j=function(t){if(!v&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",w="values"==b,_=!1,A=t.prototype,F=A[h]||A["@@iterator"]||b&&A[b],E=F||j(b),k=b?w?j("entries"):E:r,M="Array"==n?A.entries||F:F;if(M&&(S=p(M.call(new t)))!==Object.prototype&&S.next&&(l(S,P,!0),o||f(S,h)||c(S,h,y)),w&&F&&"values"!==F.name&&(_=!0,E=function(){return F.call(this)}),o&&!x||!v&&!_&&A[h]||c(A,h,E),a[n]=E,a[P]=y,b)if(m={values:w?E:j("values"),keys:d?E:j("keys"),entries:k},x)for(O in m)O in A||u(A,O,m[O]);else i(i.P+i.F*(v||_),n,m);return m}},function(t,n,r){var e=r(19),o=r(2),i=r(28),u=r(4);t.exports=function(t,n,r,c,f){e(n);var a=o(t),s=i(a),l=u(a.length),p=f?l-1:0,h=f?-1:1;if(r<2)for(;;){if(p in s){c=s[p],p+=h;break}if(p+=h,f?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;f?p>=0:l>p;p+=h)p in s&&(c=n(c,s[p],p,a));return c}},function(t,n,e){function o(t,n,e,s,l,p,h,v){for(var y,g,b=l,d=0,x=!!h&&f(h,v,3);d<s;){if(d in e){if(y=x?x(e[d],d,n):e[d],g=!1,u(y)&&(g=y[a],g=g!==r?!!g:i(y)),g&&p>0)b=o(t,n,y,c(y.length),b,p-1)-1;else{if(b>=9007199254740991)throw TypeError();t[b]=y}b++}d++}return b}var i=e(36),u=e(3),c=e(4),f=e(27),a=e(1)("isConcatSpreadable");t.exports=o},function(t,n,r){var e=r(20),o=r(8),i=r(31).f;t.exports=function(t){return function(n){for(var r,u=o(n),c=e(u),f=c.length,a=0,s=[];f>a;)i.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){r(65),r(68),r(69),r(70),r(71),r(72),r(73),r(74),r(75),r(76),r(77),r(78),r(79),r(80),r(81),r(83),r(85),r(87),r(88),r(89),r(90),r(93),r(94),r(96),r(97),r(99),r(100),r(102),r(103),r(104),r(105),r(106),r(107),r(108),r(109),r(110),r(111),r(112),r(113),r(114),r(115),r(116),r(121),r(122),r(123),r(124),r(125),r(127),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(137),r(139),r(140),r(141),r(143),r(145),r(146),r(147),r(148),r(150),r(151),r(152),r(153),r(154),t.exports=r(155)},function(t,n,e){var o=e(9),i=e(13),u=e(5),c=e(0),f=e(32),a=e(33).KEY,s=e(6),l=e(40),p=e(41),h=e(26),v=e(1),y=e(53),g=e(66),b=e(67),d=e(36),x=e(15),m=e(8),O=e(24),S=e(25),j=e(45),P=e(57),w=e(22),_=e(10),A=e(20),F=w.f,E=_.f,k=P.f,M=o.Symbol,T=o.JSON,I=T&&T.stringify,W=v("_hidden"),C=v("toPrimitive"),N={}.propertyIsEnumerable,R=l("symbol-registry"),z=l("symbols"),D=l("op-symbols"),G=Object.prototype,J="function"==typeof M,K=o.QObject,U=!K||!K.prototype||!K.prototype.findChild,q=u&&s(function(){return 7!=j(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],E(t,n,r),e&&t!==G&&E(G,n,e)}:E,B=function(t){var n=z[t]=j(M.prototype);return n._k=t,n},L=J&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},Y=function(t,n,r){return t===G&&Y(D,n,r),x(t),n=O(n,!0),x(r),i(z,n)?(r.enumerable?(i(t,W)&&t[W][n]&&(t[W][n]=!1),r=j(r,{enumerable:S(0,!1)})):(i(t,W)||E(t,W,S(1,{})),t[W][n]=!0),q(t,n,r)):E(t,n,r)},Q=function(t,n){x(t);for(var r,e=b(n=m(n)),o=0,i=e.length;i>o;)Y(t,r=e[o++],n[r]);return t},$=function(t,n){return n===r?j(t):Q(j(t),n)},H=function(t){var n=N.call(this,t=O(t,!0));return!(this===G&&i(z,t)&&!i(D,t))&&(!(n||!i(this,t)||!i(z,t)||i(this,W)&&this[W][t])||n)},V=function(t,n){if(t=m(t),n=O(n,!0),t!==G||!i(z,n)||i(D,n)){var r=F(t,n);return!r||!i(z,n)||i(t,W)&&t[W][n]||(r.enumerable=!0),r}},X=function(t){for(var n,r=k(m(t)),e=[],o=0;r.length>o;)i(z,n=r[o++])||n==W||n==a||e.push(n);return e},Z=function(t){for(var n,r=t===G,e=k(r?D:m(t)),o=[],u=0;e.length>u;)!i(z,n=e[u++])||r&&!i(G,n)||o.push(z[n]);return o};J||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:r),n=function(r){this===G&&n.call(D,r),i(this,W)&&i(this[W],t)&&(this[W][t]=!1),q(this,t,S(1,r))};return u&&U&&q(G,t,{configurable:!0,set:n}),B(t)},f(M.prototype,"toString",function(){return this._k}),w.f=V,_.f=Y,e(46).f=P.f=X,e(31).f=H,e(35).f=Z,u&&!e(34)&&f(G,"propertyIsEnumerable",H,!0),y.f=function(t){return B(v(t))}),c(c.G+c.W+c.F*!J,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;tt.length>nt;)v(tt[nt++]);for(var rt=A(v.store),et=0;rt.length>et;)g(rt[et++]);c(c.S+c.F*!J,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=M(t)},keyFor:function(t){if(!L(t))throw TypeError(t+" is not a symbol!");for(var n in R)if(R[n]===t)return n},useSetter:function(){U=!0},useSimple:function(){U=!1}}),c(c.S+c.F*!J,"Object",{create:$,defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:V,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),T&&c(c.S+c.F*(!J||s(function(){var t=M();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(t!==r&&!L(t)){for(var n,e,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);return n=o[1],"function"==typeof n&&(e=n),!e&&d(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!L(n))return n}),o[1]=n,I.apply(T,o)}}}),M.prototype[C]||e(18)(M.prototype,C,M.prototype.valueOf),p(M,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(t,n,r){var e=r(9),o=r(23),i=r(34),u=r(53),c=r(10).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(20),o=r(35),i=r(31);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,c=r(t),f=i.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(0);e(e.S+e.F*!r(5),"Object",{defineProperty:r(10).f})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(5),"Object",{defineProperties:r(55)})},function(t,n,r){var e=r(8),o=r(22).f;r(12)("getOwnPropertyDescriptor",function(){return function(t,n){return o(e(t),n)}})},function(t,n,r){var e=r(0);e(e.S,"Object",{create:r(45)})},function(t,n,r){var e=r(2),o=r(37);r(12)("getPrototypeOf",function(){return function(t){return o(e(t))}})},function(t,n,r){var e=r(2),o=r(20);r(12)("keys",function(){return function(t){return o(e(t))}})},function(t,n,r){r(12)("getOwnPropertyNames",function(){return r(57).f})},function(t,n,r){var e=r(3),o=r(33).onFreeze;r(12)("freeze",function(t){return function(n){return t&&e(n)?t(o(n)):n}})},function(t,n,r){var e=r(3),o=r(33).onFreeze;r(12)("seal",function(t){return function(n){return t&&e(n)?t(o(n)):n}})},function(t,n,r){var e=r(3),o=r(33).onFreeze;r(12)("preventExtensions",function(t){return function(n){return t&&e(n)?t(o(n)):n}})},function(t,n,r){var e=r(3);r(12)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(3);r(12)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(3);r(12)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(0);e(e.S+e.F,"Object",{assign:r(82)})},function(t,n,r){var e=r(20),o=r(35),i=r(31),u=r(2),c=r(28),f=Object.assign;t.exports=!f||r(6)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=o.f,l=i.f;f>a;)for(var p,h=c(arguments[a++]),v=s?e(h).concat(s(h)):e(h),y=v.length,g=0;y>g;)l.call(h,p=v[g++])&&(r[p]=h[p]);return r}:f},function(t,n,r){var e=r(0);e(e.S,"Object",{is:r(84)})},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(0);e(e.S,"Object",{setPrototypeOf:r(86).set})},function(t,n,e){var o=e(3),i=e(15),u=function(t,n){if(i(t),!o(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e(27)(Function.call,e(22).f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return u(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):r),check:u}},function(t,n,r){var e=r(58),o={};o[r(1)("toStringTag")]="z",o+""!="[object z]"&&r(32)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(0),o=r(30),i=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],o(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?i(n):i(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){var e=r(0),o=r(8),i=r(4);e(e.S,"String",{raw:function(t){for(var n=o(t.raw),r=i(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){r(91)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){var e=r(0),o=r(16),i=r(6),u=r(92),c="["+u+"]",f="​",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var o={},c=i(function(){return!!u[t]()||f[t]()!=f}),a=o[t]=c?n(p):u[t];r&&(o[r]=a),e(e.P+e.F*c,"String",o)},p=l.trim=function(t,n){return t=String(o(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,r){var e=r(0),o=r(59)(!1);e(e.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,n,e){var o=e(0),i=e(4),u=e(47),c="".endsWith;o(o.P+o.F*e(48)("endsWith"),"String",{endsWith:function(t){var n=u(this,t,"endsWith"),e=arguments.length>1?arguments[1]:r,o=i(n.length),f=e===r?o:Math.min(i(e),o),a=String(t);return c?c.call(n,a,f):n.slice(f-a.length,f)===a}})},function(t,n,e){var o=e(3),i=e(29),u=e(1)("match");t.exports=function(t){var n;return o(t)&&((n=t[u])!==r?!!n:"RegExp"==i(t))}},function(t,n,e){var o=e(0),i=e(47);o(o.P+o.F*e(48)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:r)}})},function(t,n,r){var e=r(0);e(e.P,"String",{repeat:r(98)})},function(t,n,r){var e=r(21),o=r(16);t.exports=function(t){var n=String(o(this)),r="",i=e(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(n+=n))1&i&&(r+=n);return r}},function(t,n,e){var o=e(0),i=e(4),u=e(47),c="".startsWith;o(o.P+o.F*e(48)("startsWith"),"String",{startsWith:function(t){var n=u(this,t,"startsWith"),e=i(Math.min(arguments.length>1?arguments[1]:r,n.length)),o=String(t);return c?c.call(n,o,e):n.slice(e,e+o.length)===o}})},function(t,n,e){var o=e(59)(!0);e(60)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:r,done:!0}:(t=o(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){var e=r(45),o=r(25),i=r(41),u={};r(18)(u,r(1)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},function(t,n,r){r(7)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){r(7)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){r(7)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){r(7)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){r(7)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){r(7)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){r(7)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){r(7)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){r(7)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){r(7)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){r(7)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){r(7)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){r(7)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){var e=r(0);e(e.S,"Array",{isArray:r(36)})},function(t,n,e){var o=e(27),i=e(0),u=e(2),c=e(117),f=e(118),a=e(4),s=e(49),l=e(119);i(i.S+i.F*!e(120)(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,i,p,h=u(t),v="function"==typeof this?this:Array,y=arguments.length,g=y>1?arguments[1]:r,b=g!==r,d=0,x=l(h);if(b&&(g=o(g,y>2?arguments[2]:r,2)),x==r||v==Array&&f(x))for(n=a(h.length),e=new v(n);n>d;d++)s(e,d,b?g(h[d],d):h[d]);else for(p=x.call(h),e=new v;!(i=p.next()).done;d++)s(e,d,b?c(p,g,[i.value,d],!0):i.value);return e.length=d,e}})},function(t,n,e){var o=e(15);t.exports=function(t,n,e,i){try{return i?n(o(e)[0],e[1]):n(e)}catch(n){var u=t.return;throw u!==r&&o(u.call(t)),n}}},function(t,n,e){var o=e(38),i=e(1)("iterator"),u=Array.prototype;t.exports=function(t){return t!==r&&(o.Array===t||u[i]===t)}},function(t,n,e){var o=e(58),i=e(1)("iterator"),u=e(38);t.exports=e(23).getIteratorMethod=function(t){if(t!=r)return t[i]||t["@@iterator"]||u[o(t)]}},function(t,n,r){var e=r(1)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){var e=r(0),o=r(49);e(e.S+e.F*r(6)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)o(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,e){var o=e(0),i=e(8),u=[].join;o(o.P+o.F*(e(28)!=Object||!e(11)(u)),"Array",{join:function(t){return u.call(i(this),t===r?",":t)}})},function(t,n,e){var o=e(0),i=e(56),u=e(29),c=e(30),f=e(4),a=[].slice;o(o.P+o.F*e(6)(function(){i&&a.call(i)}),"Array",{slice:function(t,n){var e=f(this.length),o=u(this);if(n=n===r?e:n,"Array"==o)return a.call(this,t,n);for(var i=c(t,e),s=c(n,e),l=f(s-i),p=Array(l),h=0;h<l;h++)p[h]="String"==o?this.charAt(i+h):this[i+h];return p}})},function(t,n,e){var o=e(0),i=e(19),u=e(2),c=e(6),f=[].sort,a=[1,2,3];o(o.P+o.F*(c(function(){a.sort(r)})||!c(function(){a.sort(null)})||!e(11)(f)),"Array",{sort:function(t){return t===r?f.call(u(this)):f.call(u(this),i(t))}})},function(t,n,r){var e=r(0),o=r(17)(0),i=r(11)([].forEach,!0);e(e.P+e.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,n,e){var o=e(3),i=e(36),u=e(1)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=r),o(n)&&null===(n=n[u])&&(n=r)),n===r?Array:n}},function(t,n,r){var e=r(0),o=r(17)(1);e(e.P+e.F*!r(11)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,n,r){var e=r(0),o=r(17)(2);e(e.P+e.F*!r(11)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,n,r){var e=r(0),o=r(17)(3);e(e.P+e.F*!r(11)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,n,r){var e=r(0),o=r(17)(4);e(e.P+e.F*!r(11)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,n,r){var e=r(0),o=r(61);e(e.P+e.F*!r(11)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){var e=r(0),o=r(61);e(e.P+e.F*!r(11)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){var e=r(0),o=r(42)(!1),i=[].indexOf,u=!!i&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(11)(i)),"Array",{indexOf:function(t){return u?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,n,r){var e=r(0),o=r(8),i=r(21),u=r(4),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(11)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=o(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,i(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){var e=r(0);e(e.P,"Array",{copyWithin:r(136)}),r(14)("copyWithin")},function(t,n,e){var o=e(2),i=e(30),u=e(4);t.exports=[].copyWithin||function(t,n){var e=o(this),c=u(e.length),f=i(t,c),a=i(n,c),s=arguments.length>2?arguments[2]:r,l=Math.min((s===r?c:i(s,c))-a,c-f),p=1;for(a<f&&f<a+l&&(p=-1,a+=l-1,f+=l-1);l-- >0;)a in e?e[f]=e[a]:delete e[f],f+=p,a+=p;return e}},function(t,n,r){var e=r(0);e(e.P,"Array",{fill:r(138)}),r(14)("fill")},function(t,n,e){var o=e(2),i=e(30),u=e(4);t.exports=function(t){for(var n=o(this),e=u(n.length),c=arguments.length,f=i(c>1?arguments[1]:r,e),a=c>2?arguments[2]:r,s=a===r?e:i(a,e);s>f;)n[f++]=t;return n}},function(t,n,e){var o=e(0),i=e(17)(5),u=!0;"find"in[]&&Array(1).find(function(){u=!1}),o(o.P+o.F*u,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:r)}}),e(14)("find")},function(t,n,e){var o=e(0),i=e(17)(6),u="findIndex",c=!0;u in[]&&Array(1)[u](function(){c=!1}),o(o.P+o.F*c,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:r)}}),e(14)(u)},function(t,n,e){var o=e(14),i=e(142),u=e(38),c=e(8);t.exports=e(60)(Array,"Array",function(t,n){this._t=c(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=r,i(1)):"keys"==n?i(0,e):"values"==n?i(0,t[e]):i(0,[e,t[e]])},"values"),u.Arguments=u.Array,o("keys"),o("values"),o("entries")},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){r(144)("Array")},function(t,n,r){var e=r(9),o=r(10),i=r(5),u=r(1)("species");t.exports=function(t){var n=e[t];i&&n&&!n[u]&&o.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,e){var o=e(0),i=e(42)(!0);o(o.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:r)}}),e(14)("includes")},function(t,n,r){var e=r(0),o=r(62),i=r(2),u=r(4),c=r(19),f=r(50);e(e.P,"Array",{flatMap:function(t){var n,r,e=i(this);return c(t),n=u(e.length),r=f(e,0),o(r,e,e,n,0,1,t,arguments[1]),r}}),r(14)("flatMap")},function(t,n,e){var o=e(0),i=e(62),u=e(2),c=e(4),f=e(21),a=e(50);o(o.P,"Array",{flatten:function(){var t=arguments[0],n=u(this),e=c(n.length),o=a(n,0);return i(o,n,n,e,0,t===r?1:f(t)),o}}),e(14)("flatten")},function(t,n,e){var o=e(0),i=e(149),u=e(8),c=e(22),f=e(49);o(o.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,o=u(t),a=c.f,s=i(o),l={},p=0;s.length>p;)(e=a(o,n=s[p++]))!==r&&f(l,n,e);return l}})},function(t,n,r){var e=r(46),o=r(35),i=r(15),u=r(9).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(i(t)),r=o.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(0),o=r(63)(!1);e(e.S,"Object",{values:function(t){return o(t)}})},function(t,n,r){var e=r(0),o=r(63)(!0);e(e.S,"Object",{entries:function(t){return o(t)}})},function(t,n,r){var e=r(0),o=r(2),i=r(19),u=r(10);r(5)&&e(e.P+r(39),"Object",{__defineGetter__:function(t,n){u.f(o(this),t,{get:i(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(0),o=r(2),i=r(19),u=r(10);r(5)&&e(e.P+r(39),"Object",{__defineSetter__:function(t,n){u.f(o(this),t,{set:i(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(0),o=r(2),i=r(24),u=r(37),c=r(22).f;r(5)&&e(e.P+r(39),"Object",{__lookupGetter__:function(t){var n,r=o(this),e=i(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){var e=r(0),o=r(2),i=r(24),u=r(37),c=r(22).f;r(5)&&e(e.P+r(39),"Object",{__lookupSetter__:function(t){var n,r=o(this),e=i(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})}]),"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):n.core=t}(1,1);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/underscore.js' */
!function(){var n=this,t=n._,c={},u=Array.prototype,r=Object.prototype,e=Function.prototype,i=u.push,o=u.slice,a=u.concat,f=r.toString,l=r.hasOwnProperty,s=u.forEach,p=u.map,h=u.reduce,v=u.reduceRight,d=u.filter,y=u.every,g=u.some,m=u.indexOf,x=u.lastIndexOf,_=Array.isArray,r=Object.keys,b=e.bind,w=function(n){return n instanceof w?n:this instanceof w?void(this._wrapped=n):new w(n)};"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=w:exports)._=w:n._=w,w.VERSION="1.4.4";var j=w.each=w.forEach=function(n,t,r){if(null!=n)if(s&&n.forEach===s)n.forEach(t,r);else if(n.length===+n.length){for(var e=0,u=n.length;e<u;e++)if(t.call(r,n[e],e,n)===c)return}else for(var i in n)if(w.has(n,i)&&t.call(r,n[i],i,n)===c)return};w.map=w.collect=function(n,e,u){var i=[];return null==n?i:p&&n.map===p?n.map(e,u):(j(n,function(n,t,r){i[i.length]=e.call(u,n,t,r)}),i)};var A="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(n,e,u,i){var c=2<arguments.length;if(null==n&&(n=[]),h&&n.reduce===h)return i&&(e=w.bind(e,i)),c?n.reduce(e,u):n.reduce(e);if(j(n,function(n,t,r){c?u=e.call(i,u,n,t,r):(u=n,c=!0)}),!c)throw new TypeError(A);return u},w.reduceRight=w.foldr=function(e,u,i,c){var o=2<arguments.length;if(null==e&&(e=[]),v&&e.reduceRight===v)return c&&(u=w.bind(u,c)),o?e.reduceRight(u,i):e.reduceRight(u);var a,l=e.length;if(l!==+l&&(a=w.keys(e),l=a.length),j(e,function(n,t,r){t=a?a[--l]:--l,o?i=u.call(c,i,e[t],t,r):(i=e[t],o=!0)}),!o)throw new TypeError(A);return i},w.find=w.detect=function(n,e,u){var i;return E(n,function(n,t,r){if(e.call(u,n,t,r))return i=n,!0}),i},w.filter=w.select=function(n,e,u){var i=[];return null==n?i:d&&n.filter===d?n.filter(e,u):(j(n,function(n,t,r){e.call(u,n,t,r)&&(i[i.length]=n)}),i)},w.reject=function(n,e,u){return w.filter(n,function(n,t,r){return!e.call(u,n,t,r)},u)},w.every=w.all=function(n,e,u){e=e||w.identity;var i=!0;return null==n?i:y&&n.every===y?n.every(e,u):(j(n,function(n,t,r){if(!(i=i&&e.call(u,n,t,r)))return c}),!!i)};var E=w.some=w.any=function(n,e,u){e=e||w.identity;var i=!1;return null==n?i:g&&n.some===g?n.some(e,u):(j(n,function(n,t,r){if(i=i||e.call(u,n,t,r))return c}),!!i)};w.contains=w.include=function(n,t){return null!=n&&(m&&n.indexOf===m?-1!=n.indexOf(t):E(n,function(n){return n===t}))},w.invoke=function(n,t){var r=o.call(arguments,2),e=w.isFunction(t);return w.map(n,function(n){return(e?t:n[t]).apply(n,r)})},w.pluck=function(n,t){return w.map(n,function(n){return n[t]})},w.where=function(n,r,t){return w.isEmpty(r)?t?null:[]:w[t?"find":"filter"](n,function(n){for(var t in r)if(r[t]!==n[t])return!1;return!0})},w.findWhere=function(n,t){return w.where(n,t,!0)},w.max=function(n,e,u){if(!e&&w.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!e&&w.isEmpty(n))return-1/0;var i={computed:-1/0,value:-1/0};return j(n,function(n,t,r){r=e?e.call(u,n,t,r):n;r>=i.computed&&(i={value:n,computed:r})}),i.value},w.min=function(n,e,u){if(!e&&w.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!e&&w.isEmpty(n))return 1/0;var i={computed:1/0,value:1/0};return j(n,function(n,t,r){r=e?e.call(u,n,t,r):n;r<i.computed&&(i={value:n,computed:r})}),i.value},w.shuffle=function(n){var t,r=0,e=[];return j(n,function(n){t=w.random(r++),e[r-1]=e[t],e[t]=n}),e};function O(t){return w.isFunction(t)?t:function(n){return n[t]}}w.sortBy=function(n,t,e){var u=O(t);return w.pluck(w.map(n,function(n,t,r){return{value:n,index:t,criteria:u.call(e,n,t,r)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(e<r||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index<t.index?-1:1}),"value")};function k(r,n,e,u){var i={},c=O(n||w.identity);return j(r,function(n,t){t=c.call(e,n,t,r);u(i,t,n)}),i}w.groupBy=function(n,t,r){return k(n,t,r,function(n,t,r){(w.has(n,t)?n[t]:n[t]=[]).push(r)})},w.countBy=function(n,t,r){return k(n,t,r,function(n,t){w.has(n,t)||(n[t]=0),n[t]++})},w.sortedIndex=function(n,t,r,e){for(var u=(r=null==r?w.identity:O(r)).call(e,t),i=0,c=n.length;i<c;){var o=i+c>>>1;r.call(e,n[o])<u?i=1+o:c=o}return i},w.toArray=function(n){return n?w.isArray(n)?o.call(n):n.length===+n.length?w.map(n,w.identity):w.values(n):[]},w.size=function(n){return null==n?0:(n.length===+n.length?n:w.keys(n)).length},w.first=w.head=w.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:o.call(n,0,t)},w.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},w.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},w.rest=w.tail=w.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},w.compact=function(n){return w.filter(n,w.identity)};function F(n,t,r){return j(n,function(n){w.isArray(n)?t?i.apply(r,n):F(n,t,r):r.push(n)}),r}w.flatten=function(n,t){return F(n,t,[])},w.without=function(n){return w.difference(n,o.call(arguments,1))},w.uniq=w.unique=function(r,e,n,t){w.isFunction(e)&&(t=n,n=e,e=!1);var t=n?w.map(r,n,t):r,u=[],i=[];return j(t,function(n,t){(e?t&&i[i.length-1]===n:w.contains(i,n))||(i.push(n),u.push(r[t]))}),u},w.union=function(){return w.uniq(a.apply(u,arguments))},w.intersection=function(n){var r=o.call(arguments,1);return w.filter(w.uniq(n),function(t){return w.every(r,function(n){return 0<=w.indexOf(n,t)})})},w.difference=function(n){var t=a.apply(u,o.call(arguments,1));return w.filter(n,function(n){return!w.contains(t,n)})},w.zip=function(){for(var n=o.call(arguments),t=w.max(w.pluck(n,"length")),r=new Array(t),e=0;e<t;e++)r[e]=w.pluck(n,""+e);return r},w.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},w.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return n[e=w.sortedIndex(n,t)]===t?e:-1;e=r<0?Math.max(0,u+r):r}if(m&&n.indexOf===m)return n.indexOf(t,r);for(;e<u;e++)if(n[e]===t)return e;return-1},w.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(x&&n.lastIndexOf===x)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},w.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);u<e;)i[u++]=n,n+=r;return i},w.bind=function(n,t){if(n.bind===b&&b)return b.apply(n,o.call(arguments,1));var r=o.call(arguments,2);return function(){return n.apply(t,r.concat(o.call(arguments)))}},w.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},w.bindAll=function(t){var n=o.call(arguments,1);return 0===n.length&&(n=w.functions(t)),j(n,function(n){t[n]=w.bind(t[n],t)}),t},w.memoize=function(t,r){var e={};return r=r||w.identity,function(){var n=r.apply(this,arguments);return w.has(e,n)?e[n]:e[n]=t.apply(this,arguments)}},w.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},w.defer=function(n){return w.delay.apply(w,[n,1].concat(o.call(arguments,1)))},w.throttle=function(r,e){function u(){l=new Date,o=null,a=r.apply(i,c)}var i,c,o,a,l=0;return function(){var n=new Date,t=e-(n-l);return i=this,c=arguments,t<=0?(clearTimeout(o),o=null,l=n,a=r.apply(i,c)):o=o||setTimeout(u,t),a}},w.debounce=function(e,u,i){var c,o;return function(){var n=this,t=arguments,r=i&&!c;return clearTimeout(c),c=setTimeout(function(){c=null,i||(o=e.apply(n,t))},u),o=r?e.apply(n,t):o}},w.once=function(n){var t,r=!1;return function(){return r||(r=!0,t=n.apply(this,arguments),n=null),t}},w.wrap=function(t,r){return function(){var n=[t];return i.apply(n,arguments),r.apply(this,n)}},w.compose=function(){var r=arguments;return function(){for(var n=arguments,t=r.length-1;0<=t;t--)n=[r[t].apply(this,n)];return n[0]}},w.after=function(n,t){return n<=0?t():function(){if(--n<1)return t.apply(this,arguments)}},w.keys=r||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t,r=[];for(t in n)w.has(n,t)&&(r[r.length]=t);return r},w.values=function(n){var t,r=[];for(t in n)w.has(n,t)&&r.push(n[t]);return r},w.pairs=function(n){var t,r=[];for(t in n)w.has(n,t)&&r.push([t,n[t]]);return r},w.invert=function(n){var t,r={};for(t in n)w.has(n,t)&&(r[n[t]]=t);return r},w.functions=w.methods=function(n){var t,r=[];for(t in n)w.isFunction(n[t])&&r.push(t);return r.sort()},w.extend=function(r){return j(o.call(arguments,1),function(n){if(n)for(var t in n)r[t]=n[t]}),r},w.pick=function(t){var r={},n=a.apply(u,o.call(arguments,1));return j(n,function(n){n in t&&(r[n]=t[n])}),r},w.omit=function(n){var t,r={},e=a.apply(u,o.call(arguments,1));for(t in n)w.contains(e,t)||(r[t]=n[t]);return r},w.defaults=function(r){return j(o.call(arguments,1),function(n){if(n)for(var t in n)null==r[t]&&(r[t]=n[t])}),r},w.clone=function(n){return w.isObject(n)?w.isArray(n)?n.slice():w.extend({},n):n},w.tap=function(n,t){return t(n),n};function R(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;if(n instanceof w&&(n=n._wrapped),t instanceof w&&(t=t._wrapped),(l=f.call(n))!=f.call(t))return!1;switch(l){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;r.push(n),e.push(t);var i=0,c=!0;if("[object Array]"==l){if(c=(i=n.length)==t.length)for(;i--&&(c=R(n[i],t[i],r,e)););}else{var o,a=n.constructor,l=t.constructor;if(a!==l&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(l)&&l instanceof l))return!1;for(o in n)if(w.has(n,o)&&(i++,!(c=w.has(t,o)&&R(n[o],t[o],r,e))))break;if(c){for(o in t)if(w.has(t,o)&&!i--)break;c=!i}}return r.pop(),e.pop(),c}w.isEqual=function(n,t){return R(n,t,[],[])},w.isEmpty=function(n){if(null==n)return!0;if(w.isArray(n)||w.isString(n))return 0===n.length;for(var t in n)if(w.has(n,t))return!1;return!0},w.isElement=function(n){return!(!n||1!==n.nodeType)},w.isArray=_||function(n){return"[object Array]"==f.call(n)},w.isObject=function(n){return n===Object(n)},j(["Arguments","Function","String","Number","Date","RegExp"],function(t){w["is"+t]=function(n){return f.call(n)=="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(n){return!(!n||!w.has(n,"callee"))}),"function"!=typeof/./&&(w.isFunction=function(n){return"function"==typeof n}),w.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},w.isNaN=function(n){return w.isNumber(n)&&n!=+n},w.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==f.call(n)},w.isNull=function(n){return null===n},w.isUndefined=function(n){return void 0===n},w.has=function(n,t){return l.call(n,t)},w.noConflict=function(){return n._=t,this},w.identity=function(n){return n},w.times=function(n,t,r){for(var e=Array(n),u=0;u<n;u++)e[u]=t.call(r,u);return e},w.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var S={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};S.unescape=w.invert(S.escape);var I={escape:new RegExp("["+w.keys(S.escape).join("")+"]","g"),unescape:new RegExp("("+w.keys(S.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(t){w[t]=function(n){return null==n?"":(""+n).replace(I[t],function(n){return S[t][n]})}}),w.result=function(n,t){if(null==n)return null;t=n[t];return w.isFunction(t)?t.call(n):t},w.mixin=function(r){j(w.functions(r),function(n){var t=w[n]=r[n];w.prototype[n]=function(){var n=[this._wrapped];return i.apply(n,arguments),D.call(this,t.apply(w,n))}})};var M=0;w.uniqueId=function(n){var t=++M+"";return n?n+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g,B=/^\s*(\w|\$)+\s*$/;w.template=function(i,n,t){var r;t=w.defaults({},t,w.templateSettings);var e=new RegExp([(t.escape||N).source,(t.interpolate||N).source,(t.evaluate||N).source].join("|")+"|$","g"),c=0,o="__p+='";i.replace(e,function(n,t,r,e,u){return o+=i.slice(c,u).replace(q,function(n){return"\\"+T[n]}),t&&(o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),e&&(o+="';\n"+e+"\n__p+='"),c=u+n.length,n}),o+="';\n";t=t.variable;if(t){if(!B.test(t))throw new Error(t)}else o="with(obj||{}){\n"+o+"}\n",t="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(t,"_",o)}catch(n){throw n.source=o,n}if(n)return r(n,w);function u(n){return r.call(this,n,w)}return u.source="function("+t+"){\n"+o+"}",u},w.chain=function(n){return w(n).chain()};var D=function(n){return this._chain?w(n).chain():n};w.mixin(w),j(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var r=u[t];w.prototype[t]=function(){var n=this._wrapped;return r.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],D.call(this,n)}}),j(["concat","join","slice"],function(n){var t=u[n];w.prototype[n]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/amd-shim/underscore.js' */
define("_",function(){return window._});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/setFocus.js' */
JIRA.setFocus=function(){function e(){for(var e=0,t=n[n.length-1];!function(e,t,n,o){var i=!1;return AJS.$(t,e).not(n).find(o).each(function(){var e=AJS.$(this);if(e.is(":visible:enabled, a:visible"))return e.focus(),e.is(":text, :password, textarea")&&(e.is(".focus-select-end")?e.setCaretToPosition(e[0].value.length):e.setSelectionRange(0,e[0].value.length)),!(i=!0)}),i}(t.context,t.parentElementSelectors[e],t.excludeParentSelector,t.focusElementSelector)&&e<t.parentElementSelectors.length;)e++}var t=["div.aui-popup-content:visible","form.aui:visible","form:visible"],n=[];return{FocusConfiguration:function(){this.context=document,this.excludeParentSelector="form.dont-default-focus",this.focusElementSelector="input:not(#issue-filter-submit), select, textarea, button, a.cancel",this.parentElementSelectors=t.slice(0),this.focusNow=e},triggerFocus:function(){0==n.length&&n.push(new this.FocusConfiguration),n[n.length-1].focusNow()},pushConfiguration:function(e){n.push(e)},popConfiguration:function(){n.pop()}}}(),jQuery(function(){JIRA.setFocus.triggerFocus()});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/Namespaces.js' */
"undefined"==typeof GH&&(window.GH={}),void 0===GH.view&&(GH.view={}),void 0===GH.view.model&&(GH.view.model={}),void 0===GH.Global&&(GH.Global={}),void 0===GH.Dialog&&(GH.Dialog={}),void 0===GH.Dialogs&&(GH.Dialogs={}),void 0===GH.State&&(GH.State={}),void 0===GH.XBoard&&(GH.XBoard={}),void 0===GH.RapidBoard&&(GH.RapidBoard={}),void 0===GH.HelpPaths&&(GH.HelpPaths={}),void 0===GH.JQLAutoComplete&&(GH.JQLAutoComplete={}),void 0===GH.RapidBoard.Util&&(GH.RapidBoard.Util={}),void 0===GH.NumberFormat&&(GH.NumberFormat={}),void 0===GH.UrlFormat&&(GH.UrlFormat={}),AJS.format=function(r){function t(r){for(var a=!1,o=-1,e=0,t=0;t<r.length;t++){var i=r.charAt(t);if(!(a="'"==i?!a:a))if("{"===i)0===e&&(o=t),e++;else if("}"===i&&0<e&&0===--e){i=[];return i.push(r.substring(0,t+1)),i.push(r.substring(0,o)),i.push(r.substring(o+1,t)),i}}return null}var i=/'(?!')/g,u=/^\d+$/,v=/^(\d+),number$/,f=/^(\d+),choice,(.+)/,s=/^\s*(-?\d+)([#<])(.*)/;return function(r){for(var a=arguments,o="",e=t(r);e;)r=r.substring(e[0].length),o+=e[1].replace(i,""),o+=function(r,a){var o,e,t="";if(o=r.match(u))t=a.length>++r?a[r]:"";else if(o=r.match(v))e=GH.NumberFormat&&GH.NumberFormat.format||_.identity,t=a.length>++o[1]?e(a[o[1]]):"";else if(o=r.match(f)){var i=a.length>++o[1]?a[o[1]]:null;if(null!==i){for(var l=o[2].split("|"),n=null,d=0;d<l.length;d++){var G=l[d].match(s);if(!G){console.log("Bad formatting of message: "+r);break}var H=parseInt(G[1],10);if(i<H){if(n){t=n;break}t=G[3];break}if(i==H&&"#"==G[2]){t=G[3];break}d==l.length-1&&(t=G[3]),n=G[3]}a=[t].concat(Array.prototype.slice.call(a,1)),t=AJS.format.apply(AJS,a)}}return t}(e[2],a),e=t(r);return o+=r.replace(i,"")}.apply(AJS,arguments)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/SimpleClick.js' */
!function(){"use strict";var i=require("jquery");i.event.special.simpleClick={add:function(c){c._clickHandler=function(e){if(!e.ctrlKey&&!e.metaKey&&!e.shiftKey)return c.handler.apply(this,arguments)},i(this).on("click",c.selector,c._clickHandler)},remove:function(e){i(this).off("click",e.selector,e._clickHandler)}}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/PromiseKeeper.js' */
!function(){"use strict";function t(n){if(!(this instanceof t))return new t;this._parent=n,this._doneCallbacks=a.Callbacks(),this._failCallbacks=a.Callbacks(),this._alwaysCallbacks=a.Callbacks()}var a=require("jquery");t.prototype={add:function(n){var t=a.Deferred();t.original=n;var i=this._getPending();this._abortIfPending(i),this._setPending(t);var e=this;return n.done(function(){t===e._getPending()&&(t.resolveWith(e,arguments),e._doneCallbacks.fireWith(e,arguments))}),n.fail(function(){t===e._getPending()&&(t.rejectWith(e,arguments),e._failCallbacks.fireWith(e,arguments))}),n.always(function(){t===e._getPending()&&e._alwaysCallbacks.fireWith(e,arguments)}),t.promise()},done:function(n){return this._doneCallbacks.add(n),this},fail:function(n){return this._failCallbacks.add(n),this},always:function(n){return this._alwaysCallbacks.add(n),this},reset:function(){this._abortIfPending(this._getPending()),this._setPending(null)},sub:function(){return new t(this)},_getPending:function(){return this._parent?this._parent._getPending():this._pending},_setPending:function(n){this._parent?this._parent._setPending(n):this._pending=n},_abortIfPending:function(n){n&&"pending"===n.state()&&(n.reject("abort"),a.isFunction(n.original.abort)&&n.original.abort())}},GH.PromiseKeeper=t}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/configuration/SPConfig.js' */
define("jira-agile/rapid/ui/SPConfig",[],function(){return Object.freeze({USE_STORED_TAB:"default",INITIAL_TAB:"filter",PARAM_NAME:"config"})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/state/State.js' */
var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a,r=arguments[t];for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};!function(){"use strict";var r=require("jira/container-api");GH.State.push=function(e,t){var a=GH.State.toUri(e);void 0===t&&(t=document.title),GH.spa&&(a=AJS.parseUri(a).relative,GH.spa.history.push(a,e)),t&&r.titleChange(t),AJS.$(AJS).trigger("gh.virtualpageview")},GH.State.replace=function(e,t){var a=GH.State.toUri(e);void 0===t&&(t=document.title),GH.spa&&(a=AJS.parseUri(a).relative,GH.spa.history.replace(a,e)),t&&r.titleChange(t)},GH.State.getViewState=function(){return{}},GH.State.getHashParams=function(){var e=window.location.href;return!(e.indexOf("#")<0)&&GH.State.toViewState(e)},GH.State.toViewState=function(e){e=GH.State.getStateFromUri(e);return delete e._suid,e},GH.State.toUri=function(e){var t,a,r,i=AJS.parseUri(document.location.href);return i.anchor="",GH.spa.urlState.isBoardLocationless||(t=GH.RapidBoard.UrlState.getNormalizedRapidBoardState(),(a=GH.spa.urlState).mode!==t.mode&&(r=!!a.accountId?"/jira/people/"+a.accountId:"/jira/software/c/projects/"+a.projectKey,r+="/boards/"+a.boardId,"plan"===t.mode&&(r+="/backlog"),"report"===t.mode&&(r+="/reports/"+GH.spa.lodash.kebabCase(t.chart)),"reporting"!==e.view&&"planning.nodetail"!==e.view||delete e.view,"planning"===e.view&&(e.view="detail"),i.path=r)),i.queryKey=AJS.$.extend({},e),i.toString()},GH.State.registerStateChangeListener=function(e){GH.spa.historyAdapter.bind(window,"statechange",e)},GH.State.registerStatePopListener=function(e){GH.spa.historyAdapter.bind(window,"popstate.rapidboardSpa",e)},GH.State.getStateFromUri=function(e){var t=AJS.parseUri(e),e=(t=t.anchor?AJS.parseUri(t.anchor):t).queryKey,t=GH.spa.urlState,t={selectedProjectKey:t.projectKey,projectKey:t.projectKey,rapidView:t.rapidView,chart:t.chartView,mode:t.mode};return e=_extends({},e,t)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/state/UrlState.js' */
GH.RapidBoard.UrlState={},GH.RapidBoard.UrlState.dateFormat="%Y-%m-%d",GH.RapidBoard.UrlState.normalizeNumberParam=function(a,t){if(_.isUndefined(t)&&(t=null),void 0===a)return t;if(null===a)return t;a=parseInt(a,10);return isFinite(a)?a:t},GH.RapidBoard.UrlState.normalizeBooleanParam=function(a,t){return _.isUndefined(t)&&(t=null),null==a?t:"false"!==a&&Boolean(a)},GH.RapidBoard.UrlState.normalizeDateParam=function(a,t){return _.isUndefined(t)&&(t=null),null==a?t:Date.parseDate(a,GH.RapidBoard.UrlState.dateFormat)},GH.RapidBoard.UrlState.normalizeNumberArrayParam=function(a){var t,e=[];return _.isString(a)?null!==(t=GH.RapidBoard.UrlState.normalizeNumberParam(a))&&e.push(t):_.isArray(a)&&_.each(a,function(a){a=GH.RapidBoard.UrlState.normalizeNumberParam(a);null!==a&&e.push(a)}),e},GH.RapidBoard.UrlState.normalizeStringParam=function(a,t){if(_.isUndefined(t)&&(t=null),_.isArray(a)&&0<a.length){var e=a[0];return""!==e?decodeURIComponent(e):t}return _.isString(a)&&""!==a?decodeURIComponent(a):t},GH.RapidBoard.UrlState.normalizeStringArrayParam=function(a){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,e=[];return _.isString(a)&&0<a.length?e=[GH.RapidBoard.UrlState.normalizeStringParam(a,null)]:_.isArray(a)&&(e=a.map(function(a){return GH.RapidBoard.UrlState.normalizeStringParam(a,null)})),e.length?e:t},GH.RapidBoard.UrlState.removeEmptyParams=function(a){var e={};return _.each(a,function(a,t){_.isArray(a)?0<a.length&&(e[t]=a):_.isString(a)?_.isEmpty(a)||(e[t]=a):null==a||(e[t]=a)}),e},GH.RapidBoard.UrlState.toUrlParameterString=function(a){var r="";return _.each(a,function(t,e){_.isArray(t)?_.each(t,function(a){0<r.length&&(r+="&"),r+=e+"="+encodeURIComponent(t)}):(0<r.length&&(r+="&"),r+=e+"="+encodeURIComponent(t))}),r},GH.RapidBoard.UrlState.setHandlers=function(a){GH.RapidBoard.UrlState.handlers=a.filter(Boolean)},GH.RapidBoard.UrlState.handlers=[],GH.RapidBoard.UrlState.normalizeUrlToState=function(a){var t=GH.State.toViewState(a),e={};return _.each(GH.RapidBoard.UrlState.handlers,function(a){a.isApplicable(e)&&a.getNormalizedFromUrl(t,e)}),e},GH.RapidBoard.UrlState.getNormalizedUrlState=function(){var t=GH.RapidBoard.UrlState.getCurrentUrlState(),e={};return _.each(GH.RapidBoard.UrlState.handlers,function(a){a.isApplicable(e)&&a.getNormalizedFromUrl(t,e)}),e},GH.RapidBoard.UrlState.toUrlState=function(t){var e={};return _.each(GH.RapidBoard.UrlState.handlers,function(a){a.isApplicable(t)&&a.toUrl(t,e)}),e},GH.RapidBoard.UrlState.deferredPushState=function(a){a<GH.RapidBoard.UrlState.lastPushReplace||GH.RapidBoard.UrlState.pushState()},GH.RapidBoard.UrlState.lastPushReplace=0,GH.RapidBoard.UrlState.pushState=function(a){GH.RapidBoard.UrlState.lastPushReplace=(new Date).getTime();var t=GH.RapidBoard.UrlState.getNormalizedRapidBoardState(),e=GH.RapidBoard.UrlState.toUrlState(t),r=GH.RapidBoard.UrlState.getNormalizedUrlState();_.isEqual(t,r)||(GH.spa.urlState.isBoardLocationless||(delete e.rapidView,delete e.selectedProjectKey,delete e.projectKey,delete e.chart),GH.State.push(e,a))},GH.RapidBoard.UrlState.replaceState=function(a){GH.RapidBoard.UrlState.lastPushReplace=(new Date).getTime();var t=GH.RapidBoard.UrlState.getNormalizedRapidBoardState(),e=GH.RapidBoard.UrlState.toUrlState(t),r=GH.RapidBoard.UrlState.getNormalizedUrlState();_.isEqual(t,r)&&!a||(GH.spa.urlState.isBoardLocationless||(delete e.rapidView,delete e.selectedProjectKey,delete e.projectKey,delete e.chart),GH.State.replace(e))},GH.RapidBoard.UrlState.getNormalizedRapidBoardState=function(){var t={};return _.each(GH.RapidBoard.UrlState.handlers,function(a){a.isApplicable(t)&&a.getNormalizedFromInternal(t)}),t},GH.RapidBoard.UrlState.loadState=function(){var t=GH.RapidBoard.UrlState.getNormalizedUrlState();_.each(GH.RapidBoard.UrlState.handlers,function(a){a.isApplicable(t)&&a.updateInternalFromNormalized(t)})},GH.RapidBoard.UrlState.getCurrentUrlState=function(){return GH.State.toViewState(GH.RapidBoard.UrlState._getHref())},GH.RapidBoard.UrlState._getHref=function(){return window.location.href},GH.RapidBoard.UrlState.hasUrlState=function(){return!_.isEmpty(GH.RapidBoard.UrlState.getCurrentUrlState())},GH.RapidBoard.UrlState.isUrlStateUpToDate=function(){var a=GH.RapidBoard.UrlState.getNormalizedRapidBoardState(),t=GH.RapidBoard.UrlState.getNormalizedUrlState();return _.isEqual(a,t)},GH.RapidBoard.UrlState.getViewStateRequestParameterString=function(){var a=GH.RapidBoard.UrlState.getCurrentUrlState(),a=GH.RapidBoard.UrlState.removeEmptyParams(a);return GH.RapidBoard.UrlState.toUrlParameterString(a)},GH.RapidBoard.UrlState.HISTORY_CHANGED="historyDidChange",GH.RapidBoard.UrlState.historyChanged=function(){GH.RapidBoard.UrlState.isUrlStateUpToDate()||(GH.RapidBoard.UrlState.logDifferenceInState(),GH.RapidBoard.UrlState.loadState(),GH.RapidBoard.reload()),AJS.$(GH).trigger(GH.RapidBoard.UrlState.HISTORY_CHANGED)},GH.RapidBoard.UrlState.historyPopped=function(){GH.RapidBoard.UrlState.isUrlStateUpToDate()||GH.RapidBoard.refreshBoardData();var t,a,e=require("jira/container-api");e.getIsIframe()||(t=GH.RapidBoard.UrlState.getNormalizedUrlState(),a=GH.RapidBoard.UrlState.getNormalizedRapidBoardState(),t.rapidView!==a.rapidView&&e.APIs.getNavigationAPI().then(function(a){return a.updateContext({boardId:t.rapidView})}))},GH.RapidBoard.UrlState.logDifferenceInState=function(){GH.RapidBoard.UrlState.getNormalizedRapidBoardState(),GH.RapidBoard.UrlState.getNormalizedUrlState()},GH.RapidBoard.UrlState.init=function(){setTimeout(function(){GH.State.registerStateChangeListener(GH.RapidBoard.UrlState.historyChanged),GH.State.registerStatePopListener(GH.RapidBoard.UrlState.historyPopped)},200)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/help/Tooltip.js' */
define("jira-agile/tooltip",["jquery","underscore"],function(l,o){"use strict";var n=GH.Events,u=20;function s(t,i){var e,o,n,s,r,a,c,h;t&&(t.show(),t.$tip&&("n"!==(h="function"==typeof(h=(e=t).options.gravity)?h.call(e.$element[0]):h).charAt(0)&&"s"!==h.charAt(0)||(s=(o=e.$tip).offset(),r=Math.max(0,u-s.left),a=Math.max(0,u+s.left+o.outerWidth()-l(window).width()),n=o.find(".tipsy-arrow"),(c=r&&a?0:r||-a)?(o.css("left",parseInt(o.css("left"),10)+c),n.css("marginLeft",-n.outerWidth()/2-c)):n.css("marginLeft",""),h=o.css("bottom"),s=o.outerHeight(),o.css({top:"",left:""}),r=e.$element[0].getBoundingClientRect(),a=l(window).width()-r.right+r.width/2-o.outerWidth()/2,o.css({bottom:h,right:(e=a<0)?"0px":a-c+"px",position:"fixed"}),s!==(c=o.outerHeight())&&(h=Number.parseInt(o.css("bottom")),o.css("bottom",h+s-c+"px")),e?n.css("marginLeft",Math.abs(a)>r.width/2||o.outerWidth()<r.width/4?o.outerWidth()/2-14:r.width/4):n.css("marginLeft","")),function t(i){setTimeout(function(){i.$tip.is(":visible")&&(i.$element.is(":visible")?t(i):i.hide())},250)}(t),i.trigger("show",t)))}var t={tipsify:function(i){i=o.extend({},i,{trigger:"manual",title:"data-tooltip"});var t,e=new n;return i.selector&&(i.context&&o.isString(i.selector)?(t=i.selector,l(i.context).ghHoverIntent({interval:200,selector:t,over:function(){var t=l(this);t.is(":visible")&&s(t.tooltip(i).tipsy(!0),e)},out:function(){var t=l(this).tipsy(!0);t&&t.hide()}})):l(i.selector).tooltip(i).ghHoverIntent({interval:200,over:function(){s(l(this).tipsy(!0),e)},out:function(){l(this).tipsy("hide")}})),e},enable:function(t){t=l(t).tipsy(!0);t&&t.enable()},disable:function(t){t=l(t).tipsy(!0);t&&t.disable()},show:function(t){var i=new n,t=l(t).tipsy(!0);t&&s(t,i)},hide:function(t){var i=l(t).tipsy(!0);i&&(l(t).trigger("mouseleave"),i.hide())}};return t});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/ajs-future.js' */
!function(){function o(t,e,n,o,i){t.buttonpanel||t.addButtonPanel(),i=i||"#",this.page=t,this.onclick=n,this._onclick=function(){n.call(this,t.dialog,t)},this.item=AJS("a",e).attr("href",i).addClass("button-panel-link"),o&&this.item.addClass(o),"function"==typeof n&&this.item.click(this._onclick),t.buttonpanel.append(this.item),this.id=t.button.length,t.button[this.id]=this}AJS.Dialog.prototype.addCancel||(AJS.Dialog.prototype.addCancel=function(t,e){var n=this.page[this.curpage];new o(n,t,e,"button-panel-cancel-link");n.recalcSize()}),AJS.parseUri=function(t,e){function a(t){for(var o=a.options,e=o.parser[o.strictMode?"strict":"loose"].exec(t),i={},n=14;n--;)i[o.key[n]]=e[n]||"";return i[o.q.name]={},i[o.key[12]].replace(o.q.parser,function(t,e,n){e&&("object"==typeof i[o.q.name][e]?i[o.q.name][e].push(n):i[o.q.name][e]?i[o.q.name][e]=[i[o.q.name][e],n]:i[o.q.name][e]=n)}),i}return a.options={strictMode:!!e,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},(t=a(t)).toString=function(){var o=[];return AJS.$.each(t.queryKey,function(n,t){_.isObject(t)?AJS.$.each(t,function(t,e){o.push(n+"="+e)}):o.push(n+"="+t)}),t.protocol+"://"+t.authority+t.path+"?"+o.join("&")+"#"+t.anchor},t}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/ajs-version.js' */
GH.ajsVersion=function(){if(!AJS.version)return{major:-1,minor:0,milestone:0};var n=AJS.version.split("."),e={major:n[0],minor:0,milestone:0};return 3==n.length?(e.minor=n[1],e.milestone=n[2]):2!=n.length||2==(n=n[1].split("-")).length&&(e.minor=n[0],e.milestone=n[1].substring(n[1].indexOf("m")+1)),e},GH.ajsVersionAfter=function(n,e,r){var i=GH.ajsVersion();return!(i.major<n)&&(!(e&&i.minor<e)&&!(r&&i.milestone<r))};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/ui-utils.js' */
GH.Util=GH.Util||{},GH.Util.UI={},GH.Util.UI.isDisabled=function(i){i=AJS.$(i);return i.hasClass("disabled")||"true"==i.attr("aria-disabled")},GH.Util.UI.isEnabled=function(i){return!GH.Util.UI.isDisabled(i)},GH.Util.UI.isVisibleY=function(i){var t=AJS.$(window).height(),l=AJS.$(document).scrollTop();return l<i&&i<t+l},GH.Util.UI.isVisibleX=function(i){var t=AJS.$(window).width(),l=AJS.$(document).scrollLeft();return l<i&&i<t+l},GH.Util.UI.ariaEnable=function(i){AJS.$(i).removeAttr("aria-disabled")},GH.Util.UI.ariaDisable=function(i){AJS.$(i).attr("aria-disabled","true")};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/Layout.js' */
GH.Layout={},GH.Layout.windowResizeTimer=null,GH.Layout.EVENT_DELAYED_RESIZE="delayedResize",GH.Layout.info={windowWidth:-1,windowHeight:-1},GH.Layout.getWindowWidth=function(){return GH.Layout.info.windowWidth},GH.Layout.getWindowHeight=function(){return GH.Layout.info.windowHeight},GH.Layout.bindDelayedWindowResize=_.once(function(){AJS.$(window).bind("resize.rapidboardSpa",function(i){null!=GH.Layout.windowResizeTimer&&window.clearTimeout(GH.Layout.windowResizeTimer),GH.Layout.windowResizeTimer=window.setTimeout(function(){(GH.Layout.updateWindowSize()||"rapidboardSpa"===i.namespace)&&GH.Layout.fireDelayedWindowResize()},250)})}),GH.Layout.updateWindowSize=function(){var i=AJS.$(window),o=GH.Layout.info.windowWidth,n=GH.Layout.info.windowHeight,e=i.width(),i=i.height();return(o!=e||n!=i)&&(GH.Layout.info.windowWidth=e,GH.Layout.info.windowHeight=i,!0)},GH.Layout.fireDelayedWindowResize=function(){AJS.$(GH).trigger(GH.Layout.EVENT_DELAYED_RESIZE)},GH.Layout.initPreRender=function(){var i=AJS.$(window);GH.Layout.info.windowWidth=i.width(),GH.Layout.info.windowHeight=i.height()},GH.Layout.init=function(){GH.Layout.bindDelayedWindowResize()},GH.Layout.initPreRender();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/Footer.js' */
GH.Footer={},GH.Footer.agileFooter=function(){var o=AJS.$("#footer"),r=o.find(".footer-body:first ul:first"),o=o.find("#ghx-footer");JIRA.Version.isGreaterThanOrEqualTo("6.2")||r.before(o),o.css({visibility:""})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/Browser.js' */
GH.RapidBoard.Browsers={},GH.RapidBoard.Browsers.userAgentMap={mozilla:"Firefox"},GH.RapidBoard.Browsers.unsupportedBrowsers=[{name:"mozilla",versions:["1.7","1.8","1.9"]}],GH.RapidBoard.Browsers.init=function(){GH.RapidBoard.Browsers.unsupported()},GH.RapidBoard.Browsers.isGreaterThanIE9=function(){return AJS.$.browser.msie&&9<parseFloat(AJS.$.browser.version)},GH.RapidBoard.Browsers.isInputEventSupported=function(){return"oninput"in document.createElement("input")&&!AJS.$.browser.msie||GH.RapidBoard.Browsers.isGreaterThanIE9()},GH.RapidBoard.Browsers.describeBrowser=function(r){r=r||navigator.userAgent;var e=/chrome/.test(navigator.userAgent.toLowerCase()),o=!e&&/safari/.test(navigator.userAgent.toLowerCase()),s=AJS.$.uaMatch(r),r=s.browser;return e?r="chrome":o&&(r="safari"),{name:r,version:s.version.replace(/(\d+)\.(\d+).*$/,"$1.$2")}},GH.RapidBoard.Browsers.unsupported=function(){for(var r=GH.RapidBoard.Browsers.describeBrowser(),e=GH.RapidBoard.Browsers.unsupportedBrowsers,o=0;o<e.length;o++)if(a=e[o],r.name==a.name&&0<=a.versions.indexOf(r.version)){var s=r.name;GH.RapidBoard.Browsers.userAgentMap[s]&&(s=GH.RapidBoard.Browsers.userAgentMap[s]);var a={"url":"https://confluence.atlassian.com/display/JIRASOFTWARECLOUD/Supported+Platforms","isLocal":false}.url,a=GH.tpl.rapid.notification.renderMessageHolder({browser:s,docsUrl:a});AJS.$("body").prepend(a);break}},AJS.$(function(){GH.RapidBoard.Browsers.init()});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/NumberFormat.js' */
GH.NumberFormat={},GH.NumberFormat.groupingSeparator=",",GH.NumberFormat.decimalSeparator=".",GH.NumberFormat.format=function(r){if(_.isNumber(r)){function t(r){return r.split("").reverse().join("")}var a=(r=GH.Util.roundToDecimalPlaces(r,2))<<0,r=r.toString().split(".")[1];return t(t(a.toString()).replace(/(\d{3})(?=\d)/g,"$1"+GH.NumberFormat.groupingSeparator))+(r?GH.NumberFormat.decimalSeparator+r:"")}},GH.NumberFormat.formatExponential=function(r){if(_.isNumber(r)){var t=Math.abs(r).toFixed(0).length-1,r=r/Math.pow(10,t);return GH.NumberFormat.format(r)+"e"+GH.NumberFormat.format(t)}};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/TimeFormat.js' */
GH.TimeFormatDisplays={},GH.TimeFormatDisplays.PRETTY="pretty",GH.TimeFormatDisplays.DAYS="days",GH.TimeFormatDisplays.HOURS="hours",GH.TimeFormatDisplays.MOST_SIGNIFICANT="most-significant",GH.TimeFormatDurationUnits={},GH.TimeFormatDurationUnits.SECONDS="seconds",GH.TimeFormatDurationUnits.MILLISECONDS="millis",GH.TimeFormat={},GH.TimeFormat.timeTrackingConfigOpts={hoursPerDay:8,daysPerWeek:5,timeFormat:GH.TimeFormatDisplays.PRETTY,symbols:{week:"w",day:"d",hour:"h",minute:"m"}},GH.TimeFormat.normalDisplayOpts={hoursPerDay:24,daysPerWeek:7,timeFormat:GH.TimeFormatDisplays.PRETTY,symbols:{week:"w",day:"{0}d",hour:"{0}h",minute:"{0}m"}},GH.TimeFormat.formatMinuteDuration=function(t){return GH.TimeFormat.formatDuration(t?6e4*t:0)},GH.TimeFormat.formatShortMinuteDuration=function(t){return GH.TimeFormat.formatShortDuration(t?6e4*t:0)},GH.TimeFormat.formatDuration=function(t){t=t||0;var o=Math.floor(t/864e5),r=t-864e5*o,a=Math.floor(r/36e5);r-=36e5*a;var e=Math.floor(r/6e4),r="";return 0<o&&(r+=o+" ",r+=1<o?AJS.format("days",o):AJS.format("day",o)),0<a&&(0<r.length&&(r+=" "),r+=a+" ",r+=1<a?AJS.format("hours",a):AJS.format("hour",a)),(0<t||0===r.length)&&(0<r.length&&(r+=" "),r+=e+" ",r+=0===e||1<e?AJS.format("minutes",e):AJS.format("minute",e)),r},GH.TimeFormat.formatShortDurationForTimeTrackingConfiguration=function(t,o){return _.isUndefined(o)&&(o={durationUnit:GH.TimeFormatDurationUnits.SECONDS}),GH.TimeFormat._formatShortDuration(t,_.extend({},GH.TimeFormat.timeTrackingConfigOpts,o))},GH.TimeFormat.formatShortDuration=function(t){return GH.TimeFormat._formatShortDuration(t,_.extend({},GH.TimeFormat.normalDisplayOpts,{durationUnit:GH.TimeFormatDurationUnits.MILLISECONDS}))},GH.TimeFormat.formatSensibleShortDuration=function(t){t=GH.TimeFormat._formatShortDuration(t,_.extend({},GH.TimeFormat.normalDisplayOpts,{durationUnit:GH.TimeFormatDurationUnits.MILLISECONDS,dropMinutesIfLongerThanADay:!0}));return t=0===t.length?GH.TimeFormat.getZeroMinutesShortFormat():t},GH.TimeFormat.getZeroMinutesShortFormat=function(){return AJS.format("{0}m",0)},GH.TimeFormat._formatShortDuration=function(t,o){if(0===(t=t||0))return"0";var r,a,e,i=GH.TimeFormat.normalDisplayOpts;o=_.isUndefined(o)?{}:o;var m=36e5,n=(o=_.extend({},i,o)).hoursPerDay*m,s=o.daysPerWeek*n;o.durationUnit===GH.TimeFormatDurationUnits.SECONDS&&(t*=1e3),r=Math.floor(t/s),u=t%s,a=Math.floor(u/n),u%=n,e=Math.floor(u/m),u%=m,i=Math.floor(u/6e4),o.dropMinutesIfLongerThanADay&&0<a&&(i=0);var u=[];o.timeFormat===GH.TimeFormatDisplays.PRETTY?u=[{val:r,fmt:o.symbols.week},{val:a,fmt:o.symbols.day},{val:e,fmt:o.symbols.hour},{val:i,fmt:o.symbols.minute}]:o.timeFormat===GH.TimeFormatDisplays.DAYS?u=[{val:a=GH.Util.roundToDecimalPlaces(t/n,2),fmt:o.symbols.day}]:o.timeFormat===GH.TimeFormatDisplays.HOURS?u=[{val:e=GH.Util.roundToDecimalPlaces(t/m,2),fmt:o.symbols.hour}]:o.timeFormat===GH.TimeFormatDisplays.MOST_SIGNIFICANT&&(u=0<r?[{val:GH.Util.roundToDecimalPlaces(t/s,1),fmt:o.symbols.week}]:0<a?[{val:GH.Util.roundToDecimalPlaces(t/n,1),fmt:o.symbols.day}]:0<e?[{val:GH.Util.roundToDecimalPlaces(t/m,1),fmt:o.symbols.hour}]:[{val:i<1?"":GH.Util.roundToDecimalPlaces(t/6e4,1),fmt:o.symbols.minute}]);var l;return u=u,l="",_.each(u,function(t){var o;0<t.val&&(0<l.length&&(l+=" "),(o=t.fmt).indexOf("{0}")<0&&(o="{0}"+o),t=GH.NumberFormat.format(t.val),l+=AJS.format(o,t))}),l=!l&&u.length?AJS.format(_.last(u).fmt,"< 1"):l};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ops/MouseUtils.js' */
GH.MouseUtils={},GH.MouseUtils.openInSameTab=function(e){return(_.isUndefined(e.which)||null===e.which||1===e.which||0===e.which&&AJS.$.browser.msie)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey&&!AJS.$.browser.msie)},GH.MouseUtils.getMetaKeys=function(e){return e?{metaPressed:e.metaKey||e.ctrlKey,shiftPressed:e.shiftKey}:{metaPressed:!1,shiftPressed:!1}},GH.MouseUtils.hasMetaKeys=function(e){return e.metaPressed||e.shiftPressed},GH.MouseUtils.isMetaPressed=function(e){return e.metaPressed},GH.MouseUtils.isShiftPressed=function(e){return e.shiftPressed};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ops/ScrollUtils.js' */
GH.ScrollUtils={},GH.ScrollUtils.scrollElementToViewPort=function(o,t,l){var r=o.scrollTop(),c=0;l.top<t.top?c=l.top-t.top:t.bottom<l.bottom&&(c=l.bottom-t.bottom),0!==c&&o.animate({scrollTop:r+c},"fast")};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/UrlFormat.js' */
GH.UrlFormat={},GH.UrlFormat.defaultContextPath="",GH.UrlFormat.prependBaseUrl=function(t){return t=t&&0!==t.indexOf("http://")&&0!==t.indexOf("https://")?(GH.Ajax&&GH.Ajax.CONTEXT_PATH?GH.Ajax.CONTEXT_PATH:GH.UrlFormat.defaultContextPath)+t:t},GH.UrlFormat.getUrlForIssues=function(t){t=_.compact(_.pluck(t,"id")).join(",");return GH.UrlFormat.prependBaseUrl("/issues/?jql="+encodeURIComponent(""!==t?"id in ("+t+")":""))};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ops/CallbackManager.js' */
GH.CallbackManager={},GH.CallbackManager.callbacks={},GH.CallbackManager.executeCallbacks=function(a,l){var c=GH.CallbackManager.callbacks[a];c&&!_.isEmpty(c)&&(_.each(c,function(a){a.fn(l)}),delete GH.CallbackManager.callbacks[a])},GH.CallbackManager.registerCallback=function(a,l,c){(GH.CallbackManager.callbacks[a]||(GH.CallbackManager.callbacks[a]=[])).push({name:l,fn:c})},GH.CallbackManager.deleteCallbacks=function(l){_.each(_.keys(GH.CallbackManager.callbacks),function(a){a.substr(0,l.length)==l&&delete GH.CallbackManager.callbacks[a]})},GH.CallbackManager.getCallbacks=function(a){return GH.CallbackManager.callbacks[a]||[]},GH.CallbackManager.clear=function(){GH.CallbackManager.callbacks={}};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/configuration/InlineEditField.js' */
!function(){"use strict";GH.RapidBoard.Util.InlineEditable={},GH.RapidBoard.Util.InlineEditable.defaultFieldData=function(e,i){return{fieldName:e.attr("data-fieldname"),fieldValue:e.attr("data-fieldvalue"),defaultValue:e.attr("data-defaultvalue"),maxDisplayLength:e.attr("data-maxdisplaylength")}},GH.RapidBoard.Util.InlineEditable.defaultActivate=function(e){e.editElement.focus(),e.editElement.select()},GH.RapidBoard.Util.InlineEditable.defaultTextRenderView=function(e){return AJS.$(GH.tpl.inlineeditfield.renderBasicTextView({canEdit:!0,fieldName:e.fieldName,fieldValue:e.newValue,displayValue:e.newValue,defaultValue:e.defaultValue,maxDisplayLength:e.maxDisplayLength}))},GH.RapidBoard.Util.InlineEditable.pencilTextRenderView=function(e){return AJS.$(GH.tpl.inlineeditfield.renderPencilTextView({canEdit:!0,fieldName:e.fieldName,fieldValue:e.newValue,displayValue:e.newValue}))},GH.RapidBoard.Util.InlineEditable.remoteTriggeredTextRenderView=function(e){return AJS.$(GH.tpl.inlineeditfield.renderRemoteTriggeredTextView({fieldName:e.fieldName,fieldValue:e.newValue,displayValue:e.newValue}))},GH.RapidBoard.Util.InlineEditable.renderTextFieldInlineEdit=function(i,e){e=e||GH.tpl.inlineeditfield.renderBasicTextFieldEdit;e=AJS.$(e(i));return e.val(i.fieldValue),e.blur(function(e){GH.RapidBoard.Util.InlineEditable.submitChanges(i)}),e.keydown(function(e){27===e.keyCode?(e.stopPropagation(),GH.RapidBoard.Util.InlineEditable.cancelEdit(i)):13===e.keyCode&&(e.preventDefault(),GH.RapidBoard.Util.InlineEditable.submitChanges(i))}),e},GH.RapidBoard.Util.InlineEditable.defaultTextValidation=function(e){var i=e.editElement.val();return e.newValue=i,!0},GH.RapidBoard.Util.InlineEditable.renderUserPickerInlineEdit=function(e,i){e={value:e.fieldValue};return AJS.$(GH.tpl.inlineeditfield.renderUserPickerFieldEdit({name:"userpickerSelect",data:e}))},GH.RapidBoard.Util.InlineEditable.userPickerActivate=function(i){function e(e){var i;e.finishSubmitted||(e.finishSubmitted=!0,(i=e.selectObject.getSelectedDescriptor())&&i.value()!==e.fieldValue?GH.RapidBoard.Util.InlineEditable.submitChanges(e):GH.RapidBoard.Util.InlineEditable.cancelEdit(e))}var t=require("jira/ajs/select/single-select"),a=i.editElement.find("select");GH.SingleSelect=t.extend({submitForm:function(){this.suggestionsVisible||(this.handleFreeInput(),e(i))},_handleEscape:function(e){this.suggestionsVisible&&(e.stopPropagation(),"keyup"===e.type&&this.hideSuggestions()),"keyup"===e.type&&GH.RapidBoard.Util.InlineEditable.cancelEdit(i)},_deactivate:function(){this.acceptFocusedSuggestion(),this.hideSuggestions(),e(i)}});t=new GH.SingleSelect({element:a,showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,errorMessage:"The user \'{0}\' is invalid.",ajaxOptions:{url:GH.Ajax.CONTEXT_PATH+"/rest/api/1.0/users/picker",query:!0,minQueryLength:0,data:{showAvatar:!0},formatResponse:function(e){var a=[];return AJS.$(e).each(function(e,i){var t=new AJS.GroupDescriptor({weight:e,id:"user-suggestions",replace:!0,label:i.footer});AJS.$(i.users).each(function(){t.addItem(new AJS.ItemDescriptor({value:this.name,label:this.displayName,html:this.html,allowDuplicate:!1,icon:this.avatarUrl}))}),a.push(t)}),a}}});i.selectObject=t,i.editElement.find("input").focus(),a.select()},GH.RapidBoard.Util.InlineEditable.userPickerValidation=function(e){var i=e.selectObject.getSelectedDescriptor();return e.newValue=i.value(),e.newDisplayValue=i.label(),0===e.newDisplayValue.length&&(e.newDisplayValue=e.newValue),!0},GH.RapidBoard.Util.InlineEditable.renderDatePickerInlineEdit=function(e,i){return AJS.$(GH.tpl.inlineeditfield.renderDatePickerFieldEdit({fieldName:e.fieldName,fieldValue:e.fieldValue}))},GH.RapidBoard.Util.InlineEditable.datePickerActivate=function(i,e){var t=i.fieldName;e=_.extend({},{cache:!1,firstDay:0,inputField:"ghx-datepicker-"+t,button:"ghx-datepicker-"+t+"_trigger_c",align:"Br",singleClick:!0,showsTime:!0,timeFormat:12,positionStyle:"fixed",onClose:function(e){GH.RapidBoard.Util.InlineEditable.submitChanges(i),e.hide()},ifFormat:GH.TimeFormat.dateTimePickerFormat,useISO8601WeekNumbers:GH.TimeFormat.useISO8601WeekNumbers},e),Calendar.setup(e),AJS.$("#ghx-datepicker-"+t).keydown(function(e){27===e.keyCode?(e.stopPropagation(),GH.RapidBoard.Util.InlineEditable.cancelEdit(i),GH.Validation.clearContextualErrors()):13===e.keyCode&&(e.preventDefault(),GH.RapidBoard.Util.InlineEditable.submitChanges(i))}),AJS.$("#ghx-datepicker-"+t).focus(),AJS.$("#ghx-datepicker-"+t).blur(function(){GH.RapidBoard.Util.InlineEditable.submitChanges(i)})},GH.RapidBoard.Util.InlineEditable.datePickerValidation=function(e){var i=e.editElement.find("input").val();return e.newValue=i,!0},GH.RapidBoard.Util.InlineEditable.activeEdits=[],GH.RapidBoard.Util.InlineEditable.cancelActiveEdits=function(){_.each(GH.RapidBoard.Util.InlineEditable.activeEdits,function(e){GH.RapidBoard.Util.InlineEditable.cancelEdit(e)})},GH.RapidBoard.Util.InlineEditable.submitActiveEdits=function(){return!_.isEmpty(GH.RapidBoard.Util.InlineEditable.activeEdits)&&(_.each(GH.RapidBoard.Util.InlineEditable.activeEdits,function(e){GH.RapidBoard.Util.InlineEditable.submitChanges(e)}),!0)},GH.RapidBoard.Util.InlineEditable.register=function(e,i){var t={getViewElement:function(e){return AJS.$(this)},getData:GH.RapidBoard.Util.InlineEditable.defaultFieldData,preEdit:function(e){},renderEdit:GH.RapidBoard.Util.InlineEditable.renderTextFieldInlineEdit,activate:GH.RapidBoard.Util.InlineEditable.defaultActivate,validate:GH.RapidBoard.Util.InlineEditable.defaultTextValidation,save:function(e){GH.RapidBoard.Util.InlineEditable.updateView(e)},renderView:GH.RapidBoard.Util.InlineEditable.defaultTextRenderView,postEdit:function(e){},startEdit:GH.RapidBoard.Util.InlineEditable.startEdit};i&&AJS.$.extend(!0,t,i),AJS.$(document).off("click keypress",e).on("click keypress",e,function(e){"click"!==e.type&&![13,32].includes(e.keyCode)||(e=t.getViewElement.call(this,e),t.startEdit(e,t))})},GH.RapidBoard.Util.InlineEditable.startEdit=function(e,i){var t;if(t=i.getData?i.getData(e,i):t){if(t.viewElement=e,(t.options=i).preEdit)if(!1===i.preEdit(t))return;GH.RapidBoard.Util.InlineEditable.activeEdits.push(t);e=i.renderEdit(t);t.editElement=e,AJS.$(t.viewElement).replaceWith(t.editElement),i.activate&&i.activate(t)}},GH.RapidBoard.Util.InlineEditable.cancelEdit=function(e){e.canceled=!0,e.editElement.replaceWith(e.viewElement),GH.Validation.clearContextualErrors(e.viewElement),e.options.postEdit&&e.options.postEdit(e),GH.RapidBoard.Util.InlineEditable.removeFromActiveEdits(e)},GH.RapidBoard.Util.InlineEditable.submitChanges=function(e){e.options.validate(e)?e.options.save(e):e.options.activate(e)},GH.RapidBoard.Util.InlineEditable.updateView=function(e){e.updated=!0;var i=e.options.renderView(e);e.viewElement=i,e.editElement.replaceWith(i),GH.Validation.clearContextualErrors(e.viewElement),e.options.postEdit&&e.options.postEdit(e),GH.RapidBoard.Util.InlineEditable.removeFromActiveEdits(e)},GH.RapidBoard.Util.InlineEditable.removeFromActiveEdits=function(e){GH.RapidBoard.Util.InlineEditable.activeEdits=_.without(GH.RapidBoard.Util.InlineEditable.activeEdits,e)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/configuration/InlineEditField.soy' */
// This file was automatically generated from InlineEditField.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.inlineeditfield.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.inlineeditfield == 'undefined') { GH.tpl.inlineeditfield = {}; }


GH.tpl.inlineeditfield.renderBasicTextView = function(opt_data, opt_ignored) {
  return '<span' + ((opt_data.canEdit) ? ' class="field-value ghx-editable js-editable-field js-edit-' + soy.$$escapeHtml(opt_data.fieldName) + '-trigger" tabindex="0"' : ' class="field-value ghx-readonly"') + ' data-fieldname="' + soy.$$escapeHtml(opt_data.fieldName) + '" data-fieldvalue="' + ((opt_data.fieldValue) ? soy.$$escapeHtml(opt_data.fieldValue) : '') + '"' + ((opt_data.defaultValue) ? ' data-defaultvalue="' + soy.$$escapeHtml(opt_data.defaultValue) + '"' : '') + ' data-maxdisplaylength="' + ((opt_data.maxDisplayLength) ? soy.$$escapeHtml(opt_data.maxDisplayLength) : '') + '" >' + ((opt_data.defaultValue && ! opt_data.displayValue) ? soy.$$escapeHtml(opt_data.defaultValue) : (opt_data.maxDisplayLength) ? soy.$$truncate(soy.$$escapeHtml(opt_data.displayValue), opt_data.maxDisplayLength, true) : soy.$$escapeHtml(opt_data.displayValue)) + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.inlineeditfield.renderBasicTextView.soyTemplateName = 'GH.tpl.inlineeditfield.renderBasicTextView';
}


GH.tpl.inlineeditfield.renderBasicTextFieldEdit = function(opt_data, opt_ignored) {
  return '<input type="text" name="' + soy.$$escapeHtml(opt_data.fieldName) + '" class="text js-editing-field js-edit-' + soy.$$escapeHtml(opt_data.fieldName) + ' ' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) : '') + '" ' + ((opt_data.maxLength) ? 'maxlength="' + soy.$$escapeHtml(opt_data.maxLength) + '"' : '') + '>';
};
if (goog.DEBUG) {
  GH.tpl.inlineeditfield.renderBasicTextFieldEdit.soyTemplateName = 'GH.tpl.inlineeditfield.renderBasicTextFieldEdit';
}


GH.tpl.inlineeditfield.renderUserPickerFieldEdit = function(opt_data, opt_ignored) {
  return '<span><select class="js-default-user-picker" name="' + soy.$$escapeHtml(opt_data.name) + '">' + ((opt_data.data.avatarUrl) ? '<option selected="selected" style="background-image:url(\'' + soy.$$escapeHtml(opt_data.data.avatarUrl) + '\')" value="' + soy.$$escapeHtml(opt_data.data.value) + '">' : '<option selected="selected" value="' + soy.$$escapeHtml(opt_data.data.value) + '">') + ((opt_data.data.displayName) ? soy.$$escapeHtml(opt_data.data.displayName) : soy.$$escapeHtml(opt_data.data.value)) + '</option></select></span>';
};
if (goog.DEBUG) {
  GH.tpl.inlineeditfield.renderUserPickerFieldEdit.soyTemplateName = 'GH.tpl.inlineeditfield.renderUserPickerFieldEdit';
}


GH.tpl.inlineeditfield.renderDatePickerFieldEdit = function(opt_data, opt_ignored) {
  return '<span><input id="ghx-datepicker-' + soy.$$escapeHtml(opt_data.fieldName) + '" class="text medium-field js-editing-field" type="text" value="' + soy.$$escapeHtml(opt_data.fieldValue) + '"><span id="ghx-datepicker-' + soy.$$escapeHtml(opt_data.fieldName) + '_trigger_c" class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-calendar js-editing-field" title="' + soy.$$escapeHtml('Edit end date') + '">' + soy.$$escapeHtml('Edit') + '</span></span>';
};
if (goog.DEBUG) {
  GH.tpl.inlineeditfield.renderDatePickerFieldEdit.soyTemplateName = 'GH.tpl.inlineeditfield.renderDatePickerFieldEdit';
}


GH.tpl.inlineeditfield.renderPencilTextView = function(opt_data, opt_ignored) {
  return '<span' + ((opt_data.canEdit) ? ' class="field-value ghx-editable-secondary js-editable-field js-edit-' + soy.$$escapeHtml(opt_data.fieldName) + '-trigger" tabindex="0"' : ' class="field-value ghx-readonly-secondary"') + ' data-fieldname="' + soy.$$escapeHtml(opt_data.fieldName) + '" data-fieldvalue="' + soy.$$escapeHtml(opt_data.fieldValue) + '" >' + soy.$$escapeHtml(opt_data.displayValue) + ((opt_data.canEdit) ? '<span class="js-edit-pencil ghx-icon ghx-icon-edit" title="' + soy.$$escapeHtml('Click to edit') + '"></span>' : '') + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.inlineeditfield.renderPencilTextView.soyTemplateName = 'GH.tpl.inlineeditfield.renderPencilTextView';
}


GH.tpl.inlineeditfield.renderRemoteTriggeredTextView = function(opt_data, opt_ignored) {
  return '<span class="field-value js-editable-field js-edit-' + soy.$$escapeHtml(opt_data.fieldName) + '-trigger" data-fieldname="' + soy.$$escapeHtml(opt_data.fieldName) + '" data-fieldvalue="' + soy.$$escapeHtml(opt_data.fieldValue) + '" >' + soy.$$escapeHtml(opt_data.displayValue) + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.inlineeditfield.renderRemoteTriggeredTextView.soyTemplateName = 'GH.tpl.inlineeditfield.renderRemoteTriggeredTextView';
}


GH.tpl.inlineeditfield.renderJQLAutocomplete = function(opt_data, opt_ignored) {
  return '<span><textarea class="js-jql-autocomplete-field textarea" name="' + soy.$$escapeHtml(opt_data.name) + '" id="' + soy.$$escapeHtml(opt_data.namespace) + '-jql-' + ((opt_data.id) ? soy.$$escapeHtml(opt_data.id) : 'create') + '" cols="20" rows="2">' + ((opt_data.value) ? soy.$$escapeHtml(opt_data.value) : '') + '</textarea><span id="' + soy.$$escapeHtml(opt_data.namespace) + '-jql-errormsg-' + ((opt_data.id) ? soy.$$escapeHtml(opt_data.id) : 'create') + '" class="icon jqlgood js-jql-autocomplete-error"><span></span></span></span>';
};
if (goog.DEBUG) {
  GH.tpl.inlineeditfield.renderJQLAutocomplete.soyTemplateName = 'GH.tpl.inlineeditfield.renderJQLAutocomplete';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/jquery/jquery.ui.resizable.js' */
!function(u){function a(t){return parseInt(t,10)||0}function p(t){return!isNaN(parseInt(t,10))}u.widget("ui.resizable",u.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,alsoResizeMirror:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,e,i,s,h=this,n=this.options;if(this.element.addClass("ui-resizable"),u.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(u("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(u(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;e<t.length;e++)i=u.trim(t[e]),(s=u("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:n.zIndex}),"se"===i&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(s);this._renderAxis=function(t){var e,i,s;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String&&(this.handles[e]=u(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=u(this.handles[e],this.element),s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),u(this.handles[e]).length},this._renderAxis(this.element),this._handles=u(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){h.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),h.axis=s&&s[1]?s[1]:"se")}),n.autoHide&&(this._handles.hide(),u(this.element).addClass("ui-resizable-autohide").mouseenter(function(){n.disabled||(u(this).removeClass("ui-resizable-autohide"),h._handles.show())}).mouseleave(function(){n.disabled||h.resizing||(u(this).addClass("ui-resizable-autohide"),h._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();function t(t){u(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)(i=u(this.handles[e])[0])!==t.target&&!u.contains(i,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i=this.options,s=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),e=a(this.helper.css("left")),s=a(this.helper.css("top")),i.containment&&(e+=u(i.containment).scrollLeft()||0,s+=u(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:s},this.size=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:e,top:s},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=u(".ui-resizable-"+this.axis).css("cursor"),u("body").css("cursor","auto"===i?this.axis+"-resize":i),h.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.helper,i={},s=this.originalMousePosition,h=this.axis,n=this.position.top,o=this.position.left,a=this.size.width,l=this.size.height,r=t.pageX-s.left||0,s=t.pageY-s.top||0,h=this._change[h];return h&&(s=h.apply(this,[t,r,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(s=this._updateRatio(s,t)),s=this._respectSize(s,t),this._updateCache(s),this._propagate("resize",t),this.position.top!==n&&(i.top=this.position.top+"px"),this.position.left!==o&&(i.left=this.position.left+"px"),this.size.width!==a&&(i.width=this.size.width+"px"),this.size.height!==l&&(i.height=this.size.height+"px"),e.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),u.isEmptyObject(i)||this._trigger("resize",t,this.ui())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,h=this.options,n=this;return this._helper&&(s=(e=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&u.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,i=e?0:n.sizeDiff.width,e={width:n.helper.width()-i,height:n.helper.height()-s},i=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,s=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null,h.animate||this.element.css(u.extend(e,{top:s,left:i})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!h.animate&&this._proportionallyResize()),u("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,s=this.options,h={minWidth:p(s.minWidth)?s.minWidth:0,maxWidth:p(s.maxWidth)?s.maxWidth:1/0,minHeight:p(s.minHeight)?s.minHeight:0,maxHeight:p(s.maxHeight)?s.maxHeight:1/0};(this._aspectRatio||t)&&(e=h.minHeight*this.aspectRatio,i=h.minWidth/this.aspectRatio,s=h.maxHeight*this.aspectRatio,t=h.maxWidth/this.aspectRatio,e>h.minWidth&&(h.minWidth=e),i>h.minHeight&&(h.minHeight=i),s<h.maxWidth&&(h.maxWidth=s),t<h.maxHeight&&(h.maxHeight=t)),this._vBoundaries=h},_updateCache:function(t){this.offset=this.helper.offset(),p(t.left)&&(this.position.left=t.left),p(t.top)&&(this.position.top=t.top),p(t.height)&&(this.size.height=t.height),p(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return p(t.height)?t.width=t.height*this.aspectRatio:p(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=p(t.width)&&e.maxWidth&&e.maxWidth<t.width,h=p(t.height)&&e.maxHeight&&e.maxHeight<t.height,n=p(t.width)&&e.minWidth&&e.minWidth>t.width,o=p(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,r=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return n&&(t.width=e.minWidth),o&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),h&&(t.height=e.maxHeight),n&&r&&(t.left=a-e.minWidth),s&&r&&(t.left=a-e.maxWidth),o&&i&&(t.top=l-e.minHeight),h&&i&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e,i,s,h=this.helper||this.element,n=0;n<this._proportionallyResizeElements.length;n++){if(s=this._proportionallyResizeElements[n],!this.borderDif)for(this.borderDif=[],e=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],i=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;t<e.length;t++)this.borderDif[t]=(parseInt(e[t],10)||0)+(parseInt(i[t],10)||0);s.css({height:h.height()-this.borderDif[0]-this.borderDif[2]||0,width:h.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||u("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return u.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return u.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return u.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return u.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){u.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),u.ui.plugin.add("resizable","animate",{stop:function(e){var i=u(this).data("resizable"),t=i.options,s=i._proportionallyResizeElements,h=s.length&&/textarea/i.test(s[0].nodeName),n=h&&u.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,o=h?0:i.sizeDiff.width,h={width:i.size.width-o,height:i.size.height-n},o=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,n=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(u.extend(h,n&&o?{top:n,left:o}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&u(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),u.ui.plugin.add("resizable","containment",{start:function(){var i,s,t=u(this).data("resizable"),e=t.options,h=t.element,n=e.containment,o=n instanceof u?n.get(0):/parent/.test(n)?h.parent().get(0):n;o&&(t.containerElement=u(o),/document/.test(n)||n===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:u(document),left:0,top:0,width:u(document).width(),height:u(document).height()||document.body.parentNode.scrollHeight}):(i=u(o),s=[],u(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=a(i.css("padding"+e))}),t.containerOffset=i.offset(),t.containerPosition=i.position(),t.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},e=t.containerOffset,h=t.containerSize.height,n=t.containerSize.width,n=u.ui.hasScroll(o,"left")?o.scrollWidth:n,h=u.ui.hasScroll(o)?o.scrollHeight:h,t.parentData={element:o,left:e.left,top:e.top,width:n,height:h}))},resize:function(t){var e=u(this).data("resizable"),i=e.options,s=e.containerOffset,h=e.position,n=e._aspectRatio||t.shiftKey,o={top:0,left:0},t=e.containerElement;t[0]!==document&&/static/.test(t.css("position"))&&(o=s),h.left<(e._helper?s.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-s.left:e.position.left-o.left),n&&(e.size.height=e.size.width/e.aspectRatio),e.position.left=i.helper?s.left:0),h.top<(e._helper?s.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-s.top:e.position.top),n&&(e.size.width=e.size.height*e.aspectRatio),e.position.top=e._helper?s.top:0),e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top,i=Math.abs((e._helper,e.offset.left-o.left+e.sizeDiff.width)),h=Math.abs((e._helper?e.offset.top-o.top:e.offset.top-s.top)+e.sizeDiff.height),o=e.containerElement.get(0)===e.element.parent().get(0),s=/relative|absolute/.test(e.containerElement.css("position")),o&&s&&(i-=e.parentData.left),i+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-i,n&&(e.size.height=e.size.width/e.aspectRatio)),h+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-h,n&&(e.size.width=e.size.height*e.aspectRatio))},stop:function(){var t=u(this).data("resizable"),e=t.options,i=t.containerOffset,s=t.containerPosition,h=t.containerElement,n=u(t.helper),o=n.offset(),a=n.outerWidth()-t.sizeDiff.width,n=n.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(h.css("position"))&&u(this).css({left:o.left-s.left-i.left,width:a,height:n}),t._helper&&!e.animate&&/static/.test(h.css("position"))&&u(this).css({left:o.left-s.left-i.left,width:a,height:n})}}),u.ui.plugin.add("resizable","alsoResize",{start:function(){function e(t){u(t).each(function(){var t=u(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})}var t=u(this).data("resizable").options;"object"!=typeof t.alsoResize||t.alsoResize.parentNode?e(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],e(t.alsoResize)):u.each(t.alsoResize,function(t){e(t)})},resize:function(t,n){function i(t,i){u(t).each(function(){var t=u(this),s=u(this).data("ui-resizable-alsoresize"),h={},e=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];u.each(e,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&0<=i&&(h[e]=i||null)}),t.css(h)})}var e=u(this).data("resizable"),s=e.options,h=e.originalSize,o=e.originalPosition,a={height:e.size.height-h.height||0,width:e.size.width-h.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?i(s.alsoResize):u.each(s.alsoResize,function(t,e){i(t,e)})},stop:function(){u(this).removeData("resizable-alsoresize")}}),u.ui.plugin.add("resizable","alsoResizeMirror",{start:function(){function e(t){u(t).each(function(){var t=u(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})}var t=u(this).data("resizable").options;"object"!=typeof t.alsoResizeMirror||t.alsoResizeMirror.parentNode?e(t.alsoResizeMirror):t.alsoResizeMirror.length?(t.alsoResizeMirror=t.alsoResizeMirror[0],e(t.alsoResizeMirror)):u.each(t.alsoResizeMirror,function(t){e(t)})},resize:function(t,n){function i(t,i){u(t).each(function(){var t=u(this),s=u(this).data("ui-resizable-alsoresize"),h={},e=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];u.each(e,function(t,e){var i=(s[e]||0)-(a[e]||0);i&&0<=i&&(h[e]=i||null)}),t.css(h)})}var e=u(this).data("resizable"),s=e.options,h=e.originalSize,o=e.originalPosition,a={height:e.size.height-h.height||0,width:e.size.width-h.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};"object"!=typeof s.alsoResizeMirror||s.alsoResizeMirror.nodeType?i(s.alsoResizeMirror):u.each(s.alsoResizeMirror,function(t,e){i(t,e)})},stop:function(){u(this).removeData("resizable-alsoresize")}}),u.ui.plugin.add("resizable","ghost",{start:function(){var t=u(this).data("resizable"),e=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=u(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=u(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),u.ui.plugin.add("resizable","grid",{resize:function(){var t=u(this).data("resizable"),e=t.options,i=t.size,s=t.originalSize,h=t.originalPosition,n=t.axis,o="number"==typeof e.grid?[e.grid,e.grid]:e.grid,a=o[0]||1,l=o[1]||1,r=Math.round((i.width-s.width)/a)*a,p=Math.round((i.height-s.height)/l)*l,d=s.width+r,g=s.height+p,c=e.maxWidth&&e.maxWidth<d,f=e.maxHeight&&e.maxHeight<g,i=e.minWidth&&e.minWidth>d,s=e.minHeight&&e.minHeight>g;e.grid=o,i&&(d+=a),s&&(g+=l),c&&(d-=a),f&&(g-=l),/^(se|s|e)$/.test(n)?(t.size.width=d,t.size.height=g):/^(ne)$/.test(n)?(t.size.width=d,t.size.height=g,t.position.top=h.top-p):(/^(sw)$/.test(n)?(t.size.width=d,t.size.height=g):(t.size.width=d,t.size.height=g,t.position.top=h.top-p),t.position.left=h.left-r)}}),u.fn.agileResizable=u.fn.resizable}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/jquery/jquery.ui.droppable.js' */
!function(u){u.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,t=e.accept;this.isover=0,this.isout=1,this.accept=u.isFunction(t)?t:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},u.ui.ddmanager.droppables[e.scope]=u.ui.ddmanager.droppables[e.scope]||[],u.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var e=u.ui.ddmanager.droppables[this.options.scope],t=0;t<e.length;t++)e[t]==this&&e.splice(t,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(e,t){"accept"==e&&(this.accept=u.isFunction(t)?t:function(e){return e.is(t)}),u.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=u.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t)),t&&!t.activated&&(u.ui.ddmanager.dragStart(t,e),t.activated=!0)},_deactivate:function(e){var t=u.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t)),t.activated&&(u.ui.ddmanager.dragStop(t,e),t.activated=!1)},_over:function(e){var t=u.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=u.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var i=t||u.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=u.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&u.ui.intersect(i,u.extend(e,{offset:e.element.offset()}),e.options.tolerance))return!(s=!0)}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),u.extend(u.ui.droppable,{version:"1.8.23"}),u.ui.intersect=function(e,t,i){if(!t.offset)return!1;var s=(e.positionAbs||e.position.absolute).left,o=s+e.helperProportions.width,r=(e.positionAbs||e.position.absolute).top,n=r+e.helperProportions.height,a=t.offset.left,l=a+t.proportions.width,p=t.offset.top,h=p+t.proportions.height;switch(i){case"fit":return a<=s&&o<=l&&p<=r&&n<=h;case"intersect":return a<s+e.helperProportions.width/2&&o-e.helperProportions.width/2<l&&p<r+e.helperProportions.height/2&&n-e.helperProportions.height/2<h;case"pointer":var d=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,c=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return u.ui.isOver(c,d,p,a,t.proportions.height,t.proportions.width);case"touch":return(p<=r&&r<=h||p<=n&&n<=h||r<p&&h<n)&&(a<=s&&s<=l||a<=o&&o<=l||s<a&&l<o);default:return!1}},u.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var i=u.ui.ddmanager.droppables[e.options.scope]||[],s=t?t.type:null,o=(e.currentItem||e.element).find(":data(droppable)").andSelf();e:for(var r=0;r<i.length;r++)if(!(i[r].options.disabled||e&&!i[r].accept.call(i[r].element[0],e.currentItem||e.element))){for(var n=0;n<o.length;n++)if(o[n]==i[r].element[0]){i[r].proportions.height=0;continue e}i[r].visible="none"!=i[r].element.css("display"),i[r].visible&&("mousedown"==s&&i[r]._activate.call(i[r],t),i[r].offset=i[r].element.offset(),i[r].proportions={width:i[r].element[0].offsetWidth,height:i[r].element[0].offsetHeight})}},drop:function(e,t){var i=!1;return u.each(u.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&u.ui.intersect(e,this,this.options.tolerance)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,t)))}),i},dragStart:function(e,t){e.element.parents(":not(body,html)").bind("scroll.droppable",function(){e.options.refreshPositions||u.ui.ddmanager.prepareOffsets(e,t)})},drag:function(s,o){s.options.refreshPositions&&u.ui.ddmanager.prepareOffsets(s,o),u.each(u.ui.ddmanager.droppables[s.options.scope]||[],function(){var e,t,i;this.options.disabled||this.greedyChild||!this.visible||(e=(i=u.ui.intersect(s,this,this.options.tolerance))||1!=this.isover?i&&0==this.isover?"isover":null:"isout")&&(!this.options.greedy||(i=this.element.parents(":data(droppable):eq(0)")).length&&((t=u.data(i[0],"droppable")).greedyChild="isover"==e?1:0),t&&"isover"==e&&(t.isover=0,t.isout=1,t._out.call(t,o)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,o),t&&"isout"==e&&(t.isout=0,t.isover=1,t._over.call(t,o)))})},dragStop:function(e,t){e.element.parents(":not(body,html)").unbind("scroll.droppable"),e.options.refreshPositions||u.ui.ddmanager.prepareOffsets(e,t)}},u.fn.agileDroppable=u.fn.droppable}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/jquery/jquery.ui.sortable.js' */
!function(f){f.widget("ui.sortable",f.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,axisAdjusted:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",helperAdjusted:!1,items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",intersectionOverride:!1,helperProportions:!1,zIndex:1e3},_create:function(){this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&(/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData("sortable-item");return this},_setOption:function(t,e){"disabled"===t?(this.options[t]=e,this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")):f.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,e){if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var i=null,s=this;f(t.target).parents().each(function(){if(f.data(this,"sortable-item")==s)return i=f(this),!1});if(!(i=f.data(t.target,"sortable-item")==s?f(t.target):i))return!1;if(this.options.handle&&!e){var o=!1;if(f(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)}),!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,e,i){var s=this.options,o=this;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),"function"==typeof this.options.additionalScrollParents?this.additionalScrollParents=this.options.additionalScrollParents():this.additionalScrollParents=void 0,this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.options.initializeTopAndLeft&&(this.helper[0].style.left=this.offset.left+"px",this.helper[0].style.top=this.offset.top+"px"),f.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(f("body").css("cursor")&&(this._storedCursor=f("body").css("cursor")),f("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),"function"==typeof this.options.axisAdjusted&&this.options.axisAdjusted.apply(this),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.additionalScrollParents&&(this.additionalOverflowOffsets=[],this.additionalOverflowSizes=[],f.each(this.additionalScrollParents,function(t,e){e=f(e);o.additionalOverflowOffsets[t]=e.offset(),o.additionalOverflowSizes[t]={width:e.width(),height:e.height()}})),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var r=this.containers.length-1;0<=r;r--)this.containers[r]._trigger("activate",t,o._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!s.dropBehaviour&&setTimeout(function(){f.ui.ddmanager.prepareOffsets(o,t)},0),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(s){var o,r,n;this.position=this._generatePosition(s),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(o=this.options,r=!1,this.options.ignoreOriginalScroll||(this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-s.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:s.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-s.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:s.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(s.pageY-f(document).scrollTop()<o.scrollSensitivity?r=f(document).scrollTop(f(document).scrollTop()-o.scrollSpeed):f(window).height()-(s.pageY-f(document).scrollTop())<o.scrollSensitivity&&(r=f(document).scrollTop(f(document).scrollTop()+o.scrollSpeed)),s.pageX-f(document).scrollLeft()<o.scrollSensitivity?r=f(document).scrollLeft(f(document).scrollLeft()-o.scrollSpeed):f(window).width()-(s.pageX-f(document).scrollLeft())<o.scrollSensitivity&&(r=f(document).scrollLeft(f(document).scrollLeft()+o.scrollSpeed)))),this.additionalScrollParents&&f.each((n=this).additionalScrollParents,function(t,e){var i=n.additionalOverflowOffsets[t],t=n.additionalOverflowSizes[t];i.left<=s.pageX&&s.pageX<i.left+t.width&&(i.top+e.offsetHeight-s.pageY<o.scrollSensitivity?e.scrollTop=r=e.scrollTop+o.scrollSpeed:s.pageY-i.top<o.scrollSensitivity&&(e.scrollTop=r=e.scrollTop-o.scrollSpeed)),i.top<=s.pageY&&s.pageY<i.top+t.height&&(i.left+e.offsetWidth-s.pageX<o.scrollSensitivity?e.scrollLeft=r=e.scrollLeft+o.scrollSpeed:s.pageX-i.left<o.scrollSensitivity&&(e.scrollLeft=r=e.scrollLeft-o.scrollSpeed))}),r&&o.containment&&this._setContainment(),!1!==r&&f.ui.ddmanager&&!o.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,s)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),"function"==typeof this.options.helperAdjusted&&this.options.helperAdjusted.apply(this);var t=this.element.offset(),e=this.element.width(),i=this.element.height();if(t.left<=s.pageX&&s.pageX<=t.left+e&&t.top<=s.pageY&&s.pageY<=t.top+i)for(var h=this.items.length-1;0<=h;h--){var l=this.items[h],a=l.item[0],c="function"==typeof this.options.intersectionOverride?this.options.intersectionOverride.apply(this,[l]):this._intersectsWithPointer(l);if(c&&!(a==this.currentItem[0]||this.placeholder[1==c?"next":"prev"]()[0]==a||f.ui.contains(this.placeholder[0],a)||"semi-dynamic"==this.options.type&&f.ui.contains(this.element[0],a))){if(this.direction=1==c?"down":"up","pointer"!=this.options.tolerance&&"function"!=typeof this.options.intersectionOverride&&!this._intersectsWithSides(l))break;this._rearrange(s,l),this._trigger("change",s,this._uiHash());break}}return this._contactContainers(s),f.ui.ddmanager&&f.ui.ddmanager.drag(this,s),this._trigger("sort",s,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){var i,s;if(t)return f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,t),this.options.revert?(s=(i=this).placeholder.offset(),i.reverting=!0,f(this.helper).animate({left:s.left-this.offset.parent.left-i.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:s.top-this.offset.parent.top-i.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(t)})):this._clear(t,e),!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},f(t).each(function(){var t=(f(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(f(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,r=t.left,n=r+t.width,h=t.top,l=h+t.height,a=this.offset.click.top,c=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h<s+a&&s+a<l&&r<e+c&&e+c<n:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e=f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i=f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),t=e&&i,e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return!!t&&(this.floating?i&&"right"==i||"down"==e?2:1:e&&("down"==e?2:1))},_intersectsWithSides:function(t){var e=f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),t=this._getDragHorizontalDirection();return this.floating&&t?"right"==t&&i||"left"==t&&!i:s&&("down"==s&&e||"up"==s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e=[],i=[],s=this._connectWith();if(s&&t)for(var o=s.length-1;0<=o;o--)for(var r=f(s[o]),n=r.length-1;0<=n;n--){var h=f.data(r[n],"sortable");h&&h!=this&&!h.options.disabled&&i.push([f.isFunction(h.options.items)?h.options.items.call(h.element):f(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}i.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(o=i.length-1;0<=o;o--)i[o][0].each(function(){e.push(this)});return f(e)},_removeCurrentsFromItems:function(){for(var t=this.currentItem.find(":data(sortable-item)"),e=0;e<this.items.length;e++)for(var i=0;i<t.length;i++)t[i]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var e=this.items,i=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):f(this.options.items,this.element),this]],s=this._connectWith();if(s)for(var o=s.length-1;0<=o;o--)for(var r=f(s[o]),n=r.length-1;0<=n;n--){var h=f.data(r[n],"sortable");h&&h!=this&&!h.options.disabled&&(i.push([f.isFunction(h.options.items)?h.options.items.call(h.element[0],t,{item:this.currentItem}):f(h.options.items,h.element),h]),this.containers.push(h))}for(o=i.length-1;0<=o;o--)for(var l=i[o][1],a=i[o][0],n=0,c=a.length;n<c;n++){var p=f(a[n]);p.data("sortable-item",l),e.push({item:p,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var e=this.items.length-1;0<=e;e--){var i=this.items[e],s=this.options.toleranceElement?f(this.options.toleranceElement,i.item):i.item;t||(i.width=s.outerWidth(),i.height=s.outerHeight());var o=s.offset();i.left=o.left,i.top=o.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--){o=this.containers[e].element.offset();this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},_createPlaceholder:function(t){var i,s=t||this,o=s.options;o.placeholder&&o.placeholder.constructor!=String||(i=o.placeholder,o.placeholder={element:function(){var t=f(document.createElement(s.currentItem[0].nodeName)).addClass(i||s.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(t.style.visibility="hidden"),t},update:function(t,e){i&&!o.forcePlaceholderSize||(e.height()||e.height(s.currentItem.innerHeight()-parseInt(s.currentItem.css("paddingTop")||0,10)-parseInt(s.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(s.currentItem.innerWidth()-parseInt(s.currentItem.css("paddingLeft")||0,10)-parseInt(s.currentItem.css("paddingRight")||0,10)))}}),s.placeholder=f(o.placeholder.element.call(s.element,s.currentItem)),s.currentItem.after(s.placeholder),o.placeholder.update(s,s.placeholder)},_contactContainers:function(t){for(var e=null,i=null,s=this.containers.length-1;0<=s;s--)f.ui.contains(this.currentItem[0],this.containers[s].element[0])||(this._intersectsWith(this.containers[s].containerCache)?e&&f.ui.contains(this.containers[s].element[0],e.element[0])||(e=this.containers[s],i=s):this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",t,this._uiHash(this)),this.containers[s].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else if(this.currentContainer!=this.containers[i]){for(var o,r=1e4,n=null,h=this.positionAbs[this.containers[i].floating?"left":"top"],l=this.items.length-1;0<=l;l--)f.ui.contains(this.containers[i].element[0],this.items[l].item[0])&&(o=this.items[l][this.containers[i].floating?"left":"top"],Math.abs(o-h)<r&&(r=Math.abs(o-h),n=this.items[l]));(n||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[i],n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1)}},_createHelper:function(t){var e=this.options,t=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"==e.helper?this.currentItem.clone():this.currentItem;return t.parents("body").length||f("parent"!=e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),""!=t[0].style.width&&!e.forceHelperSize||t.width(this.currentItem.width()),""!=t[0].style.height&&!e.forceHelperSize||t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=f.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&f.browser.msie?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.options.helperProportions?this.helperProportions=this.options.helperProportions:this.helperProportions={width:this.helper.outerWidth()+(parseInt(this.helper.css("padding-left"))||0)+(parseInt(this.helper.css("padding-right"))||0)+(parseInt(this.helper.css("border-left-width"))||0)+(parseInt(this.helper.css("border-right-width"))||0)+(parseInt(this.helper.css("margin-left"))||0)+(parseInt(this.helper.css("margin-right"))||0),height:this.helper.outerHeight()+(parseInt(this.helper.css("padding-top"))||0)+(parseInt(this.helper.css("padding-bottom"))||0)+(parseInt(this.helper.css("border-top-width"))||0)+(parseInt(this.helper.css("border-bottom-width"))||0)+(parseInt(this.helper.css("margin-top"))||0)+(parseInt(this.helper.css("margin-bottom"))||0)}},_setContainment:function(){var t,e,i=this.options;"parent"==i.containment&&(i.containment=this.helper[0].parentNode),"document"!=i.containment&&"window"!=i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,f("document"==i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(f("document"==i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),"function"==typeof i.containment?this.containment=i.containment.apply(this):/^(document|window|parent)$/.test(i.containment)||(t=f(i.containment)[0],e=f(i.containment).offset(),i="hidden"!=f(t).css("overflow"),this.containment=[e.left+(parseInt(f(t).css("borderLeftWidth"),10)||0)+(parseInt(f(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(f(t).css("borderTopWidth"),10)||0)+(parseInt(f(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(f(t).css("borderLeftWidth"),10)||0)-(parseInt(f(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(f(t).css("borderTopWidth"),10)||0)-(parseInt(f(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),t=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(f.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():t?0:s.scrollTop())*i),left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(f.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():t?0:s.scrollLeft())*i)}},_generatePosition:function(t){var e=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),e.grid&&(t=this.originalPageY+Math.round((r-this.originalPageY)/e.grid[1])*e.grid[1],r=this.containment&&(t-this.offset.click.top<this.containment[1]||t-this.offset.click.top>this.containment[3])?t-this.offset.click.top<this.containment[1]?t+e.grid[1]:t-e.grid[1]:t,t=this.originalPageX+Math.round((o-this.originalPageX)/e.grid[0])*e.grid[0],o=this.containment&&(t-this.offset.click.left<this.containment[0]||t-this.offset.click.left>this.containment[2])?t-this.offset.click.left<this.containment[0]?t+e.grid[0]:t-e.grid[0]:t)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(f.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(f.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this,r=this.counter;window.setTimeout(function(){r==o.counter&&o.refreshPositions(!s)},0)},_clear:function(t,e){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var s in this._storedCSS)"auto"!=this._storedCSS[s]&&"static"!=this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),!f.ui.contains(this.element[0],this.currentItem[0])){e||i.push(function(t){this._trigger("remove",t,this._uiHash())});for(s=this.containers.length-1;0<=s;s--)f.ui.contains(this.containers[s].element[0],this.currentItem[0])&&!e&&(i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[s])),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[s])))}for(s=this.containers.length-1;0<=s;s--)e||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over=0);if(this._storedCursor&&f("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",t,this._uiHash());for(s=0;s<i.length;s++)i[s].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;s<i.length;s++)i[s].call(this,t);this._trigger("stop",t,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===f.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||f([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}}),f.extend(f.ui.sortable,{version:"1.8.11-greenhopper"}),f.fn.agileSortable=f.fn.sortable}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/jquery/jquery.ui.touch-punch.js' */
!function(t){var o,e,n;function u(o,t){var e,n;1<o.originalEvent.touches.length||(o.preventDefault(),e=o.originalEvent.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(n))}t.support.touch="ontouchend"in document,t.support.touch&&(o=t.ui.mouse.prototype,e=o._mouseInit,o._touchStart=function(o){!n&&this._mouseCapture(o.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,u(o,"mouseover"),u(o,"mousemove"),u(o,"mousedown"))},o._touchMove=function(o){n&&(this._touchMoved=!0,u(o,"mousemove"))},o._touchEnd=function(o){n&&(u(o,"mouseup"),u(o,"mouseout"),this._touchMoved||u(o,"click"),n=!1)},o._mouseInit=function(){var o=this;o.element.bind("touchstart",t.proxy(o,"_touchStart")).bind("touchmove",t.proxy(o,"_touchMove")).bind("touchend",t.proxy(o,"_touchEnd")),e.call(o)})}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/jquery/jquery.keygen.js' */
!function(e,m){e.KeyGenerator=function(){function l(e){return e.join("").length}var f=["THE","A","AN","AS","AND","OF","OR"],d={};return d[199]="C",d[231]="c",d[252]="u",d[251]="u",d[250]="u",d[249]="u",d[233]="e",d[234]="e",d[235]="e",d[232]="e",d[226]="a",d[228]="a",d[224]="a",d[229]="a",d[225]="a",d[239]="i",d[238]="i",d[236]="i",d[237]="i",d[196]="A",d[197]="A",d[201]="E",d[230]="ae",d[198]="Ae",d[244]="o",d[246]="o",d[242]="o",d[243]="o",d[220]="U",d[255]="Y",d[214]="O",d[241]="n",d[209]="N",{generateKey:function(e,t){var a="number"==typeof(t=m.extend({},t)).desiredKeyLength?t.desiredKeyLength:4,t="number"==typeof t.maxKeyLength?t.maxKeyLength:1/0;if(!(e=m.trim(e)))return"";for(var n=[],r=0,o=e.length;r<o;r++){var i=d[e.charCodeAt(r)];n.push(i||e[r])}e=n.join("");var u,c,h,g,s=[];return m.each(e.split(/\s+/),function(e,t){t&&(t=(t=t.replace(/[^a-zA-Z]/g,"")).toUpperCase()).length&&s.push(t)}),a&&l(s)>a&&(u=s,s=m.grep(u,function(e,t){return-1===m.inArray(e,f)})),h=0==s.length?"":1==s.length?(u=function(e){for(var t,a=!1,n=0;n<e.length;n++)if((t=e[n])&&1===t.length&&-1!==t.search("[AEIOUY]"))a=!0;else if(a)return e.substring(0,n+1);return e}(c=s[0]),t<c.length||Math.abs(c.length-a)>=Math.abs(u.length-a)?u:c):(c=l(s),h=s,g="",m.each(h,function(e,t){g+=t.charAt(0)}),h=g,t<c||Math.abs(c-a)>=Math.abs(h.length-a)?h:s.join("")),h=t&&h.length>t?h.substr(0,t):h}}};var c=e.KeyGenerator();m.fn.generateFrom=function(t,r){var e,o,a,n=m(this).first(),t=t.first(),r=m.extend({},{desiredKeyLength:4,maxKeyLength:10,maxNameLength:30,timeoutMS:100,validationCallback:function(){},errorCallback:function(){}},r);function i(){e(n.val()),a()}function u(e){!function(e,t){var a=m(e.target),n,n=function(){o(e);t();if(a.is(":visible"))a.data("checkHook",setTimeout(n,r.timeoutMS))};if(!a.data("checkHook"))a.data("checkHook",setTimeout(n,0))}(e,i)}return e=function(e){n.val()&&n.data("lastGeneratedValue")!==n.val()&&n.data("autosuggest",!1)},o=function(e){e=m(e.target);clearTimeout(e.data("checkHook")),e.removeData("checkHook")},a=function(){var e;!1!==n.data("autosuggest")&&(e=c.generateKey(t.val(),{desiredKeyLength:r.desiredKeyLength,maxKeyLength:r.maxKeyLength}),n.data("lastGeneratedValue",e),n.val(e))},t.attr("maxlength",r.maxNameLength),n.attr("maxlength",r.maxKeyLength),n.css("text-transform","uppercase"),document.activeElement&&document.activeElement===t[0]&&u({target:t[0]}),t.focus(u),t.blur(o),this}}(window,jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/lib/jquery/jquery.hoverIntent.js' */
!function(c){c.fn.ghHoverIntent=function(e,t,n){function o(e){var t=jQuery.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"==e.type?(u=t.pageX,i=t.pageY,c(n).on("mousemove.hoverIntent",h),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){I(t,n)},s.interval))):(c(n).off("mousemove.hoverIntent",h),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){a(t,n)},s.timeout)))}var r,v,u,i,s={interval:100,sensitivity:7,timeout:0},s="object"==typeof e?c.extend(s,e):c.isFunction(t)?c.extend(s,{over:e,out:t,selector:n}):c.extend(s,{over:e,out:e,selector:t}),h=function(e){r=e.pageX,v=e.pageY},I=function(e,t){if(t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.abs(u-r)+Math.abs(i-v)<s.sensitivity)return c(t).off("mousemove.hoverIntent",h),t.hoverIntent_s=1,s.over.apply(t,[e]);u=r,i=v,t.hoverIntent_t=setTimeout(function(){I(e,t)},s.interval)},a=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,s.out.apply(t,[e])};return this.on({"mouseenter.hoverIntent":o,"mouseleave.hoverIntent":o},s.selector)}}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ops/Collection.js' */
GH.Collection={},GH.Collection.Map=function(t){return this instanceof GH.Collection.Map?(this.clear(),_.forEach(t,function(t,e){this.put(e,t)},this),this):new GH.Collection.Map(t)},GH.Collection.Map.prototype.clear=function(){return this.length=0,this._valuesByKey={},this},GH.Collection.Map.prototype.forEach=function(t,e){return _.forEach(this._valuesByKey,t,e),this},GH.Collection.Map.prototype.get=function(t){return this._valuesByKey[t]},GH.Collection.Map.prototype.has=function(t){return _.has(this._valuesByKey,t)},GH.Collection.Map.prototype.keys=function(){return _.keys(this._valuesByKey)},GH.Collection.Map.prototype.put=function(t,e){return this.has(t)||this.length++,this._valuesByKey[t]=e,this},GH.Collection.Map.prototype.remove=function(t){return this.has(t)&&(delete this._valuesByKey[t],this.length--),this},GH.Collection.Map.prototype.replace=GH.Collection.Map,GH.Collection.Map.prototype.toPlainObject=function(){return _.extend({},this._valuesByKey)},GH.Collection.Map.prototype.values=function(){return _.values(this._valuesByKey)},GH.Collection.Set=function(){return this instanceof GH.Collection.Set?(this._map=new GH.Collection.Map,this.length=0,this.add.apply(this,arguments),this):GH.Collection.Set.apply(new GH.Collection.Set,arguments)},GH.Collection.Set.prototype.add=function(){var e=this._map;return _.forEach(arguments,function(t){e.put(t,!0)},this),this.length=e.length,this},GH.Collection.Set.prototype.clear=function(){return this.length=0,this._map.clear(),this},GH.Collection.Set.prototype.forEach=function(o,i){return this._map.forEach(function(t,e){return o.call(i,e)}),this},GH.Collection.Set.prototype.has=function(t){return this._map.has(t)},GH.Collection.Set.prototype.remove=function(){var e=this._map;return _.forEach(arguments,function(t){e.remove(t)},!0),this.length=e.length,this},GH.Collection.Set.prototype.replace=GH.Collection.Set,GH.Collection.Set.prototype.toArray=function(){return this._map.keys()},GH.Collection.OrderedSet=function(){return this instanceof GH.Collection.OrderedSet?(this.clear(),this.push.apply(this,arguments),this):GH.Collection.OrderedSet.apply(new GH.Collection.OrderedSet,arguments)},GH.Collection.OrderedSet.prototype.clear=function(){return this.length=0,this._values=[],this._positionByValue=new GH.Collection.Map,this},GH.Collection.OrderedSet.prototype.push=function(){var e=this._positionByValue,o=this._values;return _.forEach(arguments,function(t){e.has(t)||(e.put(t,o.length),o.push(t))},this),this._values=o,this.length=o.length,this},GH.Collection.OrderedSet.prototype.first=function(){return this.get(0)},GH.Collection.OrderedSet.prototype.forEach=function(t,e){return _.forEach(this._values,t,e),this},GH.Collection.OrderedSet.prototype.get=function(t){return this._values[t]},GH.Collection.OrderedSet.prototype.has=function(t){return this._positionByValue.has(t)},GH.Collection.OrderedSet.prototype.indexOf=function(t){t=this._positionByValue.get(t);return _.isUndefined(t)?-1:t},GH.Collection.OrderedSet.prototype.last=function(){return this.get(this.length-1)},GH.Collection.OrderedSet.prototype.pop=function(){var t=this._values.pop();return this._positionByValue.remove(t),this.length=this._values.length,t},GH.Collection.OrderedSet.prototype.remove=function(){var e=this._values;return _.forEach(arguments,function(t){t=_.indexOf(e,t);-1!==t&&(e=e.slice(0,t).concat(e.slice(t+1)))}),this.replace.apply(this,e),this},GH.Collection.OrderedSet.prototype.replace=GH.Collection.OrderedSet,GH.Collection.OrderedSet.prototype.shift=function(){var t=this._values,e=t.shift();return this.replace.apply(this,t),e},GH.Collection.OrderedSet.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},GH.Collection.OrderedSet.prototype.unshift=function(){var e=this._positionByValue,o=this._values;return _.forEach(arguments,function(t){e.has(t)||o.unshift(t)},this),this.replace.apply(this,o),this},GH.Collection.OrderedMap=function(t){return this instanceof GH.Collection.OrderedMap?(this.clear(),_.forEach(t,function(t,e){this.put(e,t)},this),this):new GH.Collection.OrderedMap(t)},GH.Collection.OrderedMap.prototype.clear=function(){return this.length=0,this._keys=[],this._values=[],this._indexByKey=new GH.Collection.Map,this._valueByKey=new GH.Collection.Map,this},GH.Collection.OrderedMap.prototype.forEach=function(t,e){for(var o=this._keys,i=this._values,n=0,r=o.length;n<r;n++)t.call(e,i[n],o[n],n);return this},GH.Collection.OrderedMap.prototype.get=function(t){return this._valueByKey.get(t)},GH.Collection.OrderedMap.prototype.getByIndex=function(t){return this._values[t]},GH.Collection.OrderedMap.prototype.getKeyByIndex=function(t){return this._keys[t]},GH.Collection.OrderedMap.prototype.has=function(t){return this._indexByKey.has(t)},GH.Collection.OrderedMap.prototype.indexOf=function(t){return this._indexByKey.indexOf(t)},GH.Collection.OrderedMap.prototype.keys=function(){return this._keys.slice(0)},GH.Collection.OrderedMap.prototype.put=function(t,e){return this.has(t)||(this._indexByKey.put(t,this.length),this._valueByKey.put(t,e),this._keys.push(t),this._values.push(e),this.length++),this},GH.Collection.OrderedMap.prototype.remove=function(t){var e=this._indexByKey.get(t);return-1!==e&&(this._indexByKey.remove(t),this._valueByKey.remove(t),t=this._keys,this._keys=t.slice(0,e).concat(t.slice(e+1)),t=this._values,this._values=t.slice(0,e).concat(t.slice(e+1)),this.length--),this},GH.Collection.OrderedMap.prototype.replace=GH.Collection.OrderedMap,GH.Collection.OrderedMap.prototype.toPlainObject=function(){return this._valueByKey.toPlainObject()},GH.Collection.OrderedMap.prototype.values=function(){return this._values.slice(0)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/Animation.js' */
GH.RapidBoard.Animation=function(i){var t=200,n="js-animation-inprogress";function c(o,r,e){return o.addClass(n).animate(r,e||t).promise().done(function(){o.removeClass(n)})}return{DEFAULT_DURATION:t,LONG_DURATION:500,animateHeight:function(o,r,e,t){var n=i(o);return n.css({height:r}),c(n,{height:e},t).done(function(){n.css({height:""})})},animateHeightToAuto:function(o,r){var e=i(o),t=e.height();return e.css("height","auto"),o=e.height(),e.css("height",t),c(e,{height:o},r).done(function(){e.css("height","auto")})},animateHeightToZero:function(o,r){return c(i(o),{height:0},r)},fadeElement:function(o,r,e){var t=i(o),o=r||"#fff",e=e||"#d6d6d6",r="#ccd9ea";t.addClass(n),t.stop().animate({"background-color":"#ebf2f9","border-top-color":r,"border-left-color":r,"border-right-color":r,"border-bottom-color":r},250).delay(1200).animate({"background-color":o,"border-top-color":e,"border-left-color":e,"border-right-color":e,"border-bottom-color":e},500).promise().done(function(){t.css({"background-color":"","border-top-color":"","border-left-color":"","border-right-color":"","border-bottom-color":""}),t.removeClass(n)})}}}(AJS.$);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/RapidBoard.js' */
GH.RapidBoard.API_EVENT_CAUSE_BOARD_RELOAD="GH.RapidBoard.causeBoardReload",GH.RapidBoard.Analytics={},GH.RapidBoard.projectKey=void 0,GH.RapidBoard.projectId=void 0,GH.RapidBoard.deferBatchParsed=!1,GH.RapidBoard.nodeList=document.querySelectorAll("script[src*='batch.js'"),function(){var a=require("jira-agile/rapid/analytics-tracker");GH.RapidBoard.Analytics.toolsMenu=new a("gh.rapidboard.toolsmenu")}(),GH.RapidBoard.navigateToUrl=function(a){require("jira/container-api").navigate(a,function(){location.href=a})},GH.RapidBoard.gotoRapidBoardPage=function(a,e){GH.RapidBoard.navigateToUrl(GH.RapidBoard.getRapidBoardPageUrl(a,e))},GH.RapidBoard.getRapidBoardPageUrl=function(a,e){e=_.isUndefined(e)?"&useStoredSettings=true":"&view="+e;return GH.Navigation.getCanonicRapidBoardPageUrl(a)+e},GH.RapidBoard.gotoRapidViewConfiguration=function(a,e){GH.RapidBoard.navigateToUrl(GH.RapidBoard.getRapidViewConfigurationUrl(a,e))},GH.RapidBoard.getRapidViewConfigurationUrl=function(a,e){a=GH.Ajax.CONTEXT_PATH+"/secure/RapidView.jspa?rapidView="+a;return a=e?a+"&config="+e:a},GH.RapidBoard.copyRapidViewAndGotoConfiguration=function(a,r){GH.RapidBoard.Analytics.toolsMenu.trigger("copy"),GH.Ajax.put({url:"/rapidview/"+a+"/copy"}).done(function(a){var e=AJS.format("Successfully copied board \u003cstrong\u003e{0}\u003c/strong\u003e to \u003cstrong\u003e{1}\u003c/strong\u003e.",AJS.escapeHTML(String(r)),AJS.escapeHTML(String(a.success.name)));GH.Notification.addPageLoadMessage(e),GH.RapidBoard.gotoRapidViewConfiguration(a.success.id)})},GH.RapidBoard.printCardsInRapidBoard=function(){var a=require("jira-agile/rapid/ui/print/card-printing-controller");GH.RapidBoard.State.isPlanMode()?a.printBoardPlanView(GH.RapidBoard.ViewController.collectPrintablePlanIssues()):GH.RapidBoard.State.isWorkMode()&&a.printBoardWorkView(GH.RapidBoard.ViewController.collectPrintableWorkIssues())},GH.RapidBoard.getManageViewsPageUrl=function(){return GH.Ajax.CONTEXT_PATH+"/jira/boards"},GH.RapidBoard.gotoManageViewsPage=function(a){GH.RapidBoard.navigateToUrl(GH.RapidBoard.getManageViewsPageUrl()+(a||""))},GH.RapidBoard.getCurrentPageReturnUrl=function(){var a=GH.RapidBoard.UrlState.getViewStateRequestParameterString();return encodeURIComponent("/secure/RapidBoard.jspa?"+a)},GH.RapidBoard.reload=function(){var r=GH.RapidBoard.State.getRapidViewIdWithInfo();return new Promise(function(e){GH.RapidViewConfig.fetchConfiguration(r).done(function(a){return GH.RapidBoard.setNewViewData(a),r.viewId?GH.RapidBoard.ViewController.preload(r.viewId).then(e):e(!0)})})},GH.RapidBoard.setNewViewData=function(a){GH.RapidBoard.State.setRapidViewId(a.id),GH.RapidBoard.BoardHeader.update(a),GH.ViewActions.initViewActions(a),GH.ViewActions.on("boardToolsRendered",function(){var a=GH.RapidBoard.State.getMode(),e=a||"board";AJS.$("#board-tools-section-content .js-view-action-configure").bind("click",function(){AJS.trigger("analyticsEvent",{name:"jira-software."+e+".boardmenu.click.configure-board"})})}),GH.RapidBoard.ViewController.update(a)},GH.RapidBoard.initListeners=function(a){require("jira/featureflags/feature-manager");var e=require("jira-agile/rapid/deferred-resources-loader");require("jira-agile/rapid/const/PageMode");GH.RapidBoard.projectKey=AJS.$('meta[name="ghx-project-key"]').attr("content"),GH.RapidBoard.projectId=AJS.$('meta[name="ghx-project-id"]').attr("content"),GH.Layout.init(),e.handleDeferredResourceImport(!GH.Dialog||!GH.Dialog.registerDialog,function(){GH.Dialog.CreateView.init()}),GH.RapidBoard.BoardHeader.init(),GH.RapidBoard.ViewController.init(a),e.handleDeferredResourceImport(!GH.RapidBoard.QuickCreate||!GH.RapidBoard.QuickCreate,function(){GH.RapidBoard.QuickCreate.init()}),e.handleDeferredResourceImport(!GH.RapidBoard.QuickEdit||!GH.RapidBoard.QuickEdit,function(){GH.RapidBoard.QuickEdit.init()}),GH.RapidBoard.performanceMarkScriptEvalEnd(),JIRA.bind(GH.RapidBoard.API_EVENT_CAUSE_BOARD_RELOAD,GH.RapidBoard.reload)},GH.RapidBoard.dropDeferBatchingInitialEventForSPA=function(){AJS.$(GH).trigger("deferBatchingDownloadInitiate")},GH.RapidBoard.performanceMarkScriptEvalEnd=function(){var e=this,a=GH.RapidBoard.nodeList;Array.from(a).filter(function(a){a=a.attributes.src;return a&&a.value&&-1!=a.value.indexOf("greenhopper-rapid-non-gadget")}).forEach(function(a){return a.addEventListener("load",GH.RapidBoard.addEndMark.call(e,a))})},GH.RapidBoard.getDeferredFragmentContext=function(){var a=GH.RapidBoard.nodeList,e="";Array.from(a).filter(function(a){a=a.attributes.src;a&&a.value&&-1!=a.value.indexOf("gh-rapid-lwf-board")?e="gh-rapid-lwf-board-deferred":a&&a.value&&-1!=a.value.indexOf("gh-rapid-backlog")&&(e="gh-rapid-backlog-deferred")});return e},GH.RapidBoard.addEndMark=function(a){a.removeEventListener("load",GH.RapidBoard.addEndMark);try{window.performance.mark(GH.RapidBoard.extractContextsFromUrl(a.attributes.src.value)+"_batch_file_eval:end")}catch(a){}},GH.RapidBoard.extractContextsFromUrl=function(a){return a.substring(a.lastIndexOf("js/")+"js/".length,a.lastIndexOf("/batch.js"))},GH.RapidBoard.init=function(){window.performance.mark("rapidboard_js_code_execution_start");var a=require("jira-agile/rapid/const/PageMode");if(!AJS.$("body.ghx-print-card-body").length){GH.RapidBoard.State.setNewIssueViewEnabled(0<AJS.$("#ghx-issue-fragment").length),GH.RapidBoard.AnalyticsClient=require("jira/analytics/web-client"),require("jira-agile/rapid/global-events").trigger("pre-initialization");var e=GH.RapidBoard.UrlState.getCurrentUrlState();AJS.$("#gh").html(GH.tpl.board.x.renderRapidBoard({isWorkMode:GH.RapidBoard.State.getMode()===a.WORK&&!e.config})),AJS.$("body").addClass("ghx-scroll-columns"),AJS.$.support.touch&&AJS.$("#gh").removeClass("ghx-no-touch").addClass("ghx-touch"),AJS.$(GH).bind("ghx.rapidview.deleted",function(a,e){GH.Notification.addPageLoadMessage(e.message),GH.RapidBoard.gotoManageViewsPage()});var r=parseInt(e.rapidView);(_.isUndefined(r)||_.isNaN(r))&&(r=GH.RapidBoard.State.getRapidViewId());e=require("jira/container-api");return e.onParentDidMount(function(){window.setTimeout(function(){GH.Layout.updateWindowSize()&&GH.Layout.fireDelayedWindowResize()},100)}),e.onParentRequestRefresh(function(a){(a.force?window.location:GH.RapidBoard).reload()}),e.init(),new Promise(function(t){return GH.RapidViewConfig.fetchConfiguration(r).done(function(a){GH.spa&&(GH.spa.historyAdapter=GH.spa.historyAdapter||{bind:function(a,e,r){jQuery(a).bind(e,r)}}),GH.RapidBoard.initListeners(a),GH.RapidBoard.State.initializeState();require("jira/featureflags/feature-manager");var e,r=require("jira-agile/rapid/deferred-resources-loader"),i=require("jira-agile/rapid/const/PageMode");GH.RapidBoard.State.getMode()===i.WORK||GH.RapidBoard.State.getMode()===i.PLAN?(e=GH.RapidBoard.getDeferredFragmentContext(),_.isEmpty(e)||(e=[].concat(["wrc!jira.global","wrc!jira.general","wrc!atl.global","wrc!com.atlassian.jira.jira-atlaskit-plugin:overrides-aui-toggle","wrc!com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources","wrc!com.atlassian.jira.jira-atlaskit-plugin:profilecard","wrc!com.atlassian.jira.jira-atlaskit-plugin:async-modals","wrc!com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts"],["wrc!"+e]),r.deferJSLoad(e)),GH.RapidBoard.dropDeferBatchingInitialEventForSPA()):GH.RapidBoard.State.getMode()===i.WORK&&(r.deferJSLoad(["wrc!gh-rapid-lwf-board-deferred"]),GH.RapidBoard.dropDeferBatchingInitialEventForSPA()),AJS.$(GH).bind("deferBatchParsingFailed",function(){}),GH.RapidBoard.reload(),r.handleDeferredResourceImport(!GH.Poller,function(){GH.Poller.init()}),GH.RapidBoard.fireShowBoardAnalytics(a),t()})})}},GH.RapidBoard.refreshBoardData=function(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=(require("jira/featureflags/feature-manager"),parseInt(GH.RapidBoard.UrlState.getCurrentUrlState().rapidView));return GH.WorkDataLoader.markDirty(),a||GH.WorkDataLoader.clearEtag(),GH.RapidViewConfig.fetchConfiguration(e,!0).then(function(a){return a.isSimpleBoard&&location.reload(),GH.RapidBoard.fireShowBoardAnalytics(a),GH.RapidBoard.UrlState.loadState(),GH.RapidBoard.setNewViewData(a),Promise.all([GH.RapidBoard.ViewController.preload(e),GH.RapidBoard.ViewController.sidebarController.updateSidebar(e)])})},GH.RapidBoard.loadNewBoard=function(a){return GH.RapidBoard.State.setRapidViewId(a),GH.RapidBoard.State.pushState(),GH.RapidBoard.refreshBoardData()},GH.RapidBoard.viewModelComparator=function(a,e){return"string"!=typeof a.name?-1:"string"!=typeof e.name?1:a.name.toLowerCase()<e.name.toLowerCase()?-1:a.name.toLowerCase()>e.name.toLowerCase()?1:0},GH.RapidBoard.fireShowBoardAnalytics=function(a){_.isUndefined(a)||(AJS.trigger("analytics",{name:"gh.rapidboard.show"}),AJS.trigger("analytics",{name:"gh.rapidboard.show."+(a.sprintSupportEnabled?"scrum":"kanban"),data:{boardId:a.id,kanbanBacklogEnabled:!!a.kanPlanEnabled,locationType:a.locationType}}),_.isEmpty(GH.RapidBoard.projectKey)||JIRA.SmartAjax.makeRequest({type:"GET",contentType:"application/json",url:GH.Ajax.CONTEXT_PATH+"/rest/api/2/project/"+GH.RapidBoard.projectKey,success:function(a){"projectTypeKey"in a&&"software"!==a.projectTypeKey&&AJS.trigger("analytics",{name:"gh.rapidboard.show.global",data:{projectType:a.projectTypeKey}})}}))},GH.RapidBoard.sendIssueUpdatedTrackEvent=function(r,i){require("jira/featureflags/feature-manager");var a=require("jira-agile/rapid/deferred-resources-loader"),t=require("jira-agile/rapid/const/DevInfoType"),o=require("jira-agile/rapid/ui/work/dev-info-cache-service");a.handleDeferredResourceImport(!GH.WorkController,function(){var a=GH.WorkController.rapidViewData,e=GH.RapidBoard.State.getBoardTypeForAnalytics(),a={source:GH.RapidBoard.State.isPlanMode()?"backlogScreen":"boardScreen",actionSubject:"issue",action:"updated",actionSubjectId:r.id,containerType:"project",containerId:r.projectId,objectType:"issue",objectId:r.id,attributes:{issueTypeId:r.typeId,projectType:"software",boardId:a.id,boardType:e,updatedItems:i,devInfoActivityState:(a=(a=o.getData(a.id))&&a.devInfoActivityForIssues&&a.devInfoActivityForIssues[r.id.toString()])&&a.devInfoActivityState&&t[a.devInfoActivityState]}};GH.RapidBoard.AnalyticsClient.sendTrackEvent(a)})},GH.RapidBoard.updateMultilineQuickFilterToggledState=function(){var a=GH.RapidBoard.State.getRapidViewId(),e=GH.RapidBoard.State.getMode(),e=a&&e?"__storejs_quickfilters_"+a+"_"+e:null;!e||null!==(e=GH.storage.get(e))&&e!==GH.bridge.FilterBridge.isMultilineQuickFilterActive()&&GH.bridge.FilterBridge.toggleMultilineQuickFilterTrigger()},GH.RapidBoard.isIssueVisibleInRapidView=function(r,a,i){var e=require("jquery");return GH.Ajax.get({url:"/xboard/issue/matchesIssues",data:{rapidViewId:i,issueIdsOrKeys:r,mode:a}}).andThen(function(a){var e=a.issueIdsOrKeys&&a.issueIdsOrKeys.length===r.length;return GH.RapidBoard.State.setRapidViewIdForEventuallyConsistentBoard(a.eventualSearchPreferred?i:void 0),e},function(){return e.Deferred().resolve(!1)})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/dialog/InlineDialog.js' */
define("jira-agile/dialog/inline",["_","aui/inline-dialog"],function(l,r){return{create:function(i,n,e,l){return l=l||{},GH.InlineDialog.remove(i),l=GH.InlineDialog._addBlurTriggerOverride(l,n),r(AJS.$(n),i,e,l)},remove:function(i){AJS.$("#inline-dialog-"+i).remove()},registerInlineDialogHacks:function(l,i){var r=i&&i.disregardClickSelectors||[],a=i&&i.validateClickToCloseFn||!1;AJS.$(document).bind("showLayer",function(i,n,e){"inlineDialog"===n&&e.id===l&&(e._validateClickToClose=function(i){for(var n=this.id,e=0;e<r.length;e++){var l=AJS.$(i.target);if(0<l.parents(r[e]).length)return!1;if(l.is(r[e]))return!1}return!(0<AJS.$(i.target).parents("#inline-dialog-"+n).length)&&!(a&&!a(i))},AJS.$("body").unbind("click."+e.id+".inline-dialog-check"))})},preventCloseOnClick:function(i){AJS.$(document).on("click","#inline-dialog-"+i,function(i){i.stopPropagation()})},_addBlurTriggerOverride:function(i,n){var e=i.upfrontCallback;return l.defaults({upfrontCallback:function(){AJS.$(n).blur(),l.isFunction(e)&&e.apply(this,arguments)}},i)}}}),AJS.namespace("GH.InlineDialog",null,require("jira-agile/dialog/inline"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/dialog/SideInlineDialog.js' */
define("jira-agile/dialog/side-inline",["jira-agile/dialog/inline","_"],function(l,r){return{create:function(e,i,n,a){return r.defaults(a=a||{},{gravity:"w",offsetX:15,offsetY:0}),l.create(e,i,n,a)}}}),AJS.namespace("GH.SideInlineDialog",null,require("jira-agile/dialog/side-inline"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/dialog/CreateView.soy' */
// This file was automatically generated from CreateView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.createviewdialog.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.createviewdialog == 'undefined') { GH.tpl.createviewdialog = {}; }


GH.tpl.createviewdialog.renderDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-tabs horizontal-tabs"><ul class="tabs-menu"><li class="menu-item active-tab"><a href="#ghx-create-presets"><strong>' + soy.$$escapeHtml('Presets') + '</strong></a></li><li class="menu-item"><a href="#ghx-create-advanced"><strong>' + soy.$$escapeHtml('Advanced') + '</strong></a></li></ul><div class="tabs-pane active-pane" id="ghx-create-presets">' + GH.tpl.createviewdialog.renderPresets(null) + '</div><div class="tabs-pane" id="ghx-create-advanced">' + GH.tpl.createviewdialog.renderAdvanced(opt_data) + '</div></div>';
};
if (goog.DEBUG) {
  GH.tpl.createviewdialog.renderDialog.soyTemplateName = 'GH.tpl.createviewdialog.renderDialog';
}


GH.tpl.createviewdialog.renderPresets = function(opt_data, opt_ignored) {
  return '<div class="ghx-options">' + GH.tpl.createviewdialog.renderScrum(null) + GH.tpl.createviewdialog.renderKanban(null) + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.createviewdialog.renderPresets.soyTemplateName = 'GH.tpl.createviewdialog.renderPresets';
}


GH.tpl.createviewdialog.renderScrum = function(opt_data, opt_ignored) {
  return '<div class="ghx-module ghx-scrum"><h2>' + soy.$$escapeHtml('Scrum') + '</h2><p class="ghx-module-description">' + soy.$$escapeHtml('Scrum is a method of development where the focus is on planning, committing and delivering time-boxed chunks of work called Sprints.') + '</p><p>' + soy.$$escapeHtml('Presets are:') + '</p><ul><li>' + soy.$$escapeHtml('Story swimlanes') + '</li><li>' + soy.$$escapeHtml('Story Points as estimation statistic') + '</li><li>' + soy.$$escapeHtml('Two-week iterations (starting today)') + '</li><li>' + soy.$$escapeHtml('Standard Quick Filters') + '</li><li>' + soy.$$escapeHtml('Issues ordered by Rank') + '</li><li>' + soy.$$escapeHtml('Columns: To Do, In Progress, Done') + '</li></ul><p>' + soy.$$escapeHtml('These settings can be changed later.') + '</p><button class="aui-button">' + soy.$$escapeHtml('Select Scrum') + '</button></div>';
};
if (goog.DEBUG) {
  GH.tpl.createviewdialog.renderScrum.soyTemplateName = 'GH.tpl.createviewdialog.renderScrum';
}


GH.tpl.createviewdialog.renderKanban = function(opt_data, opt_ignored) {
  return '<div class="ghx-module ghx-kanban"><h2>' + soy.$$escapeHtml('Kanban') + '</h2><p class="ghx-module-description">' + soy.$$escapeHtml('Kanban is a method of development where the focus is on visualising your workflow and limiting work-in-progress. This assists you in making incremental improvements to your existing process.') + '</p><p>' + soy.$$escapeHtml('Presets are:') + '</p><ul><li>' + soy.$$escapeHtml('Expedite swimlane') + '</li><li>' + soy.$$escapeHtml('Issue Count as column statistic') + '</li><li>' + soy.$$escapeHtml('Days in column indicator') + '</li><li>' + soy.$$escapeHtml('Standard Quick Filters') + '</li><li>' + soy.$$escapeHtml('Issues ordered by Rank') + '</li><li>' + soy.$$escapeHtml('Columns: To Do, In Progress, Done') + '</li></ul><p>' + soy.$$escapeHtml('These settings can be changed later.') + '</p><button class="aui-button">' + soy.$$escapeHtml('Select Kanban') + '</button></div>';
};
if (goog.DEBUG) {
  GH.tpl.createviewdialog.renderKanban.soyTemplateName = 'GH.tpl.createviewdialog.renderKanban';
}


GH.tpl.createviewdialog.renderAdvanced = function(opt_data, opt_ignored) {
  return '<form action="#" method="post" class="aui"><p>' + soy.$$escapeHtml('Advanced allows the creation of a Kanban board using an existing Jira Saved Filter') + '</p><div class="field-group"><label for="ghx-view-name">' + soy.$$escapeHtml('Board name') + '<span class="aui-icon icon-required"></span></label><input class="text" type="text" id="ghx-view-name" name="name"></div><h3>' + soy.$$escapeHtml('Jira Filter') + '</h3><fieldset><div class="field-group" id="ghx-filter-picker"><label for="ghx-create-filter-select">' + soy.$$escapeHtml('Saved filter') + '</label>' + ((opt_data.canSeeSavedFilters) ? '<select id="ghx-create-filter-select" class="hidden"></select><div id="ghx-filter-error"></div>' : '<span class="field-value">' + soy.$$escapeHtml('There are no saved filters.') + ' <a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/secure/IssueNavigator.jspa?mode=show&amp;createNew=true">' + soy.$$escapeHtml('Create a filter now.') + '</a></span>') + '</div><div id="ghx-create-permissioninfo-container"></div></fieldset><fieldset><div class="field-group"><button id="ghx-create-advanced-submit" class="aui-button ' + ((! opt_data.canSeeSavedFilters) ? 'js-disabled' : '') + '"' + ((! opt_data.canSeeSavedFilters) ? ' disabled="disabled"' : '') + '>' + soy.$$escapeHtml('Create') + '</button></div></fieldset></form>';
};
if (goog.DEBUG) {
  GH.tpl.createviewdialog.renderAdvanced.soyTemplateName = 'GH.tpl.createviewdialog.renderAdvanced';
}


GH.tpl.createviewdialog.renderCreateNewView = function(opt_data, opt_ignored) {
  return '<div class="ghx-module"><form class="aui"><fieldset><div class="field-group"><label for="name">' + soy.$$escapeHtml('Board Name') + '<span class="aui-icon icon-required"></span></label><input class="text" type="text" id="ghx-dialog-create-view-viewname"></div><div class="field-group"><label for="projects">' + soy.$$escapeHtml('Projects') + '<span class="aui-icon icon-required"></span></label><select id="ghx-dialog-create-view-viewprojects" multiple="multiple" class="hidden"></select><div class="description">' + soy.$$escapeHtml('Select the projects to be included in this board.') + '</div></div></fieldset></form></div>';
};
if (goog.DEBUG) {
  GH.tpl.createviewdialog.renderCreateNewView.soyTemplateName = 'GH.tpl.createviewdialog.renderCreateNewView';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/dialog/CreateView.js' */
!function(){"use strict";var t=require("aui/tabs"),e=require("jquery"),a=require("jira/container-api");GH.Dialog.CreateView={};var i=require("jira-agile/rapid/analytics-tracker");GH.Dialog.CreateView.analytics=new i("gh.create.view"),GH.Dialog.CreateView.init=function(){e(document).on("click",".js-view-action-create",function(){a.APIs.getNavigationAPI().then(function(e){return e.createBoard()})}),GH.Dialog.registerDialog(".js-view-action-create-scrum",GH.Dialog.CreateView.openCreateScrum),GH.Dialog.registerDialog(".js-view-action-create-kanban",GH.Dialog.CreateView.openCreateKanban)},GH.Dialog.CreateView.openCreateScrum=function(){GH.Dialog.CreateView.openPresetDialog("scrum")},GH.Dialog.CreateView.openCreateKanban=function(){GH.Dialog.CreateView.openPresetDialog("kanban")},GH.Dialog.CreateView.open=function(){GH.Ajax.get({url:"/rapidview/createmodel"},"createView").done(GH.Dialog.CreateView.openWizard)},GH.Dialog.CreateView.openWizard=function(e){var a=GH.Dialog.create({width:600,height:600,id:"ghx-dialog-create-view",onCancelFn:function(e){GH.Dialog.CreateView.analytics.trigger("cancel",e.curpage.toString())}});GH.Dialog.CreateView.analytics.trigger("start"),GH.Dialog.CreateView.renderSelectPresetPage(a,e),a.addPage(),GH.Dialog.CreateView.renderSelectNameAndProjectsPage(a,!0),a.gotoPage(0),a.gotoPanel(0),a.show(),GH.Notification.Handler.setCustomNotificationHandler(GH.Dialog.prepareNotificationDiv),AJS.$(a.getCurrentPanel().body).trigger("contentRefresh")},GH.Dialog.CreateView.openPresetDialog=function(e){var a=GH.Dialog.create({width:600,height:600,id:"ghx-dialog-create-view",onCancelFn:function(e){GH.Dialog.CreateView.analytics.trigger("cancel",e.curpage.toString())}});a.selectedPreset=e,GH.Dialog.CreateView.analytics.trigger("start",e),GH.Dialog.CreateView.renderSelectNameAndProjectsPage(a,!1),a.gotoPage(0),a.gotoPanel(0),a.show(),a.updateHeight(),GH.Notification.Handler.setCustomNotificationHandler(GH.Dialog.prepareNotificationDiv),AJS.$("#"+a.id).find("input:visible:first").focus()},GH.Dialog.CreateView.renderSelectPresetPage=function(t,e){var a=require("jira/ajs/select/single-select");t.addHeader("Create Board"),AJS.$("#"+t.id).addClass("ghx-dialog-create-view");var i=AJS.$(GH.tpl.createviewdialog.renderDialog({canSeeSavedFilters:e.canSeeSavedFilters}));t.addPanel("Select a Preset",i,"ghx-dialog-create-view-page"),GH.Dialog.CreateView.setupTabs(t.id),GH.Dialog.addCancelButton(t);var r=AJS.$("#"+t.id).find(".ghx-kanban button"),e=AJS.$("#"+t.id).find(".ghx-scrum button");function n(){t.nextPage(),t.updateHeight(),AJS.$("#"+t.id).find("input:visible:first").focus(),GH.Dialog.CreateView.prepareNotificationDiv=function(){var e=AJS.$(t.getCurrentPanel().body),a=AJS.$("<div/>");return a.addClass("dialog-panel-body").prependTo(e),t.updateHeight(),a},GH.Notification.Handler.setCustomNotificationHandler(GH.Dialog.CreateView.prepareNotificationDiv)}r.click(function(){t.selectedPreset="kanban",n()}),e.click(function(){t.selectedPreset="scrum",n()}),i.find("form").submit(function(){return GH.Dialog.CreateView.submitAdvanced(),!1});i=AJS.$("#ghx-create-filter-select");0<i.size()&&(new a({element:i,width:300,removeOnUnSelect:!0,overlabel:"Start typing for Filters",itemAttrDisplayed:"label",errorMessage:"",ajaxOptions:{query:!0,url:GH.Ajax.buildRestUrl("/savedfilter/list.json"),formatResponse:function(e){if(e.errors){var a=GH.Ajax._convertJiraErrors(e.errors);return GH.Ajax.handleContextualErrors(a,{searchName:"#ghx-create-filter-select"}),!1}AJS.$("#ghx-create-filter-select").siblings(".ghx-error").remove();var t=[];return AJS.$(e.filters).each(function(){t.push(new AJS.ItemDescriptor({value:this.id.toString(),label:this.name,html:AJS.escapeHTML(String(this.name)),savedFilter:this}))}),t}}}),i.bind("selected",function(e,a){GH.Dialog.CreateView.updatePermissionInfo(a.properties.savedFilter)}),i.bind("unselect",function(e){GH.Dialog.CreateView.updatePermissionInfo(null)})),AJS.$("#ghx-create-advanced-submit").click(function(e){return t.disableControls(),GH.Dialog.CreateView.submitAdvanced(t),!1})},GH.Dialog.CreateView.renderSelectNameAndProjectsPage=function(a,e){var t=AJS.$("#"+a.id),i="Create Board";"scrum"===a.selectedPreset?i="Create Scrum Board":"kanban"===a.selectedPreset&&(i="Create Kanban Board"),a.addHeader(i),t.addClass("ghx-dialog");var r=AJS.$(GH.tpl.createviewdialog.renderCreateNewView());a.addPanel(i,r,"ghx-dialog-create-view-page"),e&&a.addButton("Back",function(e){e.prevPage(),e.updateHeight()},"aui-button");function n(){var e=AJS.$("#"+a.id).find(".ghx-next");s()?e.attr("disabled","disabled").addClass("js-disabled"):e.removeAttr("disabled").removeClass("js-disabled")}function o(e){return s()?(AJS.$("#"+e.id).find(".ghx-next").attr("disabled","disabled").addClass("js-disabled"),!1):GH.Dialog.CreateView.submitPresets(e)}var l=t.find("#ghx-dialog-create-view-viewname"),d=new GH.BoardLocationPicker({selector:"#ghx-dialog-create-view-viewprojects",projectsOnly:!0,change:n,currentProjectId:JIRA.API&&JIRA.API.Projects?JIRA.API.Projects.getCurrentProjectId():null}),s=function(){return!l.val()||!d.hasValue()||d.hasErrors()};a.addButton("Create",o,"ghx-next aui-button"),r.find("form").submit(function(){return o(a),!1}),GH.Dialog.addCancelButton(a),t.find(".ghx-next").attr("disabled","disabled").addClass("js-disabled"),l.keyup(n)},GH.Dialog.CreateView.setupTabs=function(e){t.setup();var a=GH.Dialog.CreateView.State.getPreferredTab();a&&t.change(AJS.$("a[href="+a+"]")),AJS.$("#"+e+" .menu-item").click(function(){var e=AJS.$(this);GH.Dialog.CreateView.State.setPreferredTab(e.find("a:first").attr("href"))})},GH.Dialog.CreateView.submitPresets=function(e){AJS.$(e.getCurrentPanel().body).find(".ghx-error").remove();var a=e.selectedPreset,e={name:AJS.$("#ghx-dialog-create-view-viewname").val(),projectIds:AJS.$("#ghx-dialog-create-view-viewprojects").val(),preset:a};GH.Ajax.post({url:"/rapidview/create/presets",data:e,errorContextMap:{name:"#ghx-dialog-create-view-viewname",projectIds:"#ghx-dialog-create-view-viewprojects",preset:a}}).done(function(e){"scrum"===a?GH.Dialog.CreateView.handleCreateResult(e,function(e){return GH.RapidBoard.gotoRapidBoardPage(e,"planning")},"preset",a):GH.Dialog.CreateView.handleCreateResult(e,GH.RapidBoard.gotoRapidBoardPage,"preset",a)})},GH.Dialog.CreateView.submitAdvanced=function(e){var a=AJS.$("#ghx-view-name"),t=a.val(),i=AJS.$("#ghx-create-filter-select");GH.Validation.notBlank(a,"Name is a required field")&&GH.Validation.notBlank(i,"A saved filter is required","#ghx-filter-error")?(i=i.val()||[],GH.Ajax.post({url:"/rapidview/create/advanced",data:{name:t,filterId:i[0]},errorContextMap:{name:"#ghx-view-name",filterId:"#ghx-create-filter-select"}}).done(function(e){GH.Dialog.CreateView.handleCreateResult(e,GH.RapidBoard.gotoRapidViewConfiguration,"advanced","advanced")}).fail(e.enableControls)):e.enableControls()},GH.Dialog.CreateView.handleCreateResult=function(e,a,t,i){GH.Dialog.CreateView.analytics.trigger("complete",i),"simple"!==t&&GH.PersistentMessages.CreateViewMessage.setView(e.success.id,e.success.name,t,t!==i&&i),a(e.success.id)},GH.Dialog.CreateView.updatePermissionInfo=function(e){e=null!=e?GH.tpl.rapid.view.renderPermissionInfo({savedFilter:e}):"";AJS.$("#ghx-create-permissioninfo-container").html(e)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/dialog/CreateViewState.js' */
GH.Dialog.CreateView.State={},GH.Dialog.CreateView.State.data={},GH.Dialog.CreateView.State.setPreferredTab=function(e){GH.storage.put("gh.dialog.createView.preferredTab",e,!0)},GH.Dialog.CreateView.State.getPreferredTab=function(){return GH.storage.get("gh.dialog.createView.preferredTab",!0)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/component/BoardAdminsPicker.js' */
GH.RapidBoard.BoardAdminsPicker=function(e){this.selector=e.selector,this.change=e.change,this.initialData=e.initialData,this.editData=e.editData,this.blur=e.blur},GH.RapidBoard.BoardAdminsPicker.prototype.show=function(){var e=AJS.$(this.selector);this.select=e,this.multiselect=new AJS.MultiSelect({element:e,width:400,errorMessage:"",itemAttrDisplayed:"label",ajaxOptions:{url:GH.Ajax.CONTEXT_PATH+GH.Ajax.REST_URL_BASE+"/rapidviewconfig/boardadminspicker?maxResults=20",formatResponse:function(e){var i,r=new AJS.GroupDescriptor({weight:0,label:"Groups"}),t=new AJS.GroupDescriptor({weight:1,label:"Users"});return _.each(e.users,function(e){e.key=e.key||e.name;var r=e.displayName;i=GH.RapidBoard.BoardAdminsPicker.buildItemDescriptor("user",e.key,r,r),t.addItem(i)}),_.each(e.groups,function(e){i=GH.RapidBoard.BoardAdminsPicker.buildItemDescriptor("group",e.name,e.name,e.name),r.addItem(i)}),[r,t]},query:!0}}),this.multiselect._addMultipleItems(this.initialData),this.select.bind("unselect",this.change),this.select.bind("change",this.change),this.multiselect.$field.focus(),this.multiselect.$field.blur(this.blur)},GH.RapidBoard.BoardAdminsPicker.prototype.getAjaxValue=function(){var e=this.getValue(),t={userKeys:[],groupKeys:[]};return null==e||_.each(e,function(e){var r=e.split(":"),i=r[0],e=r.slice(1).join(":");r.length<2||("user"==i&&t.userKeys.push(e),"group"==i&&t.groupKeys.push(e))}),t},GH.RapidBoard.BoardAdminsPicker.buildItemDescriptor=function(e,r,i,t){return new AJS.ItemDescriptor({value:e+":"+r,label:i,html:AJS.escapeHTML(String(t))})},GH.RapidBoard.BoardAdminsPicker.prototype.hasValue=function(){return!!this.select.val()},GH.RapidBoard.BoardAdminsPicker.prototype.hasErrors=function(){return 0<this.multiselect.$container.parent().find(".error").length},GH.RapidBoard.BoardAdminsPicker.prototype.getValue=function(){return this.select.val()},GH.RapidBoard.BoardAdminsPicker.prototype.getElement=function(){return this.select},GH.RapidBoard.BoardAdminsPicker.sortModel=function(e){function r(e,r){return e.displayName.toLowerCase().localeCompare(r.displayName.toLowerCase())}return{userKeys:e.userKeys.sort(r),groupKeys:e.groupKeys.sort(r)}},GH.RapidBoard.BoardAdminsPicker.getOrderedUnion=function(e){e=GH.RapidBoard.BoardAdminsPicker.sortModel(e);return _.union(e.groupKeys,e.userKeys)},GH.RapidBoard.BoardAdminsPicker.getAdminsDisplayModel=function(e){var r=GH.RapidBoard.BoardAdminsPicker.sortModel(e),e=_.map(r.groupKeys,function(e){return e.isUser=!1,e}),r=_.map(r.userKeys,function(e){return e.isUser=!0,e});return _.union(e,r)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/dialog/FindView.soy' */
// This file was automatically generated from FindView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.findviewdialog.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.findviewdialog == 'undefined') { GH.tpl.findviewdialog = {}; }


GH.tpl.findviewdialog.renderFindExistingView = function(opt_data, opt_ignored) {
  return '<div class="ghx-module"><form class="aui"><fieldset><div class="field-group"><label for="name">' + soy.$$escapeHtml('Board Name') + '<span class="aui-icon icon-required"></span></label><select id="ghx-welcome-find-viewname" class="hidden"></select><div class="description">' + soy.$$escapeHtml('Start typing to get a list of possible matches.') + '</div></div></fieldset></form></div>';
};
if (goog.DEBUG) {
  GH.tpl.findviewdialog.renderFindExistingView.soyTemplateName = 'GH.tpl.findviewdialog.renderFindExistingView';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/dialog/FindView.js' */
!function(){"use strict";GH.Dialog.FindView={};var e=require("jira-agile/rapid/analytics-tracker");GH.Dialog.FindView.analytics=new e("gh.welcome.find.view"),GH.Dialog.FindView.init=function(){GH.Dialog.registerDialog(".js-find-view",GH.Dialog.FindView.openFindExistingViewDialog)},GH.Dialog.FindView.openFindExistingViewDialog=function(){var e=GH.Dialog.create({width:600,height:215,id:"ghx-welcome-dialog-view-find",onCancelFn:function(e){GH.Dialog.FindView.analytics.trigger("cancel",e.curpage.toString())}});e.eventCategory="gh.welcome.find.view",GH.Dialog.FindView.analytics.trigger("start"),GH.Dialog.FindView.showFindViewStep(e),e.gotoPage(0),e.gotoPanel(0),e.show(),AJS.$("#ghx-welcome-find-viewname-field").focus(),AJS.$(e.getCurrentPanel().body).trigger("contentRefresh")},GH.Dialog.FindView.showFindViewStep=function(e){var i=require("jira/ajs/select/single-select");e.addHeader("Find an Existing Board"),AJS.$("#"+e.id).addClass("ghx-dialog");var n=AJS.$(GH.tpl.findviewdialog.renderFindExistingView());e.addPanel("Find an Existing Board",n,"ghx-welcome-page"),e.addButton("Use",GH.Dialog.FindView.validateViewFind,"aui-button"),n.find("form").submit(function(){return GH.Dialog.FindView.validateViewFind(e),!1});new i({element:AJS.$("#ghx-welcome-find-viewname"),width:300,removeOnUnSelect:!0,overlabel:"Start typing for names",itemAttrDisplayed:"label",errorMessage:"",ajaxOptions:{query:!0,url:GH.Ajax.buildRestUrl("/rapidviews/list.json"),formatResponse:function(e){var i=[];return AJS.$(e.views).each(function(){i.push(new AJS.ItemDescriptor({value:this.id.toString(),label:this.name,html:AJS.escapeHTML(String(this.name))}))}),i}}});GH.Dialog.addCancelButton(e)},GH.Dialog.FindView.validateViewFind=function(e){var i={id:AJS.$("#ghx-welcome-find-viewname").val()};AJS.$(e.getCurrentPanel().body).find(".ghx-error").remove(),GH.Ajax.get({url:"welcome/validateViewFind",data:i,errorContextMap:{viewName:"#ghx-welcome-find-viewname"}},"validateViewFind").done(function(){GH.Dialog.FindView.analytics.trigger("complete"),GH.RapidBoard.gotoRapidBoardPage(i.id)})}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/component/Avatar.soy' */
// This file was automatically generated from Avatar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.avatar.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.avatar == 'undefined') { GH.tpl.avatar = {}; }


GH.tpl.avatar.renderIssueAvatar = function(opt_data, opt_ignored) {
  return '' + ((opt_data.issue.avatarUrl) ? '<img src="' + soy.$$escapeHtml(opt_data.issue.avatarUrl) + '" class="ghx-avatar-img"' + ((opt_data.tooltipHtml) ? 'alt="' + soy.$$escapeHtml(opt_data.tooltipHtml) + '" data-tooltip="' + soy.$$escapeHtml(opt_data.tooltipHtml) + '"' : '') + '>' : '');
};
if (goog.DEBUG) {
  GH.tpl.avatar.renderIssueAvatar.soyTemplateName = 'GH.tpl.avatar.renderIssueAvatar';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/component/field/StatusRenderer.soy' */
// This file was automatically generated from StatusRenderer.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.status.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.status == 'undefined') { GH.tpl.status = {}; }


GH.tpl.status.renderIcon = function(opt_data, opt_ignored) {
  var output = '';
  var isSubtleFinal__soy3 = opt_data.isSubtle == undefined ? true : opt_data.isSubtle;
  output += (opt_data.status) ? (opt_data.status.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status, isCompact: opt_data.isCompact, isSubtle: isSubtleFinal__soy3, maxWidth: opt_data.maxWidth}) : '<img src="' + soy.$$escapeHtml(opt_data.status.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.status.name) + '" title="' + soy.$$escapeHtml(opt_data.status.name) + '">' : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.status.renderIcon.soyTemplateName = 'GH.tpl.status.renderIcon';
}


GH.tpl.status.renderText = function(opt_data, opt_ignored) {
  var output = '';
  var isSubtleFinal__soy22 = opt_data.isSubtle == undefined ? true : opt_data.isSubtle;
  output += (opt_data.status) ? (opt_data.status.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status, isCompact: opt_data.isCompact, isSubtle: isSubtleFinal__soy22, maxWidth: opt_data.maxWidth}) : soy.$$escapeHtml(opt_data.status.name) : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.status.renderText.soyTemplateName = 'GH.tpl.status.renderText';
}


GH.tpl.status.renderFull = function(opt_data, opt_ignored) {
  var output = '';
  var isSubtleFinal__soy35 = opt_data.isSubtle == undefined ? true : opt_data.isSubtle;
  output += (opt_data.status) ? (opt_data.status.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status, isCompact: opt_data.isCompact, isSubtle: isSubtleFinal__soy35}) : '<img src="' + soy.$$escapeHtml(opt_data.status.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.status.name) + '" title="' + soy.$$escapeHtml(opt_data.status.name) + '">' + soy.$$escapeHtml(opt_data.status.name) + '</img>' : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.status.renderFull.soyTemplateName = 'GH.tpl.status.renderFull';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/component/field/EpicLinkRenderer.soy' */
// This file was automatically generated from EpicLinkRenderer.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.field.epicLink.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.field == 'undefined') { GH.tpl.field = {}; }
if (typeof GH.tpl.field.epicLink == 'undefined') { GH.tpl.field.epicLink = {}; }


GH.tpl.field.epicLink.renderEpicLink = function(opt_data, opt_ignored) {
  var output = '';
  var epicColorCSSClass__soy3 = '' + ((opt_data.isMigrateEpicFieldToIssueFieldEnabled) ? soy.$$escapeHtml('ghx-' + opt_data.field.color) : soy.$$escapeHtml(opt_data.field.epicColor));
  var name__soy9 = '' + GH.tpl.epic.getEpicNameStringNoAutoescape({epicLabel: '' + ((opt_data.isMigrateEpicFieldToIssueFieldEnabled) ? soy.$$filterNoAutoescape(opt_data.field.summary) : soy.$$filterNoAutoescape(opt_data.field.text)), epicKey: opt_data.field.epicKey});
  output += (opt_data.removableIfAllowed && opt_data.field.canRemoveEpic) ? GH.tpl.field.issueLabel.renderLabel({extraClasses: ['js-epic-remove', epicColorCSSClass__soy3], isCloseable: true, closeIconText: 'Remove from epic', text: name__soy9, extraAttributes: {title: name__soy9, 'data-epickey': opt_data.field.epicKey}}) : GH.tpl.field.issueLabel.renderLabel({extraClasses: (opt_data.extraClasses != null ? opt_data.extraClasses : '') + ' ' + epicColorCSSClass__soy3, text: name__soy9, extraAttributes: {title: name__soy9, 'data-epickey': opt_data.field.epicKey}});
  return output;
};
if (goog.DEBUG) {
  GH.tpl.field.epicLink.renderEpicLink.soyTemplateName = 'GH.tpl.field.epicLink.renderEpicLink';
}


GH.tpl.field.epicLink.renderEpicLinkFromIssue = function(opt_data, opt_ignored) {
  var output = '';
  var epicLabelText__soy34 = '' + ((opt_data.isMigrateEpicFieldToIssueFieldEnabled) ? soy.$$filterNoAutoescape(opt_data.epic.summary) : soy.$$filterNoAutoescape(opt_data.epic.epicLabel));
  var epicColorCSSClass__soy42 = '' + ((opt_data.isMigrateEpicFieldToIssueFieldEnabled) ? soy.$$escapeHtml('ghx-' + opt_data.epic.color) : soy.$$escapeHtml(opt_data.epic.epicColor));
  output += GH.tpl.field.issueLabel.renderLabel({extraClasses: opt_data.extraClasses + ' ' + epicColorCSSClass__soy42, text: epicLabelText__soy34, extraAttributes: {title: epicLabelText__soy34, 'data-epickey': opt_data.epic.key}});
  return output;
};
if (goog.DEBUG) {
  GH.tpl.field.epicLink.renderEpicLinkFromIssue.soyTemplateName = 'GH.tpl.field.epicLink.renderEpicLinkFromIssue';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/component/field/IssueLabelRenderer.soy' */
// This file was automatically generated from IssueLabelRenderer.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.field.issueLabel.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.field == 'undefined') { GH.tpl.field = {}; }
if (typeof GH.tpl.field.issueLabel == 'undefined') { GH.tpl.field.issueLabel = {}; }


GH.tpl.field.issueLabel.renderOrphanedSubtaskLabel = function(opt_data, opt_ignored) {
  var output = '';
  var text__soy3 = AJS.format('Sub-task of {0}',opt_data.parentKey);
  output += GH.tpl.field.issueLabel.renderLabel({adg3: opt_data.adg3, extraClasses: opt_data.extraClasses, text: text__soy3, extraAttributes: {title: text__soy3}});
  return output;
};
if (goog.DEBUG) {
  GH.tpl.field.issueLabel.renderOrphanedSubtaskLabel.soyTemplateName = 'GH.tpl.field.issueLabel.renderOrphanedSubtaskLabel';
}


GH.tpl.field.issueLabel.renderLabel = function(opt_data, opt_ignored) {
  return '' + aui.lozenges.lozenge(opt_data);
};
if (goog.DEBUG) {
  GH.tpl.field.issueLabel.renderLabel.soyTemplateName = 'GH.tpl.field.issueLabel.renderLabel';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/DeferredResourcesLoader.js' */
define("jira-agile/rapid/deferred-resources-loader",["require"],function(n){"use strict";var d=this,r=(n("jira/featureflags/feature-manager"),n("jira/analytics/web-client")),l={},a=!1;return l.fetchWRMResourcesOnDemand=function(e,n,a){window&&window.performance&&window.performance.mark("download_defer_batch_start"),WRM.require(e).then(function(){window&&window.performance&&window.performance.mark("download_defer_batch_end"),a.call(this),l.sendAnalyticsEvent("deferBatchParsingComplete",n,e)}).fail(function(){l.onResourceFetchFailEventTrigger(n,e)})},l.onResourceFetchFailEventTrigger=function(e,n){AJS.$(GH).trigger("deferBatchParsingFailed"),l.sendAnalyticsEvent("deferBatchParsingFailed",e,n)},l.deferJSLoad=function(e){AJS.$(GH).bind("deferBatchingDownloadInitiate",function(){l.fetchMainDeferBatch(e)})},l.fetchMainDeferBatch=function(e){l.fetchWRMResourcesOnDemand(e,"onload",l.deferBatchParsingCompleteCallback)},l.clearDeferredBatchCompleteListener=function(e){AJS.$(GH).unbind("deferBatchParsingComplete",e)},l.deferBatchParsingCompleteCallback=function(){var e=n("jira-agile/rapid/deferred-resources-event-handler");a=!0,e&&e.init()},l.actionOnDeferParsingComplete=function(e){var n=d;AJS.$(GH).bind("deferBatchParsingComplete",function(){e.call(n)})},l.triggerOnDemandResourceLoad=function(e,n,a){l.getDeferBatchParsed()?a.call(d):l.fetchWRMResourcesOnDemand(e,n,function(){l.deferBatchParsingCompleteCallback.call(d),a.call(d)})},l.getDeferBatchParsed=function(){return a},l.handleDeferredResourceImport=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=arguments[1];e&&!l.getDeferBatchParsed()?l.actionOnDeferParsingComplete(n):n.call(d)},l.triggerOnDemandResourceLoadWithCondition=function(e,n,a,r,t){var i,c,o;e?(i=function(){o(),t.call(this)},c=function(){o(),r.call(this)},o=function(){t&&AJS.$(GH).unbind("deferBatchParsingFailed",i),AJS.$(GH).unbind("deferBatchParsingComplete",c)},t&&AJS.$(GH).bind("deferBatchParsingFailed",i),l.triggerOnDemandResourceLoad(n,a,c)):r.call(d)},l.sendAnalyticsEvent=function(e,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];r.sendOperationalEvent({source:"ui",actionSubject:"ui",action:e,attributes:{analyticsSource:l,boardType:GH.RapidBoard.State.getBoardTypeForAnalytics(),isClassic:!0,source:n,resources:a.toString()}})},l.isResourceAvailable=function(e){try{return n(e),!0}catch(e){return!1}},l});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/sla/EvictingQueue.js' */
var _createClass=function(){function n(e,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,u){return t&&n(e.prototype,t),u&&n(e,u),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}define("jira-agile/rapid/ui/sla/evicting-queue",["underscore"],function(e){"use strict";function t(e){if(_classCallCheck(this,t),e<=0)throw new Error("Non-empty queue-sizes are not allowed");this.arrayQueue=[],this.tail=0,this.head=0,this.capacity=e}return _createClass(t,[{key:"insert",value:function(e){return this.isFull()&&this._dequeue(),this._enqueue(e),!0}},{key:"isFull",value:function(){return this.arrayQueue.length>=this.capacity}},{key:"_enqueue",value:function(e){this.arrayQueue.push(e)}},{key:"_dequeue",value:function(){return this.arrayQueue.shift()}},{key:"all",value:function(){return e.extend([],this.arrayQueue)}}]),t});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-common-lwf-resources', location = 'jira-agile-module/includes/js/rapid/ui/sla/GlobalErrors.js' */
var _createClass=function(){function a(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,e,n){return e&&a(r.prototype,e),n&&a(r,n),r}}();function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}define("jira-agile/rapid/ui/sla/global-errors",["jira-agile/rapid/ui/sla/evicting-queue"],function(e){"use strict";function t(r){_classCallCheck(this,t),this.errors=new e(r)}return _createClass(t,[{key:"hasNonScriptError",value:function(){return this.getAllErrors().some(function(r){return"Script error."!==r.message})}},{key:"recordError",value:function(r){var e=r.message,n=r.filename,a=r.lineno,o=r.colno,r=r.error;this.errors.insert({message:e,filename:n,lineno:a,colno:o,error:t.replaceErrors(r)})}},{key:"getAllErrors",value:function(){return this.errors.all()}}],[{key:"replaceErrors",value:function(e){if(e&&e instanceof Error){var n={};return Object.getOwnPropertyNames(e).forEach(function(r){n[r]=e[r]}),n}return e}}]),t});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issues-api', location = 'jira-global-issue-navigator-plugin/content/js/search/IssuesApi.js' */
define("jira/issues/api",["require"],function(e){"use strict";var s=e("jira/featureflags/feature-manager"),i={getEffectiveIssue:function(){return null},getEffectiveIssueId:function(){return null},getEffectiveIssueKey:function(){return null}};return{initialize:function(e){i=e.searchPageModule},editFieldOnSelectedIssue:function(e){var s=JIRA.Issues.Api.getFieldsOnSelectedIssue(),u=s&&s.get(e),t=u&&u.isEditable();return t&&i&&JIRA.Issues.Application.execute("issueEditor:editField",u),t},focusSearch:function(){AJS.$(".criteria-selector:first, #advanced-search").focus().select()},getSelectedIssue:function(){return i.getEffectiveIssue()},getSelectedIssueId:function(){return i.getEffectiveIssueId()},getSelectedIssueKey:function(){return i.getEffectiveIssueKey()},getFieldsOnSelectedIssue:function(){var e=JIRA.Issues.Application.request("issueEditor:fields");return e.length?e:void 0},hasSavesInProgress:function(){return JIRA.Issues.Application.request("issueEditor:hasSavesInProgress")},isCurrentlyLoadingIssue:function(){return i.isCurrentlyLoadingIssue()},isSelectedIssueAccessible:function(){return i.isHighlightedIssueAccessible()},issueIsVisible:function(){return i.isIssueVisible()},nextIssue:function(e){i&&i.nextIssue&&i.nextIssue(e)},openFocusShifter:function(){i.isIssueVisible()&&i.openFocusShifter()},prevIssue:function(e){i&&i.prevIssue&&i.prevIssue(e)},refreshSelectedIssue:function(e){return JIRA.Issues.Application.request("issueEditor:refreshIssue",e)},returnToSearch:function(e){i.returnToSearch({ignoreDirtiness:e})},showInlineIssueLoadError:function(e){i.showInlineIssueLoadError(e)},switchLayouts:function(e){var s,u=-1,t=i.getCurrentLayout(),n=i.getSortedLayouts();_.find(n,function(e,s){if(t instanceof e.View)return u=s,!0}),s=n[(u+1)%n.length],s&&("split-view"===s.id?JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"):"list-view"===s.id&&JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-list-view-rendered"),i.changeLayout(s.id,e))},isQueryValid:function(){return i.queryModule.isQueryValid()},isFullScreenIssueVisible:function(){return i.isFullScreenIssueVisible&&i.isFullScreenIssueVisible()||!1},viewSelectedIssue:function(){if(JIRA.Issues.Api.isSelectedIssueAccessible()){var e=JIRA.Issues.Api.getSelectedIssueKey();i.isIssueVisible()||i.update({selectedIssueKey:e})}},toggleFilterPanel:function(){i.toggleFilterPanel()},waitForSavesToComplete:function(){var e=new jQuery.Deferred;window.setTimeout(function(){JIRA.Issues.Api.hasSavesInProgress()?JIRA.bind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,function(){JIRA.Issues.Api.hasSavesInProgress()||e.resolve()}):e.resolve()},10)},updateIssue:function(e,s){return s=s||"thanks_issue_updated",i.updateIssue({key:e.key,id:e.id,action:JIRA.Issues.Actions.UPDATE,message:s,meta:{}})},toggleFullscreenIssue:function(){if(i.isFullScreenIssueVisible())i.standalone||i.returnToSearch();else{var e=i.isSplitViewLayout()?{reset:!0}:{};JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:i.getEffectiveIssueKey()},e)}},focusIssueList:function(){i.focusIssueList()},focusIssueEditor:function(){i.focusIssueEditor()},isNewIssueViewEnabled:function(){return!!s.isFeatureEnabled("return-new-issue-view-as-default_63doa")||"true"===AJS.$('meta[name="ajs-new-jira-issue-view-gin-enabled"]').attr("content")},getNewIssueViewToggleValue:function(){return s.isFeatureEnabled("return-new-issue-view-as-default_63doa")?"ON":AJS.$('meta[name="ajs-new-jira-issue-view-toggle-value"]').attr("content")},shouldSuppressLegacyShortcut:function(e){var s="e";return e===s?JIRA.Issues.Api.isNewIssueViewEnabled():JIRA.Issues.Api.isNewIssueViewEnabled()&&(i.isFullScreenIssueVisible()||i.isSplitViewLayout())}}}),AJS.namespace("JIRA.Issues.Api",null,require("jira/issues/api"));
//# sourceMappingURL=IssuesApi-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issues-api', location = 'jira-global-issue-navigator-plugin/content/js/search/LayoutPreferenceManager.js' */
define("jira/issues/layout-preference-manager",["require"],function(e){"use strict";return{PREFERRED_LAYOUT_KEY:"jira.issues.preferred.layout.key",getPreferredLayoutKey:function(){return AJS.Meta.get(this.PREFERRED_LAYOUT_KEY)},setPreferredLayoutKey:function(e,s){s=_.defaults({},s,{ajax:!0}),AJS.Meta.set(this.PREFERRED_LAYOUT_KEY,e),s.ajax&&AJS.$.ajax({data:{layoutKey:e},type:"POST",headers:JIRA.Issues.XsrfTokenHeader,url:AJS.contextPath()+"/rest/issueNav/latest/preferredSearchLayout"}).done(function(){JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("switchLayoutView")}).fail(function(e){JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("switchLayoutView",{reason:"switch-layout-view-failed-with-status-code",statusCode:e.status})})}}}),AJS.namespace("JIRA.Issues.LayoutPreferenceManager",null,require("jira/issues/layout-preference-manager"));
//# sourceMappingURL=LayoutPreferenceManager-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-legacy', location = 'jira-global-issue-navigator-plugin/content/js/search/LegacyIssueNavigatorShortcuts.js' */
define("jira/issues/search/legacyissuenavigatorshortcuts",["jira/issues/search/legacyissuenavigator","jquery"],function(e,t){"use strict";function s(){return r&&r.length>0}function i(e){var s=t(r[e]).find("td:first");t(r[e]).removeClass("focused"),a=s.attr("title"),s.removeAttr("title")}function n(e,s,i){var n=t(r[e]).addClass("focused").scrollIntoView();n.find("td").first().attr("title",a),i||u(e)}function o(e,t,s){var o=l[e];(o||0===o)&&(i(c),n(c=o,t,s))}function u(e){var s=t(r[e]);s.find(".hidden-link").removeAttr("tabIndex").focus()}var r,c,a,f={},l={};return f.initialize=function(){f.isNavigator=function(){return e.isNavigator()},f.selectNextIssue=function(){return JIRA.Issues.Api.nextIssue()},f.selectPreviousIssue=function(){return JIRA.Issues.Api.prevIssue()},f.viewSelectedIssue=function(){return JIRA.Issues.Api.viewSelectedIssue()},f.focusSearch=function(){JIRA.Issues.Api.focusSearch()}},f._quickEditSessionCompleteHandler=t.noop,f._quickCreateSubtaskSessionCompleteHandler=t.noop,f.isNavigator=t.noop,f.selectNextIssue=t.noop,f.selectPreviousIssue=t.noop,f.viewSelectedIssue=t.noop,f.focusSearch=t.noop,f.focusRow=function(e,i,n){s()&&(e?o(e,i,n):n||t(r[c]).find("a:first").focus())},t(document).ready(function(){if(e.isNavigator()){var i="true"===t("#focusSearch").attr("content");if(!i){var n=t(document.activeElement);n.is(":input")&&n.blur()}s()&&!t(document.activeElement).is(":input")&&setTimeout(function(){r.eq(c).scrollIntoView()},0),t(".issue-actions-trigger").click(function(){var e=t(this).closest("tr"),s=e.attr("rel");s&&f.focusRow(s,0,!0)})}}),f});
//# sourceMappingURL=LegacyIssueNavigatorShortcuts-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-legacy', location = 'jira-global-issue-navigator-plugin/content/js/search/LegacyIssueNavigator.js' */
define("jira/issues/search/legacyissuenavigator",["jira/data/session-storage","jira/util/browser","jquery"],function(e,s,t){"use strict";var i={initialize:function(){i.isNavigator=function(){return JIRA.Issues.Api.issueIsVisible()}},isNavigator:t.noop,setIssueUpdatedMsg:function(s){s=s||{};var t=s.issueMsg,i=s.issueId,u=s.issueKey;i||(i=this.getSelectedIssueId(),u=this.getSelectedIssueKey()),i&&e.setItem("selectedIssueId",i),u&&e.setItem("selectedIssueKey",u),t&&e.setItem("selectedIssueMsg",t)},reload:function(){s.reloadViaWindowLocation()},isRowSelected:function(){return 0!==i.get$focusedRow().length},get$focusedRow:function(){return t("#issuetable tr.issuerow.focused")},getSelectedIssueKey:function(){var e=i.get$focusedRow();if(0!==e.length)return e.attr("data-issuekey")},getSelectedIssueId:function(){return i.get$focusedRow().attr("rel")}};return i});
//# sourceMappingURL=LegacyIssueNavigator-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-legacy', location = 'jira-global-issue-navigator-plugin/content/js/search/LegacyIssue.js' */
define("jira/issues/search/legacyissue",["jira/util/browser","jira/util/events","jquery","wrm/context-path"],function(e,s,t,u){"use strict";var n={};return n.getStalker=function(){return t("#stalker")},n.getSubtaskContent=function(){return n.getSubtaskModule().find(".mod-content")},n.getSubtaskModule=function(){return t("#view-subtasks")},n.reload=function(){e.reloadViaWindowLocation()},n.refreshSubtasks=function(){var r=new t.Deferred,i=n.getSubtaskContent();return 0===i.length?(e.reloadViaWindowLocation(window.location.href+"#view-subtasks"),r.promise()):t.ajax({url:u+"/secure/ViewSubtasks.jspa?id="+n.getIssueId(),success:function(e){i.replaceWith(e),s.trigger("Issue.subtasksRefreshed",[n.getSubtaskContent()])}})},n.highlightSubtasks=function(e){t.each(e,function(e,s){t(".issuerow[data-issuekey='"+s.issueKey+"']").fadeInBackground()})},n.getIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()},n.getIssueKey=function(){return JIRA.Issues.Api.getSelectedIssueKey()},n.issueCreatedMessage=function(e,s){var t=s?"Subtask":"Issue",n='<a class="issue-created-key issue-link" data-issue-key="'+e.issueKey+'" href="'+u()+"/browse/"+e.issueKey+'">'+e.issueKey+" - "+AJS.escapeHtml(e.summary)+"</a>";return AJS.format("{0} {1} has been successfully created.",t,n)},n});
//# sourceMappingURL=LegacyIssue-min.js.map
;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issue/Issue.js' */
define("jira/issue",["jira/issues/search/legacyissue"],function(e){return e}),AJS.namespace("jira.app.issue",null,require("jira/issue")),AJS.namespace("JIRA.Issue",null,require("jira/issue"));;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issuenavigator/IssueNavigator.js' */
define("jira/issuenavigator/issue-navigator",["jira/issues/search/legacyissuenavigator"],function(a){return a}),AJS.namespace("jira.app.issuenavigator",null,require("jira/issuenavigator/issue-navigator")),AJS.namespace("JIRA.IssueNavigator",null,require("jira/issuenavigator/issue-navigator"));;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issuenavigator/IssueNavigator.Shortcuts.js' */
define("jira/issuenavigator/issue-navigator/shortcuts",["jira/issues/search/legacyissuenavigatorshortcuts"],function(s){return s}),AJS.namespace("jira.app.issuenavigator.shortcuts",null,require("jira/issuenavigator/issue-navigator/shortcuts")),AJS.namespace("JIRA.IssueNavigator.Shortcuts",null,require("jira/issuenavigator/issue-navigator/shortcuts"));;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-flag', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/flag.js' */
("undefined"===typeof window?global:window).__e243db5c139a94f8b4c4fe7a1d0dbab0=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function g(a){var a=c.default.extend({},l,a),b,e=a,e=(0,m.default)('<div class="aui-flag"><div class="aui-message aui-message-{type} {type} {closeable} shadowed"><p class="title"><strong>{title}</strong></p>{body}<\!-- .aui-message --\></div></div>').fill({"body:html":e.body||"",closeable:"never"===e.close?"":"closeable",title:e.title||"",type:e.type}).toString();
b=(0,c.default)(e);b[0].close=function(){h(b)};"auto"===a.close?(j(b),b.find(".aui-message").addClass("aui-will-close"),setTimeout(function(){b[0].close()},n)):"manual"===a.close&&j(b);(0,c.default)("#"+i).find(".aui-flag").get().forEach(function(a){a.getAttribute("aria-hidden")==="true"&&(0,c.default)(a).remove()});a=(0,c.default)("#"+i);a.length||(a=(0,c.default)('<div id="'+i+'"></div>'),(0,c.default)("body").prepend(a));b.appendTo(a);(0,o.recomputeStyle)(b);return b.attr("aria-hidden","false")[0]}
function j(a){var b=(0,c.default)('<span class="aui-icon icon-close" role="button" tabindex="0"></span>');b.click(function(){h(a)});b.keypress(function(b){if(b.which===k.default.ENTER||b.which===k.default.SPACE)h(a),b.preventDefault()});return a.find(".aui-message").append(b)[0]}function h(a){a=a.get(0);a.setAttribute("aria-hidden","true");a.dispatchEvent(new p.default("aui-flag-close",{bubbles:!0}));return a}var f={};"use strict";Object.defineProperty(f,"__esModule",{value:!0});var c=d(__307d3e18fd611f85395c67cddeb1fe24),
o=__c0311e8841bd8637e025a8fb1474f693,q=d(__574ac67f906effeb9d8ec2753b23cf28),r=d(__4d02fe17b8e885a34493e34af3d145dd),k=d(__509557c937caa8763def39004fcf3193),m=d(__eb201a36d4829c396b434af7bad3dea4),p=d(__5a18a90cc502f556e87c4181f8a6b4ab),n=5E3,i="aui-flag-container",l={body:"",close:"manual",title:"",type:"info"};(0,q.default)("aui/flag",g);(0,r.default)("flag",g);f.default=g;return f=f["default"]}.call(this);;
;
/* module-key = 'jira.webresources:messages', location = 'includes/jira/common/messages.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),JIRA.Templates.warningMsg=function(s,e){return'<div class="aui-message warning '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-warning"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"},JIRA.Templates.successMsg=function(s,e){return'<div class="aui-message success '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-success"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"},JIRA.Templates.errorMsg=function(s,e){return'<div class="aui-message error '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-error"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"},JIRA.Templates.infoMsg=function(s,e){return'<div class="aui-message info '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-info"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"};;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/flag.js' */
define("jira/flag",["jira/util/logger","aui/flag","jira/ajs/ajax/smart-ajax","underscore","jquery","wrm/data","wrm/context-path"],function(s,e,t,i,n,a,r){"use strict";function o(s){var e=c();i.contains(e,s)||(e.push(s),sessionStorage.setItem("dismissedFlags",JSON.stringify(e)))}function u(s){var e=i.without(c(),s);sessionStorage.setItem("dismissedFlags",JSON.stringify(e))}function c(){return JSON.parse(sessionStorage.getItem("dismissedFlags"))||[]}function f(){return i.union(j(),c())}function d(e){o(e),t.makeRequest({type:"PUT",url:r()+"/rest/flags/1.0/flags/"+encodeURIComponent(e)+"/dismiss"}).done(function(){u(e)}).always(function(){s.trace("flag.dismiss.finished:"+e)})}function g(s,t,a){a=a||{};var r=i.extend({},p,w[a.type],a,{title:s?s:"",body:t?t:""}),o=r.dismissalKey;if(o&&i.contains(f(),o))return!1;var u=e(r);o?(u.dismiss=function(){d(o)},u.addEventListener("aui-flag-close",u.dismiss)):u.dismiss=function(){};var c=n(u).find(".title");return""===n.trim(c.text())&&c.remove(),u}function l(s,e,t){return g(s,e,i.extend({},t,{type:"error"}))}function m(s,e,t){return g(s,e,i.extend({},t,{type:"warning"}))}function y(s,e,t){return g(s,e,i.extend({},t,{type:"success"}))}function h(s){s.forEach(function(s){g(s.title,s.htmlMessage,{close:s.auiClosingPolicy,type:s.auiMessageType})})}var p={type:"info",title:"",body:""},w={success:{close:"auto"}},j=i.once(function(){var s=a.claim("com.atlassian.jira.jira-header-plugin:dismissedFlags.flags")||{};return s.dismissed||[]}),v=c();return setTimeout(function(){i.each(v,d)},1e3),{showMsg:g,showMessages:h,showInfoMsg:g,showErrorMsg:l,showWarningMsg:m,showSuccessMsg:y}});;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message-types.js' */
define("jira/message-types",{WARNING:JIRA.Templates.warningMsg,ERROR:JIRA.Templates.errorMsg,SUCCESS:JIRA.Templates.successMsg});;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message.js' */
define("jira/message",["jira/flag","jquery","jira/message-types","jira/data/local-storage"],function(e,t,o,r){"use strict";function s(e,o){o=o||{};var r,s=o.type({msg:e,closeable:o.closeable}),a=t("<div>").html(s),n=null!=o.timeout?o.timeout:f;return o.closeable&&a.find(".icon-close").click(function(e){e.preventDefault(),null!=r&&window.clearTimeout(r),a.remove()}),n>0&&(r=window.setTimeout(function(){a.fadeOut(function(){a.remove()})},1e3*n)),a}function a(e,t){t=t||{};var o=s(e,t);return o.prependTo(t.target)}function n(e,t){return t=t||{},t.type="WARNING",p(e,t)}function u(e,t){return t=t||{},t.type="SUCCESS",p(e,t)}function i(e,t){return t=t||{},t.type="ERROR",p(e,t)}function c(o,r){var s={};r=r||{},s.type=r.type,"undefined"==typeof r.timeout?r.closeable===!1&&(s.close="auto"):r.timeout>0?s.close="auto":r.closeable===!1?s.close="never":s.close="manual";var a=t(e.showMsg("",o,s));return r.id&&a.attr("id",r.id),a}function l(e,o){return c(e,t.extend({},o,{type:"error"}))}function g(e,o){return c(e,t.extend({},o,{type:"warning"}))}function m(e,o){var r=t(e);o=o||{},r.css("backgroundColor","#fff").animate({backgroundColor:o.backgroundColor||"#ffd"}),window.setTimeout(function(){r.animate({backgroundColor:"#fff"},"slow",function(){r.css("backgroundColor","")})},3e3)}function d(e,o){return c(e,t.extend({},o,{type:"success"}))}var f=10,p=function(){var e="jira.messages.reloadMessageMsg",s="jira.messages.reloadMessageType",n="jira.messages.reloadMessageCloseable",u="jira.messages.reloadMessageTarget";return t(function(){var i,l,g,m=r.getItem(e);if(m){i=r.getItem(s),l="true"===r.getItem(n)||r.getItem(n)===!0,g=r.getItem(u),r.removeItem(e),r.removeItem(s),r.removeItem(n),r.removeItem(u);var d={WARNING:{soyTemplate:o.WARNING,auiType:"warning"},ERROR:{soyTemplate:o.ERROR,auiType:"error"},SUCCESS:{soyTemplate:o.SUCCESS,auiType:"success"}};!g||t(g).is(document.body)?c(m,{type:d[i].auiType,closeable:l}):a(m,{type:d[i].soyTemplate,closeable:l,target:t(g)})}}),function(t,o){r.setItem(e,t),r.setItem(s,o.type),o.closeable&&r.setItem(n,o.closeable),o.target&&r.setItem(u,o.target)}}(),I=function(){var e="jira.messages.fadeInBackground.color",o="jira.messages.fadeInBackground.target";return t(function(){var t=r.getItem(e),s=r.getItem(o);r.removeItem(e),r.removeItem(o),m(s,{backgroundColor:t})}),function(t,s){s=s||{};var a=r.getItem(o);a?(a=a.split(","),a.push(t),a=a.join(",")):a=t,r.setItem(o,a),r.setItem(e,s.backgroundColor||"#ffd")}}(),y={Types:o,DefaultTimeout:10,buildMsg:s,showMsg:c,showMessageAtTarget:a,showMsgOnReload:p,fadeInBackground:m,fadeInBackgroundOnReload:I,showErrorMsg:l,showWarningMsg:g,showSuccessMsg:d,showReloadErrorMsg:i,showReloadWarningMsg:n,showReloadSuccessMsg:u},v={removeInVersion:"8.0",alternativeName:"jira/flag",sinceVersion:"6.4"};return AJS.deprecate.prop(y,"showMsg",v),AJS.deprecate.prop(y,"showErrorMsg",v),AJS.deprecate.prop(y,"showWarningMsg",v),AJS.deprecate.prop(y,"showSuccessMsg",v),y});;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message-namespace.js' */
AJS.namespace("JIRA.Messages",null,require("jira/message"));;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message-jquery.js' */
!function(){var e=require("jira/message-types"),r=require("jira/message"),t=require("jquery");t.fn.fadeInBackground=function(e){return r.fadeInBackground(this,e),this},t.fn.showErrorMsg=function(t,s){return s=s||{},s.target=this,s.type=e.ERROR,r.showMessageAtTarget(t,s)},t.fn.showWarningMsg=function(t,s){return s=s||{},s.target=this,s.type=e.WARNING,r.showMessageAtTarget(t,s)},t.fn.showSuccessMsg=function(t,s){return s=s||{},s.target=this,s.type=e.SUCCESS,r.showMessageAtTarget(t,s)}}();;
;
/* module-key = 'jira.webresources:header', location = '/includes/jira/common/headerModule.js' */
define("jira/common/header",["jira/util/formatter","jira/message","jira/issue","jira/util/events","jquery","exports","wrm/context-path"],function(e,n,t,s,i,r,o){var a,c,u,d,p={},f={getPath:function(){return window.location.pathname}},m=function(n,t){var s=n.substr(0,n.indexOf("-"));return e.format('<a href="{0}" target="_blank">',o()+"/plugins/servlet/project-config/"+s+"/"+t)},l=function(e){e&&n.showSuccessMsg(e,{closeable:!0}),p={}},I=function(e,n){var t="";return p.versionCreated&&(t="<p>"+e+"</p>"),p.componentCreated&&(t+="<p>"+n+"</p>"),t},g=function(){var e=/jira\/software\/(c\/)?projects\/[a-zA-Z0-9]+\/boards\/\d+\/roadmap/g;return e.test(f.getPath())},v=function(){var e=/jira\/software\/projects\/[a-zA-Z0-9]+\/((boards\/\d+(\/)?$)|(boards\/\d+\/backlog)\/?)/g;return e.test(f.getPath())},b=function(){return!!(JIRA&&JIRA.Issues&&JIRA.Issues.Application)&&JIRA.Issues.Application};r.initialize=function(){s.bind("QuickCreateIssue.sessionComplete",a=function(n,s){if(!g()&&!v()){var i=[].concat(s).pop(),r=t.issueCreatedMessage(i);r+=I(e.format("You also added a new version to this project. You can set a release date for this version in {0}project admin{1}.",m(i.issueKey,"versions"),"</a>"),e.format("You also added a new component to this project. You can assign a component lead for this component in {0}project admin{1}.",m(i.issueKey,"administer-components"),"</a>")),l(r)}}),b()&&b().on("issueEditor:saveSuccess",c=function(n){var s=n&&n.issueKey?n.issueKey:t.getIssueKey(),i=I(e.format("A new version has been added to your project. You can set a release date for this version in {0}project admin{1}.",m(s,"versions"),"</a>"),e.format("A new component has been added to your project. You can assign a component lead for this component in {0}project admin{1}.",m(s,"administer-components"),"</a>"));l(i)}),s.bind("Issue.Version.new.selected",u=function(){p.versionCreated=!0}),s.bind("Issue.Component.new.selected",d=function(){p.componentCreated=!0})},r.unbind=function(){s.unbind("QuickCreateIssue.sessionComplete",a),s.unbind("Issue.Version.new.selected",u),s.unbind("Issue.Component.new.selected",d),b()&&b().unbind("issueEditor:saveSuccess",c)},r.location=f});;
;
/* module-key = 'jira.webresources:header', location = '/includes/jira/common/initHeader.js' */
!function(){var i=require("jira/common/header");jQuery(function(){i.initialize()})}();;
;
/* module-key = 'jira.webresources:page-loading-indicator', location = '/includes/jira/loading/Loading.js' */
define("jira/loading/loading",["jquery"],function(i){function a(){e||(i(window).trigger("show.loading"),i("body").append(r).append(s),e=!0)}function n(){e&&(i(window).trigger("hide.loading"),s.remove(),r.remove(),e=!1)}var e=!1,r=i('<div class="jira-page-adg-loading-background" />'),s=i('<div class="jira-page-adg-spinner">   <span class="jira-page-adg-spinner-container">     <span class="jira-page-adg-spinner-wrapper" size="48">       <svg        class="jira-page-adg-spinner-svg"        focusable="false"        height="48"        size="48"        viewBox="0 0 48 48"        width="48"        xmlns="http://www.w3.org/2000/svg"      >        <circle cx="24" cy="24" r="21.5"></circle>      </svg>    </span>  </span></div>');return{showLoadingIndicator:a,hideLoadingIndicator:n,isVisible:function(){return e}}}),AJS.namespace("JIRA.Loading",null,require("jira/loading/loading"));;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/aui.soy' */
// This file was automatically generated from aui.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.renderExtraAttributes = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.extraAttributes) {
    if (Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]') {
      var attrList7 = soy.$$getMapKeys(opt_data.extraAttributes);
      var attrListLen7 = attrList7.length;
      for (var attrIndex7 = 0; attrIndex7 < attrListLen7; attrIndex7++) {
        var attrData7 = attrList7[attrIndex7];
        output += ' ' + soy.$$escapeHtml(attrData7) + '="' + soy.$$escapeHtml(opt_data.extraAttributes[attrData7]) + '"';
      }
    } else {
      output += ' ' + soy.$$filterNoAutoescape(opt_data.extraAttributes);
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.renderExtraAttributes.soyTemplateName = 'aui.renderExtraAttributes';
}


aui.renderExtraClasses = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.extraClasses) {
    if ((opt_data.extraClasses) instanceof Array) {
      var classList23 = opt_data.extraClasses;
      var classListLen23 = classList23.length;
      for (var classIndex23 = 0; classIndex23 < classListLen23; classIndex23++) {
        var classData23 = classList23[classIndex23];
        output += ' ' + soy.$$escapeHtml(classData23);
      }
    } else {
      output += ' ' + soy.$$escapeHtml(opt_data.extraClasses);
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.renderExtraClasses.soyTemplateName = 'aui.renderExtraClasses';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/badges.soy' */
// This file was automatically generated from badges.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.badges.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.badges == 'undefined') { aui.badges = {}; }


aui.badges.badge = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-badge' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.badges.badge.soyTemplateName = 'aui.badges.badge';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/buttons.soy' */
// This file was automatically generated from buttons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.buttons.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.buttons == 'undefined') { aui.buttons = {}; }


aui.buttons.button = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.href || opt_data.href == '') {
    output += '<a href="' + soy.$$escapeHtml(opt_data.href) + '"' + aui.buttons.buttonAttributes(soy.$$augmentMap(opt_data, {tagName: 'a'})) + '>' + aui.buttons.buttonIcon(opt_data) + ((opt_data.hasLabel) ? '<span class="aui-button-label">' : '') + soy.$$escapeHtml(opt_data.text) + ((opt_data.hasLabel) ? '</span>' : '') + '</a>';
  } else if (opt_data.tagName == 'input') {
    output += '<input type="' + soy.$$escapeHtml(opt_data.inputType ? opt_data.inputType : 'button') + '" ' + aui.buttons.buttonAttributes(opt_data) + ' value="' + soy.$$escapeHtml(opt_data.text) + '" />';
  } else {
    var theTagName__soy29 = opt_data.tagName ? opt_data.tagName : 'button';
    output += '<' + soy.$$escapeHtml(theTagName__soy29) + aui.buttons.buttonAttributes(soy.$$augmentMap(opt_data, {tagName: theTagName__soy29})) + '>' + aui.buttons.buttonIcon(opt_data) + ((opt_data.hasLabel) ? '<span class="aui-button-label">' : '') + soy.$$escapeHtml(opt_data.text) + ((opt_data.hasLabel) ? '</span>' : '') + '</' + soy.$$escapeHtml(theTagName__soy29) + '>';
  }
  return output;
};
if (goog.DEBUG) {
  aui.buttons.button.soyTemplateName = 'aui.buttons.button';
}


aui.buttons.buttons = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-buttons' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.buttons.buttons.soyTemplateName = 'aui.buttons.buttons';
}


aui.buttons.buttonAttributes = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-button' + ((opt_data.splitButtonType == 'main') ? ' aui-button-split-main' : '') + ((opt_data.dropdown2Target) ? ' aui-dropdown2-trigger' + ((opt_data.splitButtonType == 'more') ? ' aui-button-split-more' : '') : '');
  switch (opt_data.type) {
    case 'primary':
      output += ' aui-button-primary';
      break;
    case 'link':
      output += ' aui-button-link';
      break;
    case 'subtle':
      output += ' aui-button-subtle';
      break;
    case 'text':
      output += ' aui-button-text';
      break;
  }
  output += aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.isPressed) ? ' aria-pressed="' + soy.$$escapeHtml(opt_data.isPressed) + '"' : '') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' + ((opt_data.isDisabled == true) ? (opt_data.tagName == 'button' || opt_data.tagName == 'input') ? ' disabled="disabled" ' : '' : '') : '') + ((opt_data.dropdown2Target) ? ' aria-owns="' + soy.$$escapeHtml(opt_data.dropdown2Target) + '" aria-haspopup="true"' : '') + ((opt_data.tagName == 'a') ? ' tabindex="0"' : '');
  return output;
};
if (goog.DEBUG) {
  aui.buttons.buttonAttributes.soyTemplateName = 'aui.buttons.buttonAttributes';
}


aui.buttons.buttonIcon = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.iconType) ? '<span class="' + ((opt_data.iconType == 'aui') ? 'aui-icon' : '') + ((opt_data.iconClass) ? ' ' + soy.$$escapeHtml(opt_data.iconClass) : '') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) + ' ' : '') + '</span>' : '');
};
if (goog.DEBUG) {
  aui.buttons.buttonIcon.soyTemplateName = 'aui.buttons.buttonIcon';
}


aui.buttons.splitButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data.splitButtonMain, {splitButtonType: 'main'})) + aui.buttons.button(soy.$$augmentMap(opt_data.splitButtonMore, {splitButtonType: 'more'}));
};
if (goog.DEBUG) {
  aui.buttons.splitButton.soyTemplateName = 'aui.buttons.splitButton';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/dropdown.soy' */
// This file was automatically generated from dropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dropdown.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dropdown == 'undefined') { aui.dropdown = {}; }


aui.dropdown.trigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<a' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dd-trigger' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><span class="dropdown-text">' + ((opt_data.accessibilityText) ? soy.$$escapeHtml(opt_data.accessibilityText) : '') + '</span>' + ((! (opt_data.showIcon == false)) ? '<span class="icon icon-dropdown"></span>' : '') + '</a>';
};
if (goog.DEBUG) {
  aui.dropdown.trigger.soyTemplateName = 'aui.dropdown.trigger';
}


aui.dropdown.menu = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'ul') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown hidden' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'ul') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.menu.soyTemplateName = 'aui.dropdown.menu';
}


aui.dropdown.parent = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dd-parent' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.parent.soyTemplateName = 'aui.dropdown.parent';
}


aui.dropdown.item = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'li') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="dropdown-item' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a href="' + soy.$$escapeHtml(opt_data.url ? opt_data.url : '#') + '">' + soy.$$escapeHtml(opt_data.text) + '</a></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'li') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.item.soyTemplateName = 'aui.dropdown.item';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/dropdown2.soy' */
// This file was automatically generated from dropdown2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dropdown2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dropdown2 == 'undefined') { aui.dropdown2 = {}; }


aui.dropdown2.dropdown2 = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.trigger(soy.$$augmentMap(opt_data.trigger, {menu: opt_data.menu})) + aui.dropdown2.contents(opt_data.menu);
};
if (goog.DEBUG) {
  aui.dropdown2.dropdown2.soyTemplateName = 'aui.dropdown2.dropdown2';
}


aui.dropdown2.trigger = function(opt_data, opt_ignored) {
  return '' + aui.trigger.trigger(soy.$$augmentMap(opt_data, {extraClasses: 'aui-dropdown2-trigger' + aui.renderExtraClasses(opt_data)}));
};
if (goog.DEBUG) {
  aui.dropdown2.trigger.soyTemplateName = 'aui.dropdown2.trigger';
}


aui.dropdown2.contents = function(opt_data, opt_ignored) {
  return '<div id="' + soy.$$escapeHtml(opt_data.id) + '" class="aui-dropdown2' + aui.renderExtraClasses(opt_data) + '" role="menu" aria-hidden="true"' + aui.renderExtraAttributes(opt_data) + '><div role="application">' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div></div>';
};
if (goog.DEBUG) {
  aui.dropdown2.contents.soyTemplateName = 'aui.dropdown2.contents';
}


aui.dropdown2.section = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown2-section' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.label) ? '<strong role="presentation" class="aui-dropdown2-heading">' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.dropdown2.section.soyTemplateName = 'aui.dropdown2.section';
}


aui.dropdown2.itemGroup = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' role="presentation" class="aui-dropdown2-section' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.label) ? '<strong role="presentation" class="aui-dropdown2-heading">' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + '<div role="group"' + ((opt_data.label) ? ' aria-label="' + soy.$$escapeHtml(opt_data.label) + '"' : '') + '>' + aui.dropdown2.itemList(opt_data) + '</div></div>';
};
if (goog.DEBUG) {
  aui.dropdown2.itemGroup.soyTemplateName = 'aui.dropdown2.itemGroup';
}


aui.dropdown2.itemList = function(opt_data, opt_ignored) {
  var output = '<ul' + ((opt_data.isTruncated) ? ' class="aui-list-truncate"' : '') + ' role="presentation">';
  var itemList76 = opt_data.items;
  var itemListLen76 = itemList76.length;
  for (var itemIndex76 = 0; itemIndex76 < itemListLen76; itemIndex76++) {
    var itemData76 = itemList76[itemIndex76];
    output += '<li ' + ((itemData76.isHidden) ? 'class="aui-dropdown2-hidden" aria-hidden="true"' : '') + ' role="presentation">';
    switch (itemData76.itemType) {
      case 'checkbox':
        output += aui.dropdown2.menuCheckbox(itemData76);
        break;
      case 'radio':
        output += aui.dropdown2.menuRadio(itemData76);
        break;
      default:
        output += aui.dropdown2.menuLink(itemData76);
    }
    output += '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  aui.dropdown2.itemList.soyTemplateName = 'aui.dropdown2.itemList';
}


aui.dropdown2.menuLink = function(opt_data, opt_ignored) {
  return '<a role="menuitem" tabindex="-1" class="' + aui.renderExtraClasses(opt_data) + ((opt_data.submenuTarget) ? ' aui-dropdown2-sub-trigger' : '') + ((opt_data.isDisabled) ? ' aui-dropdown2-disabled' : '') + '"' + ((opt_data.href) ? ' href="' + soy.$$escapeHtml(opt_data.href) + '"' : '') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' : '') + ((opt_data.submenuTarget) ? ' aria-controls="' + soy.$$escapeHtml(opt_data.submenuTarget) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  aui.dropdown2.menuLink.soyTemplateName = 'aui.dropdown2.menuLink';
}


aui.dropdown2.menuCheckbox = function(opt_data, opt_ignored) {
  return '<span role="menuitemcheckbox" tabindex="-1" class="aui-dropdown2-checkbox' + ((opt_data.isInteractive) ? ' aui-dropdown2-interactive' : '') + ((opt_data.isDisabled) ? ' aui-dropdown2-disabled' : '') + ((opt_data.isChecked) ? ' aui-dropdown2-checked' : '') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.isChecked) ? ' aria-checked="' + soy.$$escapeHtml(opt_data.isChecked) + '"' : ' aria-checked="false"') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</span>';
};
if (goog.DEBUG) {
  aui.dropdown2.menuCheckbox.soyTemplateName = 'aui.dropdown2.menuCheckbox';
}


aui.dropdown2.menuRadio = function(opt_data, opt_ignored) {
  return '<span role="menuitemradio" tabindex="-1" class="aui-dropdown2-radio' + ((opt_data.isInteractive) ? ' aui-dropdown2-interactive' : '') + ((opt_data.isDisabled) ? ' aui-dropdown2-disabled' : '') + ((opt_data.isChecked) ? ' aui-dropdown2-checked' : '') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.isChecked) ? ' aria-checked="' + soy.$$escapeHtml(opt_data.isChecked) + '"' : ' aria-checked="false"') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</span>';
};
if (goog.DEBUG) {
  aui.dropdown2.menuRadio.soyTemplateName = 'aui.dropdown2.menuRadio';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/form.soy' */
// This file was automatically generated from form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.form.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.form == 'undefined') { aui.form = {}; }


aui.form.form = function(opt_data, opt_ignored) {
  return '<form' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui' + ((opt_data.isUnsectioned) ? ' unsectioned' : '') + ((opt_data.isLongLabels) ? ' long-label' : '') + ((opt_data.isTopLabels) ? ' top-label' : '') + aui.renderExtraClasses(opt_data) + '" action="' + soy.$$escapeHtml(opt_data.action) + '" method="' + soy.$$escapeHtml(opt_data.method ? opt_data.method : 'post') + '"' + ((opt_data.enctype) ? ' enctype="' + soy.$$escapeHtml(opt_data.enctype) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</form>';
};
if (goog.DEBUG) {
  aui.form.form.soyTemplateName = 'aui.form.form';
}


aui.form.formDescription = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.form.formDescription.soyTemplateName = 'aui.form.formDescription';
}


aui.form.fieldset = function(opt_data, opt_ignored) {
  var output = '';
  var hasClass__soy51 = opt_data.isInline || opt_data.isDateSelect || opt_data.isGroup || opt_data.extraClasses;
  output += '<fieldset' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((hasClass__soy51) ? ' class="' + soy.$$escapeHtml(opt_data.isInline ? 'inline' : opt_data.isDateSelect ? 'date-select' : opt_data.isGroup ? 'group' : '') + aui.renderExtraClasses(opt_data) + '"' : '') + aui.renderExtraAttributes(opt_data) + '><legend><span>' + soy.$$filterNoAutoescape(opt_data.legendContent) + '</span></legend>' + soy.$$filterNoAutoescape(opt_data.content) + '</fieldset>';
  return output;
};
if (goog.DEBUG) {
  aui.form.fieldset.soyTemplateName = 'aui.form.fieldset';
}


aui.form.fieldGroup = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldGroup.soyTemplateName = 'aui.form.fieldGroup';
}


aui.form.buttons = function(opt_data, opt_ignored) {
  return '<div class="buttons-container' + ((opt_data.alignment) ? ' ' + soy.$$escapeHtml(opt_data.alignment) : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><div class="buttons">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  aui.form.buttons.soyTemplateName = 'aui.form.buttons';
}


aui.form.label = function(opt_data, opt_ignored) {
  return '<label' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.forField) ? ' for="' + soy.$$escapeHtml(opt_data.forField) + '"' : '') + ((opt_data.extraClasses) ? ' class="' + aui.renderExtraClasses(opt_data) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + ((opt_data.isRequired) ? '<span class="aui-icon icon-required"></span>' : '') + '</label>';
};
if (goog.DEBUG) {
  aui.form.label.soyTemplateName = 'aui.form.label';
}


aui.form.input = function(opt_data, opt_ignored) {
  var output = '';
  var baseType__soy126 = '';
  switch (opt_data.type) {
    case 'password':
    case 'email':
    case 'url':
    case 'tel':
    case 'search':
      baseType__soy126 += 'text';
      break;
    case 'submit':
    case 'reset':
      baseType__soy126 += 'button';
      break;
    default:
      baseType__soy126 += soy.$$escapeHtml(opt_data.type);
  }
  output += '<input class="' + soy.$$escapeHtml(baseType__soy126) + aui.renderExtraClasses(opt_data) + ((opt_data.icon && baseType__soy126 == 'text') ? ' aui-field-has-icon' : '') + '" type="' + soy.$$escapeHtml(opt_data.type) + '" name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.value) ? ' value="' + soy.$$escapeHtml(opt_data.value) + '"' : '') + (((opt_data.type == 'checkbox' || opt_data.type == 'radio') && opt_data.isChecked) ? ' checked="checked"' : '') + ((baseType__soy126 == 'text' && opt_data.type != 'password' && opt_data.maxLength) ? ' maxlength="' + soy.$$escapeHtml(opt_data.maxLength) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.type != 'password' && opt_data.size) ? ' size="' + soy.$$escapeHtml(opt_data.size) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.placeholderText) ? ' placeholder="' + soy.$$escapeHtml(opt_data.placeholderText) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.autocomplete) ? ' autocomplete="' + soy.$$escapeHtml(opt_data.autocomplete) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '/>' + ((opt_data.icon && baseType__soy126 == 'text') ? aui.icons.icon({icon: opt_data.icon, useIconFont: true, size: 'small'}) : '');
  return output;
};
if (goog.DEBUG) {
  aui.form.input.soyTemplateName = 'aui.form.input';
}


aui.form.renderValidationArguments = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.validationArguments) {
    var argumentList203 = soy.$$getMapKeys(opt_data.validationArguments);
    var argumentListLen203 = argumentList203.length;
    for (var argumentIndex203 = 0; argumentIndex203 < argumentListLen203; argumentIndex203++) {
      var argumentData203 = argumentList203[argumentIndex203];
      output += (argumentData203 == 'required' || argumentData203 == 'pattern' || argumentData203 == 'min' || argumentData203 == 'max' || argumentData203 == 'minlength' || argumentData203 == 'maxlength') ? ' ' + soy.$$escapeHtml(argumentData203) + '="' + soy.$$escapeHtml(opt_data.validationArguments[argumentData203]) + '"' : ' ' + soy.$$escapeHtml('data-aui-validation-' + argumentData203) + '="' + soy.$$escapeHtml(opt_data.validationArguments[argumentData203]) + '"';
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.renderValidationArguments.soyTemplateName = 'aui.form.renderValidationArguments';
}


aui.form.renderTooltipArguments = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.tooltipArguments) {
    var argumentList221 = soy.$$getMapKeys(opt_data.tooltipArguments);
    var argumentListLen221 = argumentList221.length;
    for (var argumentIndex221 = 0; argumentIndex221 < argumentListLen221; argumentIndex221++) {
      var argumentData221 = argumentList221[argumentIndex221];
      output += ' ' + soy.$$escapeHtml('data-aui-notification-' + argumentData221) + '="' + soy.$$escapeHtml(opt_data.tooltipArguments[argumentData221]) + '"';
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.renderTooltipArguments.soyTemplateName = 'aui.form.renderTooltipArguments';
}


aui.form.renderInfoMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.infoMessage) ? ' data-aui-notification-info="' + soy.$$escapeHtml(opt_data.infoMessage) + '"' : '');
};
if (goog.DEBUG) {
  aui.form.renderInfoMessage.soyTemplateName = 'aui.form.renderInfoMessage';
}


aui.form.renderFieldComponentAttribute = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.infoMessage) ? ' data-aui-notification-field' : '') + ((opt_data.validationArguments) ? ' data-aui-validation-field' : '');
};
if (goog.DEBUG) {
  aui.form.renderFieldComponentAttribute.soyTemplateName = 'aui.form.renderFieldComponentAttribute';
}


aui.form.submit = function(opt_data, opt_ignored) {
  return '' + aui.form.button(soy.$$augmentMap(opt_data, {tagName: 'input', inputType: 'submit'}));
};
if (goog.DEBUG) {
  aui.form.submit.soyTemplateName = 'aui.form.submit';
}


aui.form.button = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data, {extraClasses: opt_data.extraClasses, extraAttributes: '' + ((opt_data.name) ? 'name="' + soy.$$escapeHtml(opt_data.name) + '"' : '') + aui.renderExtraAttributes(opt_data)}));
};
if (goog.DEBUG) {
  aui.form.button.soyTemplateName = 'aui.form.button';
}


aui.form.linkButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data, {tagName: 'a', type: 'link', href: opt_data.href ? opt_data.href : opt_data.url, extraClasses: 'cancel' + aui.renderExtraClasses(opt_data), extraAttributes: '' + ((opt_data.name) ? 'name="' + soy.$$escapeHtml(opt_data.name) + '"' : '') + aui.renderExtraAttributes(opt_data)}));
};
if (goog.DEBUG) {
  aui.form.linkButton.soyTemplateName = 'aui.form.linkButton';
}


aui.form.textarea = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<textarea name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '" class="textarea' + aui.renderExtraClasses(opt_data) + ' ' + ((opt_data.icon) ? 'aui-field-has-icon' : '') + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.rows) ? ' rows="' + soy.$$escapeHtml(opt_data.rows) + '"' : '') + ((opt_data.cols) ? ' cols="' + soy.$$escapeHtml(opt_data.cols) + '"' : '') + ((opt_data.autocomplete) ? ' autocomplete="' + soy.$$escapeHtml(opt_data.autocomplete) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + ((opt_data.placeholderText) ? ' placeholder="' + soy.$$escapeHtml(opt_data.placeholderText) + '"' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '>' + ((opt_data.value) ? soy.$$escapeHtml(opt_data.value) : '') + '</textarea>' + ((opt_data.icon) ? aui.icons.icon({icon: opt_data.icon, useIconFont: true, size: 'small'}) : '');
};
if (goog.DEBUG) {
  aui.form.textarea.soyTemplateName = 'aui.form.textarea';
}


aui.form.select = function(opt_data, opt_ignored) {
  var output = '<select' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '" class="' + soy.$$escapeHtml(opt_data.isMultiple ? 'multi-select' : 'select') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.size) ? ' size="' + soy.$$escapeHtml(opt_data.size) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + ((opt_data.isMultiple) ? ' multiple' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '>';
  var optionList375 = opt_data.options;
  var optionListLen375 = optionList375.length;
  for (var optionIndex375 = 0; optionIndex375 < optionListLen375; optionIndex375++) {
    var optionData375 = optionList375[optionIndex375];
    output += aui.form.optionOrOptgroup(soy.$$augmentMap(optionData375, {defaultValue: opt_data.value}));
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  aui.form.select.soyTemplateName = 'aui.form.select';
}


aui.form.optionOrOptgroup = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.options) {
    output += '<optgroup label="' + soy.$$escapeHtml(opt_data.text) + '"' + ((opt_data.disabled) ? ' disabled' : '') + '>';
    var optionList390 = opt_data.options;
    var optionListLen390 = optionList390.length;
    for (var optionIndex390 = 0; optionIndex390 < optionListLen390; optionIndex390++) {
      var optionData390 = optionList390[optionIndex390];
      output += aui.form.optionOrOptgroup(soy.$$augmentMap(optionData390, {defaultValue: opt_data.defaultValue}));
    }
    output += '</optgroup>';
  } else {
    output += '<option value="' + soy.$$escapeHtml(opt_data.value) + '"' + ((opt_data.selected || opt_data.defaultValue == opt_data.value) ? ' selected' : '') + ((opt_data.disabled) ? ' disabled' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.optionOrOptgroup.soyTemplateName = 'aui.form.optionOrOptgroup';
}


aui.form.value = function(opt_data, opt_ignored) {
  return '<span' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-value' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</span>';
};
if (goog.DEBUG) {
  aui.form.value.soyTemplateName = 'aui.form.value';
}


aui.form.field = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var isCheckboxOrRadio__soy424 = opt_data.type == 'checkbox' || opt_data.type == 'radio';
  var fieldWidthClass__soy425 = opt_data.fieldWidth ? opt_data.fieldWidth + '-field ' : '';
  var fieldClasses__soy426 = fieldWidthClass__soy425 + (opt_data.extraFieldClasses ? opt_data.extraFieldClasses : '');
  output += '<div class="' + ((isCheckboxOrRadio__soy424) ? soy.$$escapeHtml(opt_data.type) : 'field-group') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.labelContent && ! isCheckboxOrRadio__soy424) ? aui.form.label({forField: opt_data.id, isRequired: opt_data.isRequired, content: opt_data.labelContent}) : '');
  switch (opt_data.type) {
    case 'textarea':
      output += aui.form.textarea({id: opt_data.id, name: opt_data.name, value: opt_data.value, rows: opt_data.rows, cols: opt_data.cols, autocomplete: opt_data.autocomplete, placeholderText: opt_data.placeholderText, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy426, icon: opt_data.icon, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments});
      break;
    case 'select':
      output += aui.form.select({id: opt_data.id, name: opt_data.name, value: opt_data.value, options: opt_data.options, isMultiple: opt_data.isMultiple, size: opt_data.size, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy426, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments});
      break;
    case 'value':
      output += aui.form.value({id: opt_data.id, content: '' + soy.$$escapeHtml(opt_data.value), extraClasses: fieldClasses__soy426});
      break;
    case 'text':
    case 'password':
    case 'email':
    case 'url':
    case 'tel':
    case 'search':
    case 'file':
    case 'radio':
    case 'checkbox':
    case 'button':
    case 'submit':
    case 'reset':
      output += aui.form.input({id: opt_data.id, name: opt_data.name, type: opt_data.type, value: opt_data.value, maxLength: opt_data.maxLength, size: opt_data.size, autocomplete: opt_data.autocomplete, placeholderText: opt_data.placeholderText, isChecked: opt_data.isChecked, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy426, icon: opt_data.icon, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments, extraAttributes: opt_data.extraInputAttributes});
      break;
  }
  output += ((opt_data.labelContent && isCheckboxOrRadio__soy424) ? aui.form.label({forField: opt_data.id, isRequired: opt_data.isRequired, content: opt_data.labelContent}) : '') + ((opt_data.descriptionText || opt_data.descriptionContent) ? aui.form.fieldDescription({text: opt_data.descriptionText, content: opt_data.descriptionContent}) : '');
  if (opt_data.errorTexts) {
    var errorList513 = opt_data.errorTexts;
    var errorListLen513 = errorList513.length;
    for (var errorIndex513 = 0; errorIndex513 < errorListLen513; errorIndex513++) {
      var errorData513 = errorList513[errorIndex513];
      output += aui.form.fieldError({message: errorData513, id: opt_data.errorId});
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  aui.form.field.soyTemplateName = 'aui.form.field';
}


aui.form.fieldError = function(opt_data, opt_ignored) {
  return '<div ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="error' + aui.renderExtraClasses(opt_data) + '">' + soy.$$escapeHtml(opt_data.message) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldError.soyTemplateName = 'aui.form.fieldError';
}


aui.form.fieldDescription = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="description' + aui.renderExtraClasses(opt_data) + '">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : (opt_data.message) ? soy.$$escapeHtml(opt_data.message) : soy.$$filterNoAutoescape(opt_data.content)) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldDescription.soyTemplateName = 'aui.form.fieldDescription';
}


aui.form.textField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'text'}));
};
if (goog.DEBUG) {
  aui.form.textField.soyTemplateName = 'aui.form.textField';
}


aui.form.textareaField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'textarea'}));
};
if (goog.DEBUG) {
  aui.form.textareaField.soyTemplateName = 'aui.form.textareaField';
}


aui.form.passwordField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'password'}));
};
if (goog.DEBUG) {
  aui.form.passwordField.soyTemplateName = 'aui.form.passwordField';
}


aui.form.fileField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'file'}));
};
if (goog.DEBUG) {
  aui.form.fileField.soyTemplateName = 'aui.form.fileField';
}


aui.form.selectField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'select'}));
};
if (goog.DEBUG) {
  aui.form.selectField.soyTemplateName = 'aui.form.selectField';
}


aui.form.checkboxField = function(opt_data, opt_ignored) {
  var param565 = '' + ((opt_data.isMatrix) ? '<div class="matrix">' : '');
  var fieldList569 = opt_data.fields;
  var fieldListLen569 = fieldList569.length;
  for (var fieldIndex569 = 0; fieldIndex569 < fieldListLen569; fieldIndex569++) {
    var fieldData569 = fieldList569[fieldIndex569];
    param565 += aui.form.field(soy.$$augmentMap(fieldData569, {type: 'checkbox', labelContent: '' + soy.$$escapeHtml(fieldData569.labelText), extraFieldClasses: opt_data.extraFieldClasses}));
  }
  param565 += ((opt_data.isMatrix) ? '</div>' : '') + ((opt_data.descriptionText || opt_data.descriptionContent || opt_data.errorTexts && opt_data.errorTexts.length) ? aui.form.field({descriptionText: opt_data.descriptionText, descriptionContent: opt_data.descriptionContent, errorTexts: opt_data.errorTexts, isDisabled: false}) : '');
  var output = '' + aui.form.fieldset({legendContent: opt_data.legendContent + (opt_data.isRequired ? '<span class="aui-icon icon-required"></span>' : ''), isGroup: true, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: param565});
  return output;
};
if (goog.DEBUG) {
  aui.form.checkboxField.soyTemplateName = 'aui.form.checkboxField';
}


aui.form.radioField = function(opt_data, opt_ignored) {
  var param593 = '' + ((opt_data.isMatrix) ? '<div class="matrix">' : '');
  var fieldList597 = opt_data.fields;
  var fieldListLen597 = fieldList597.length;
  for (var fieldIndex597 = 0; fieldIndex597 < fieldListLen597; fieldIndex597++) {
    var fieldData597 = fieldList597[fieldIndex597];
    param593 += aui.form.field(soy.$$augmentMap(fieldData597, {type: 'radio', name: opt_data.name ? opt_data.name : opt_data.id, labelContent: '' + soy.$$escapeHtml(fieldData597.labelText), extraFieldClasses: opt_data.extraFieldClasses}));
  }
  param593 += ((opt_data.isMatrix) ? '</div>' : '') + ((opt_data.descriptionText || opt_data.descriptionContent || opt_data.errorTexts && opt_data.errorTexts.length) ? aui.form.field({descriptionText: opt_data.descriptionText, descriptionContent: opt_data.descriptionContent, errorTexts: opt_data.errorTexts, isDisabled: false}) : '');
  var output = '' + aui.form.fieldset({legendContent: opt_data.legendContent + (opt_data.isRequired ? '<span class="aui-icon icon-required"></span>' : ''), isGroup: true, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: param593});
  return output;
};
if (goog.DEBUG) {
  aui.form.radioField.soyTemplateName = 'aui.form.radioField';
}


aui.form.valueField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'value'}));
};
if (goog.DEBUG) {
  aui.form.valueField.soyTemplateName = 'aui.form.valueField';
}


aui.form.emailField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'email'}));
};
if (goog.DEBUG) {
  aui.form.emailField.soyTemplateName = 'aui.form.emailField';
}


aui.form.urlField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'url'}));
};
if (goog.DEBUG) {
  aui.form.urlField.soyTemplateName = 'aui.form.urlField';
}


aui.form.telephoneField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'tel'}));
};
if (goog.DEBUG) {
  aui.form.telephoneField.soyTemplateName = 'aui.form.telephoneField';
}


aui.form.searchField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'search'}));
};
if (goog.DEBUG) {
  aui.form.searchField.soyTemplateName = 'aui.form.searchField';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/group.soy' */
// This file was automatically generated from group.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.group.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.group == 'undefined') { aui.group = {}; }


aui.group.group = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-group' + ((opt_data.isSplit) ? ' aui-group-split' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.group.group.soyTemplateName = 'aui.group.group';
}


aui.group.item = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-item' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.group.item.soyTemplateName = 'aui.group.item';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/labels.soy' */
// This file was automatically generated from labels.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.labels.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.labels == 'undefined') { aui.labels = {}; }


aui.labels.label = function(opt_data, opt_ignored) {
  return '' + ((opt_data.url && opt_data.isCloseable == true) ? '<span' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-label aui-label-closeable aui-label-split' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a class="aui-label-split-main" href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.text) + '</a><span class="aui-label-split-close" >' + aui.labels.closeIcon(opt_data) + '</span></span>' : '<' + soy.$$escapeHtml(opt_data.url ? 'a' : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-label' + ((opt_data.isCloseable) ? ' aui-label-closeable' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.url) ? ' href="' + soy.$$escapeHtml(opt_data.url) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + ((opt_data.isCloseable) ? aui.labels.closeIcon(opt_data) : '') + '</' + soy.$$escapeHtml(opt_data.url ? 'a' : 'span') + '>');
};
if (goog.DEBUG) {
  aui.labels.label.soyTemplateName = 'aui.labels.label';
}


aui.labels.closeIcon = function(opt_data, opt_ignored) {
  return '<span tabindex="0" class="aui-icon aui-icon-close"' + ((opt_data.hasTitle != false) ? ' title="' + aui.labels.closeIconText(opt_data) + '"' : '') + '>' + aui.labels.closeIconText(opt_data) + '</span>';
};
if (goog.DEBUG) {
  aui.labels.closeIcon.soyTemplateName = 'aui.labels.closeIcon';
}


aui.labels.closeIconText = function(opt_data, opt_ignored) {
  return '' + ((opt_data.closeIconText) ? soy.$$escapeHtml(opt_data.closeIconText) : '(' + soy.$$escapeHtml('Remove') + ' ' + soy.$$escapeHtml(opt_data.text) + ')');
};
if (goog.DEBUG) {
  aui.labels.closeIconText.soyTemplateName = 'aui.labels.closeIconText';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/message.soy' */
// This file was automatically generated from message.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.message.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.message == 'undefined') { aui.message = {}; }


aui.message.info = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'info'}));
};
if (goog.DEBUG) {
  aui.message.info.soyTemplateName = 'aui.message.info';
}


aui.message.warning = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'warning'}));
};
if (goog.DEBUG) {
  aui.message.warning.soyTemplateName = 'aui.message.warning';
}


aui.message.error = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'error'}));
};
if (goog.DEBUG) {
  aui.message.error.soyTemplateName = 'aui.message.error';
}


aui.message.success = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'success'}));
};
if (goog.DEBUG) {
  aui.message.success.soyTemplateName = 'aui.message.success';
}


aui.message.hint = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'hint'}));
};
if (goog.DEBUG) {
  aui.message.hint.soyTemplateName = 'aui.message.hint';
}


aui.message.generic = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'generic'}));
};
if (goog.DEBUG) {
  aui.message.generic.soyTemplateName = 'aui.message.generic';
}


aui.message.message = function(opt_data, opt_ignored) {
  var output = '';
  var theTagName__soy21 = opt_data.tagName ? opt_data.tagName : 'div';
  var theType__soy22 = opt_data.type ? opt_data.type : 'generic';
  output += '<' + soy.$$escapeHtml(theTagName__soy21) + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-message aui-message-' + soy.$$escapeHtml(theType__soy22) + ' ' + soy.$$escapeHtml(theType__soy22) + ((opt_data.isCloseable) ? ' closeable' : '') + ((opt_data.isShadowed) ? ' shadowed' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.titleContent) ? '<p class="title"><strong>' + soy.$$filterNoAutoescape(opt_data.titleContent) + '</strong></p>' : '') + soy.$$filterNoAutoescape(opt_data.content) + ((opt_data.isCloseable) ? '<span class="aui-icon icon-close" role="button" tabindex="0"></span>' : '') + '</' + soy.$$escapeHtml(theTagName__soy21) + '>';
  return output;
};
if (goog.DEBUG) {
  aui.message.message.soyTemplateName = 'aui.message.message';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/page.soy' */
// This file was automatically generated from page.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.page.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.page == 'undefined') { aui.page = {}; }


aui.page.document = function(opt_data, opt_ignored, opt_ijData) {
  return '<!DOCTYPE html><html lang="' + soy.$$escapeHtml(opt_ijData.language ? opt_ijData.language : 'en') + '">' + aui.page.documentHTMLContent(opt_data, null, opt_ijData) + '</html>';
};
if (goog.DEBUG) {
  aui.page.document.soyTemplateName = 'aui.page.document';
}


aui.page.documentHTMLContent = function(opt_data, opt_ignored, opt_ijData) {
  var output = '';
  var thePageSize__soy9 = opt_data.pageSize ? opt_data.pageSize : opt_data.focusedPageSize ? opt_data.focusedPageSize : 'xlarge';
  output += '<head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>' + soy.$$escapeHtml(opt_data.windowTitle) + '</title>' + ((opt_data.headContent) ? soy.$$filterNoAutoescape(opt_data.headContent) : '') + '</head><body' + ((opt_data.pageType) ? (opt_data.pageType == 'generic') ? (opt_data.extraClasses) ? ' class="' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : '' : (opt_data.pageType == 'focused') ? ' class="aui-page-focused aui-page-focused-' + soy.$$escapeHtml(thePageSize__soy9) + ' aui-page-size-' + soy.$$escapeHtml(thePageSize__soy9) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : (opt_data.pageType == 'notification') ? ' class="aui-page-notification aui-page-size-' + soy.$$escapeHtml(thePageSize__soy9) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : (opt_data.pageType == 'sidebar') ? ' class="aui-page-sidebar' + soy.$$escapeHtml(opt_data.sidebarState ? ' aui-sidebar-' + opt_data.sidebarState : '') + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : ' class="aui-page-' + soy.$$escapeHtml(opt_data.pageType) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : ' class="' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</body>';
  return output;
};
if (goog.DEBUG) {
  aui.page.documentHTMLContent.soyTemplateName = 'aui.page.documentHTMLContent';
}


aui.page.page = function(opt_data, opt_ignored, opt_ijData) {
  return '<div id="page"><header id="header" role="banner">' + soy.$$filterNoAutoescape(opt_data.headerContent) + '</header><!-- #header --><section id="content" role="main">' + soy.$$filterNoAutoescape(opt_data.contentContent) + '</section><!-- #content --><footer id="footer" role="contentinfo">' + soy.$$filterNoAutoescape(opt_data.footerContent) + '</footer><!-- #footer --></div><!-- #page -->';
};
if (goog.DEBUG) {
  aui.page.page.soyTemplateName = 'aui.page.page';
}


aui.page.header = function(opt_data, opt_ignored, opt_ijData) {
  return ((opt_data.bannerContent) ? '<div class="aui-banner aui-banner-error" role="banner">' + soy.$$filterNoAutoescape(opt_data.bannerContent) + '</div>' : '') + '<nav' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-header aui-dropdown2-trigger-group' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + aui.renderExtraAttributes(opt_data, null, opt_ijData) + ' role="navigation"><div class="aui-header-inner">' + ((opt_data.headerBeforeContent) ? '<div class="aui-header-before">' + soy.$$filterNoAutoescape(opt_data.headerBeforeContent) + '</div>' : '') + '<div class="aui-header-primary"><h1 id="logo" class="aui-header-logo' + ((opt_data.headerLogoImageUrl) ? ' aui-header-logo-custom' : (opt_data.logo) ? ' aui-header-logo-' + soy.$$escapeHtml(opt_data.logo) : '') + '"><a href="' + soy.$$escapeHtml(opt_data.headerLink ? opt_data.headerLink : '/') + '">' + ((opt_data.headerLogoImageUrl) ? '<img src="' + soy.$$escapeHtml(opt_data.headerLogoImageUrl) + '" alt="' + soy.$$escapeHtml(opt_data.headerLogoText) + '" />' : '<span class="aui-header-logo-device">' + soy.$$escapeHtml(opt_data.headerLogoText ? opt_data.headerLogoText : '') + '</span>') + ((opt_data.headerText) ? '<span class="aui-header-logo-text">' + soy.$$escapeHtml(opt_data.headerText) + '</span>' : '') + '</a></h1>' + ((opt_data.primaryNavContent) ? soy.$$filterNoAutoescape(opt_data.primaryNavContent) : '') + '</div>' + ((opt_data.secondaryNavContent) ? '<div class="aui-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryNavContent) + '</div>' : '') + ((opt_data.headerAfterContent) ? '<div class="aui-header-after">' + soy.$$filterNoAutoescape(opt_data.headerAfterContent) + '</div>' : '') + '</div><!-- .aui-header-inner--></nav><!-- .aui-header -->';
};
if (goog.DEBUG) {
  aui.page.header.soyTemplateName = 'aui.page.header';
}


aui.page.pagePanel = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ' class="aui-page-panel' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '><div class="aui-page-panel-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-panel-inner --></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '><!-- .aui-page-panel -->';
};
if (goog.DEBUG) {
  aui.page.pagePanel.soyTemplateName = 'aui.page.pagePanel';
}


aui.page.pagePanelNav = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ' class="aui-page-panel-nav' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '><!-- .aui-page-panel-nav -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelNav.soyTemplateName = 'aui.page.pagePanelNav';
}


aui.page.pagePanelContent = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ' class="aui-page-panel-content' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '><!-- .aui-page-panel-content -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelContent.soyTemplateName = 'aui.page.pagePanelContent';
}


aui.page.pagePanelSidebar = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'aside') + ' class="aui-page-panel-sidebar' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'aside') + '><!-- .aui-page-panel-sidebar -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelSidebar.soyTemplateName = 'aui.page.pagePanelSidebar';
}


aui.page.pagePanelItem = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ' class="aui-page-panel-item' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '><!-- .aui-page-panel-item -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelItem.soyTemplateName = 'aui.page.pagePanelItem';
}


aui.page.pageHeader = function(opt_data, opt_ignored, opt_ijData) {
  return '<header class="aui-page-header' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '><div class="aui-page-header-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-inner --></header><!-- .aui-page-header -->';
};
if (goog.DEBUG) {
  aui.page.pageHeader.soyTemplateName = 'aui.page.pageHeader';
}


aui.page.pageHeaderImage = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-image' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-image -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderImage.soyTemplateName = 'aui.page.pageHeaderImage';
}


aui.page.pageHeaderMain = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-main' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-main -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderMain.soyTemplateName = 'aui.page.pageHeaderMain';
}


aui.page.pageHeaderActions = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-actions' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-actions -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderActions.soyTemplateName = 'aui.page.pageHeaderActions';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/panel.soy' */
// This file was automatically generated from panel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.panel = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-panel' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.panel.soyTemplateName = 'aui.panel';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/table.soy' */
// This file was automatically generated from table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.table = function(opt_data, opt_ignored) {
  return '<table' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.columnsContent) ? soy.$$filterNoAutoescape(opt_data.columnsContent) : '') + ((opt_data.captionContent) ? '<caption>' + soy.$$filterNoAutoescape(opt_data.captionContent) + '</caption>' : '') + ((opt_data.theadContent) ? '<thead>' + soy.$$filterNoAutoescape(opt_data.theadContent) + '</thead>' : '') + ((opt_data.tfootContent) ? '<tfoot>' + soy.$$filterNoAutoescape(opt_data.tfootContent) + '</tfoot>' : '') + ((! opt_data.contentIncludesTbody) ? '<tbody>' : '') + soy.$$filterNoAutoescape(opt_data.content) + ((! opt_data.contentIncludesTbody) ? '</tbody>' : '') + '</table>';
};
if (goog.DEBUG) {
  aui.table.soyTemplateName = 'aui.table';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/tabs.soy' */
// This file was automatically generated from tabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.tabs = function(opt_data, opt_ignored) {
  var output = '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-tabs ' + soy.$$escapeHtml(opt_data.isVertical ? 'vertical-tabs' : 'horizontal-tabs') + ((opt_data.isDisabled) ? ' aui-tabs-disabled' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><ul class="tabs-menu">';
  var itemList19 = opt_data.menuItems;
  var itemListLen19 = itemList19.length;
  for (var itemIndex19 = 0; itemIndex19 < itemListLen19; itemIndex19++) {
    var itemData19 = itemList19[itemIndex19];
    output += aui.tabMenuItem(itemData19);
  }
  output += '</ul>' + soy.$$filterNoAutoescape(opt_data.paneContent) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
  return output;
};
if (goog.DEBUG) {
  aui.tabs.soyTemplateName = 'aui.tabs';
}


aui.tabMenuItem = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="menu-item' + ((opt_data.isActive) ? ' active-tab' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.text) + '</a></li>';
};
if (goog.DEBUG) {
  aui.tabMenuItem.soyTemplateName = 'aui.tabMenuItem';
}


aui.tabPane = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="tabs-pane' + ((opt_data.isActive) ? ' active-pane' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.tabPane.soyTemplateName = 'aui.tabPane';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/trigger.soy' */
// This file was automatically generated from trigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.trigger.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.trigger == 'undefined') { aui.trigger = {}; }


aui.trigger.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '" ' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '" aria-controls="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-haspopup="true" role="button"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.container) ? ' data-container="' + soy.$$escapeHtml(opt_data.container) + '"' : '') + (((! opt_data.tagName || opt_data.tagName == 'a') && (! opt_data.extraAttributes || Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]' && ! opt_data.extraAttributes.href && ! opt_data.extraAttributes.tabindex || (! opt_data.extraAttributes.href || ! opt_data.extraAttributes.tabindex))) ? ' tabindex="0"' : '') + ' data-aui-trigger' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + ((! (opt_data.showIcon == false)) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClasses ? opt_data.iconClasses : 'aui-icon-dropdown') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) : '') + '</span>' : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + '>';
};
if (goog.DEBUG) {
  aui.trigger.trigger.soyTemplateName = 'aui.trigger.trigger';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/toolbar.soy' */
// This file was automatically generated from toolbar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.toolbar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.toolbar == 'undefined') { aui.toolbar = {}; }


aui.toolbar.toolbar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.toolbar.toolbar.soyTemplateName = 'aui.toolbar.toolbar';
}


aui.toolbar.split = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-split toolbar-split-' + soy.$$escapeHtml(opt_data.split) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.toolbar.split.soyTemplateName = 'aui.toolbar.split';
}


aui.toolbar.group = function(opt_data, opt_ignored) {
  return '<ul' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</ul>';
};
if (goog.DEBUG) {
  aui.toolbar.group.soyTemplateName = 'aui.toolbar.group';
}


aui.toolbar.item = function(opt_data, opt_ignored) {
  return '<li ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-item' + ((opt_data.isPrimary) ? ' primary' : '') + ((opt_data.isActive) ? ' active' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</li>';
};
if (goog.DEBUG) {
  aui.toolbar.item.soyTemplateName = 'aui.toolbar.item';
}


aui.toolbar.trigger = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-trigger' + aui.renderExtraClasses(opt_data) + '" href="' + soy.$$escapeHtml(opt_data.url ? opt_data.url : '#') + '"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</a>';
};
if (goog.DEBUG) {
  aui.toolbar.trigger.soyTemplateName = 'aui.toolbar.trigger';
}


aui.toolbar.button = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.toolbar.item({isActive: opt_data.isActive, isPrimary: opt_data.isPrimary, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.toolbar.trigger({url: opt_data.url, title: opt_data.title, content: '' + ((opt_data.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClass) + '"></span>' : '') + ((opt_data.text) ? '<span class="trigger-text">' + soy.$$escapeHtml(opt_data.text) + '</span>' : '')})});
};
if (goog.DEBUG) {
  aui.toolbar.button.soyTemplateName = 'aui.toolbar.button';
}


aui.toolbar.link = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.item({id: opt_data.id, extraClasses: 'toolbar-item-link' + aui.renderExtraClasses(opt_data), extraAttributes: opt_data.extraAttributes, content: '' + aui.toolbar.trigger({url: opt_data.url, content: '' + soy.$$escapeHtml(opt_data.text)})});
};
if (goog.DEBUG) {
  aui.toolbar.link.soyTemplateName = 'aui.toolbar.link';
}


aui.toolbar.dropdownInternal = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.item({isPrimary: opt_data.isPrimary, id: opt_data.id, extraClasses: '' + soy.$$filterNoAutoescape(opt_data.itemClass) + aui.renderExtraClasses(opt_data), extraAttributes: opt_data.extraAttributes, content: '' + ((opt_data.splitButtonContent) ? soy.$$filterNoAutoescape(opt_data.splitButtonContent) : '') + aui.dropdown.parent({content: '' + aui.dropdown.trigger({extraClasses: 'toolbar-trigger', accessibilityText: opt_data.text}) + aui.dropdown.menu({content: opt_data.dropdownItemsContent})})});
};
if (goog.DEBUG) {
  aui.toolbar.dropdownInternal.soyTemplateName = 'aui.toolbar.dropdownInternal';
}


aui.toolbar.dropdown = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.dropdownInternal({isPrimary: opt_data.isPrimary, id: opt_data.id, itemClass: 'toolbar-dropdown', extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, text: opt_data.text, dropdownItemsContent: opt_data.dropdownItemsContent});
};
if (goog.DEBUG) {
  aui.toolbar.dropdown.soyTemplateName = 'aui.toolbar.dropdown';
}


aui.toolbar.splitButton = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.dropdownInternal({isPrimary: opt_data.isPrimary, id: opt_data.id, itemClass: 'toolbar-splitbutton', extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, dropdownItemsContent: opt_data.dropdownItemsContent, splitButtonContent: '' + aui.toolbar.trigger({url: opt_data.url, content: '' + soy.$$escapeHtml(opt_data.text)})});
};
if (goog.DEBUG) {
  aui.toolbar.splitButton.soyTemplateName = 'aui.toolbar.splitButton';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/toolbar2.soy' */
// This file was automatically generated from toolbar2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.toolbar2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.toolbar2 == 'undefined') { aui.toolbar2 = {}; }


aui.toolbar2.toolbar2 = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ' role="toolbar"><div class="aui-toolbar2-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  aui.toolbar2.toolbar2.soyTemplateName = 'aui.toolbar2.toolbar2';
}


aui.toolbar2.item = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2-' + soy.$$escapeHtml(opt_data.item) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.toolbar2.item.soyTemplateName = 'aui.toolbar2.item';
}


aui.toolbar2.group = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.toolbar2.group.soyTemplateName = 'aui.toolbar2.group';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/progress-tracker.soy' */
// This file was automatically generated from progress-tracker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.progressTracker.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.progressTracker == 'undefined') { aui.progressTracker = {}; }


aui.progressTracker.progressTracker = function(opt_data, opt_ignored) {
  var output = '<ol' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-progress-tracker' + ((opt_data.isInverted) ? ' aui-progress-tracker-inverted' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>';
  var param18 = '';
  var currentStepList19 = opt_data.steps;
  var currentStepListLen19 = currentStepList19.length;
  for (var currentStepIndex19 = 0; currentStepIndex19 < currentStepListLen19; currentStepIndex19++) {
    var currentStepData19 = currentStepList19[currentStepIndex19];
    if (currentStepData19['isCurrent']) {
      var stepList22 = opt_data.steps;
      var stepListLen22 = stepList22.length;
      for (var stepIndex22 = 0; stepIndex22 < stepListLen22; stepIndex22++) {
        var stepData22 = stepList22[stepIndex22];
        param18 += aui.progressTracker.step(soy.$$augmentMap(stepData22, {width: Math.round(100 / opt_data.steps.length * 10000) / 10000, href: stepIndex22 < currentStepIndex19 ? stepData22['href'] : null}));
      }
    }
  }
  output += aui.progressTracker.content({steps: opt_data.steps, content: param18});
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  aui.progressTracker.progressTracker.soyTemplateName = 'aui.progressTracker.progressTracker';
}


aui.progressTracker.content = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.content != '') {
    output += soy.$$filterNoAutoescape(opt_data.content);
  } else {
    var stepList36 = opt_data.steps;
    var stepListLen36 = stepList36.length;
    for (var stepIndex36 = 0; stepIndex36 < stepListLen36; stepIndex36++) {
      var stepData36 = stepList36[stepIndex36];
      output += aui.progressTracker.step(soy.$$augmentMap(stepData36, {isCurrent: stepIndex36 == 0, width: Math.round(100 / opt_data.steps.length * 10000) / 10000, href: null}));
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.progressTracker.content.soyTemplateName = 'aui.progressTracker.content';
}


aui.progressTracker.step = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-progress-tracker-step' + ((opt_data.isCurrent) ? ' aui-progress-tracker-step-current' : '') + aui.renderExtraClasses(opt_data) + '" style="width: ' + soy.$$escapeHtml(opt_data.width) + '%;"' + aui.renderExtraAttributes(opt_data) + '><' + soy.$$escapeHtml(opt_data.href ? 'a' : 'span') + ((opt_data.href) ? ' href="' + soy.$$escapeHtml(opt_data.href) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</' + soy.$$escapeHtml(opt_data.href ? 'a' : 'span') + '></li>';
};
if (goog.DEBUG) {
  aui.progressTracker.step.soyTemplateName = 'aui.progressTracker.step';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/expander.soy' */
// This file was automatically generated from expander.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.expander.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.expander == 'undefined') { aui.expander = {}; }


aui.expander.content = function(opt_data, opt_ignored) {
  return '<div id="' + soy.$$escapeHtml(opt_data.id) + '" class="aui-expander-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.initiallyExpanded) ? ' aria-expanded="' + soy.$$escapeHtml(opt_data.initiallyExpanded) + '"' : '') + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.expander.content.soyTemplateName = 'aui.expander.content';
}


aui.expander.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tag ? opt_data.tag : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.replaceText) ? ' data-replace-text="' + soy.$$escapeHtml(opt_data.replaceText) + '"' : '') + ((opt_data.replaceSelector) ? ' data-replace-selector="' + soy.$$escapeHtml(opt_data.replaceSelector) + '"' : '') + ' class="aui-expander-trigger' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ' aria-controls="' + soy.$$escapeHtml(opt_data.contentId) + '"' + ((opt_data.collapsible) ? ' data-collapsible="' + soy.$$escapeHtml(opt_data.collapsible) + '"' : '') + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tag ? opt_data.tag : 'div') + '>';
};
if (goog.DEBUG) {
  aui.expander.trigger.soyTemplateName = 'aui.expander.trigger';
}


aui.expander.revealText = function(opt_data, opt_ignored) {
  return '' + aui.expander.content({id: opt_data.contentId, content: '' + soy.$$escapeHtml(opt_data.contentContent) + aui.expander.trigger({id: opt_data.triggerId, contentId: opt_data.contentId, tag: 'a', content: '<span class=\'reveal-text-trigger-text\'>Show more</span>', replaceSelector: '.reveal-text-trigger-text', replaceText: 'Show less', extraAttributes: opt_data.triggerExtraAttributes, extraClasses: ((opt_data.triggerExtraClasses) ? soy.$$escapeHtml(opt_data.triggerExtraClasses) + '  ' : '') + ' aui-expander-reveal-text'}), extraAttributes: opt_data.contentExtraAttributes, extraClasses: opt_data.contentExtraClasses});
};
if (goog.DEBUG) {
  aui.expander.revealText.soyTemplateName = 'aui.expander.revealText';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/avatar.soy' */
// This file was automatically generated from avatar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.avatar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.avatar == 'undefined') { aui.avatar = {}; }


aui.avatar.avatar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-avatar aui-avatar-' + soy.$$escapeHtml(opt_data.size) + soy.$$escapeHtml(opt_data.isProject ? ' aui-avatar-project' : '') + soy.$$escapeHtml(opt_data.badgeContent ? ' aui-avatar-badged' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.avatarImageUrl) + '"' + ((opt_data.accessibilityText) ? ' alt="' + soy.$$escapeHtml(opt_data.accessibilityText) + '"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.imageClasses) ? ' class="' + soy.$$escapeHtml(opt_data.imageClasses) + '"' : '') + ' /></span>' + ((opt_data.badgeContent) ? soy.$$filterNoAutoescape(opt_data.badgeContent) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.avatar.avatar.soyTemplateName = 'aui.avatar.avatar';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/icons.soy' */
// This file was automatically generated from icons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.icons.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.icons == 'undefined') { aui.icons = {}; }


aui.icons.icon = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-icon' + ((opt_data.useIconFont) ? ' aui-icon-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'small') : '') + ' aui' + soy.$$escapeHtml(opt_data.useIconFont ? '-iconfont' : '-icon') + soy.$$escapeHtml(opt_data.iconFontSet ? '-' + opt_data.iconFontSet : '') + '-' + soy.$$escapeHtml(opt_data.icon) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.accessibilityText) ? soy.$$escapeHtml(opt_data.accessibilityText) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.icons.icon.soyTemplateName = 'aui.icons.icon';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/lozenges.soy' */
// This file was automatically generated from lozenges.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.lozenges.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.lozenges == 'undefined') { aui.lozenges = {}; }


aui.lozenges.lozenge = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ' class="aui-lozenge' + soy.$$escapeHtml(opt_data.type ? ' aui-lozenge-' + opt_data.type : '') + soy.$$escapeHtml(opt_data.isSubtle ? ' aui-lozenge-subtle' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.maxLength) ? soy.$$truncate(soy.$$escapeHtml(opt_data.text), opt_data.maxLength, true) : soy.$$escapeHtml(opt_data.text)) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.lozenges.lozenge.soyTemplateName = 'aui.lozenges.lozenge';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/sidebar.soy' */
// This file was automatically generated from sidebar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.sidebar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.sidebar == 'undefined') { aui.sidebar = {}; }


aui.sidebar.sidebar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.state) ? ' aria-expanded="' + ((opt_data.state == 'collapsed') ? 'false' : 'true') + '"' : '') + ' class="aui-sidebar ' + ((opt_data.isAnimated) ? 'aui-is-animated' : '') + aui.renderExtraClasses(opt_data) + '" ' + ((opt_data.isResponsive == false) ? 'data-aui-responsive="false"' : '') + aui.renderExtraAttributes(opt_data) + '><div class="aui-sidebar-wrapper"><div class="aui-sidebar-body">' + soy.$$filterNoAutoescape(opt_data.headerContent) + soy.$$filterNoAutoescape(opt_data.content) + '</div><div class="aui-sidebar-footer">' + ((opt_data.footerContent) ? soy.$$filterNoAutoescape(opt_data.footerContent) : (opt_data.settingsButtonUrl && opt_data.settingsText) ? '<a href="' + soy.$$escapeHtml(opt_data.settingsButtonUrl) + '" class="aui-button aui-button-subtle aui-sidebar-settings-button' + ((opt_data.isSettingsButtonSelected) ? ' aui-sidebar-settings-selected' : '') + '" data-tooltip="' + soy.$$escapeHtml(opt_data.settingsTooltip ? opt_data.settingsTooltip : opt_data.settingsText) + '"><span class="aui-icon aui-icon-small aui-iconfont-configure"></span><span class="aui-button-label">' + soy.$$escapeHtml(opt_data.settingsText) + '</span></a>' : '') + '<a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="' + soy.$$escapeHtml('Expand sidebar ( [ )') + '" href="#"><span class="aui-icon aui-icon-small"></span></a></div>' + ((opt_data.isResizable) ? '<div class="aui-sidebar-handle"></div>' : '') + '</div></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.sidebar.sidebar.soyTemplateName = 'aui.sidebar.sidebar';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-constants', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/constants.js' */
("undefined"===typeof window?global:window).__fa2d609d3773596cc2b702b68678a39c=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={INPUT_SUFFIX:"-input"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-toggle', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/toggle.js' */
("undefined"===typeof window?global:window).__1840a42d6d7e6ab244ecf3cf5bcc56cd=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function c(a){return a._input||(a._input=a.querySelector("input"))}function f(a,b){c(b).removeAttribute(a)}function h(a,b,d){c(b).setAttribute(a,d.newValue)}function i(a){return{removed:f.bind(this,a),fallback:h.bind(this,a)}}"use strict";__e573296a636ce4ee054d5d3b9c8823fb;__8a6820c3d0bc5d638a8490d849a5b750;var g=__29fa312a51517f20df339a1900640e1d,d=e(__307d3e18fd611f85395c67cddeb1fe24),
k=e(__8339408c10b0a9052af9f3aad7b3a4e8),l=e(__f52b7059926ab2bdcd0aee12b4bc782b),m=e(__c1ce1f1e3e613f564fc234ff043570f1),n=__fa2d609d3773596cc2b702b68678a39c,j={removed:function(a){f.call(this,"form",a);a._formId=null},fallback:function(a,b){h.call(this,"form",a,b);a._formId=b.newValue}},o={removed:f.bind(void 0,"id"),fallback:function(a,b){c(a).setAttribute("id",""+b.newValue+n.INPUT_SUFFIX)}};(0,m.default)("aui-toggle",{template:(0,l.default)('<input type="checkbox" class="aui-toggle-input">','<span class="aui-toggle-view">',
'<span class="aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success"></span>','<span class="aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog"></span>',"</span>"),created:function(a){a._input=c(a);a._tick=a.querySelector(".aui-toggle-tick");a._cross=a.querySelector(".aui-toggle-cross");(0,d.default)(a._input).tooltip({title:function(){return this.checked?this.getAttribute("tooltip-on"):this.getAttribute("tooltip-off")},gravity:"s",hoverable:!1});a._input.addEventListener("keydown",
function(b){a.busy&&b.keyCode===AJS.keyCode.SPACE&&b.preventDefault()});-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&a._input.addEventListener("click",function(b){a.busy&&b.preventDefault()})},attached:function(a){(0,k.default)(a).attributeExists("label")},events:{click:function(a,b){!a.disabled&&(!a.busy&&b.target!==a._input)&&a._input.click();(0,g.setBooleanAttribute)(a,"checked",c(a).checked)}},attributes:{id:o,checked:{removed:function(a){f.call(this,"checked",a);c(a).checked=!1},
fallback:function(a,b){h.call(this,"checked",a,b);c(a).checked=!0}},disabled:i("disabled"),form:j,name:i("name"),value:i("value"),"tooltip-on":{value:"On",fallback:function(a,b){c(a).setAttribute("tooltip-on",b.newValue||"On")}},"tooltip-off":{value:"Off",fallback:function(a,b){c(a).setAttribute("tooltip-off",b.newValue||"Off")}},label:{removed:function(a){c(a).removeAttribute("aria-label")},
fallback:function(a,b){c(a).setAttribute("aria-label",b.newValue)}}},prototype:{focus:function(){this._input.focus();return this},get checked(){return this._input.checked},set checked(a){this._input.checked=a;return(0,g.setBooleanAttribute)(this,"checked",a)},get disabled(){return this._input.disabled},set disabled(a){return(0,g.setBooleanAttribute)(this,"disabled",a)},get form(){return document.getElementById(this._formId)},set form(a){j.fallback.call(this,this,{newValue:a||null});return this.form},
get name(){return this._input.name},set name(a){this.setAttribute("name",a);return a},get value(){return this._input.value},set value(a){this.setAttribute("value",null===a?"":a);return a},get busy(){return"true"===this._input.getAttribute("aria-busy")},set busy(a){(0,g.setBooleanAttribute)(this,"busy",a);a?(this._input.setAttribute("aria-busy","true"),this._input.indeterminate=!0,this.checked?((0,d.default)(this._input).addClass("indeterminate-checked"),(0,d.default)(this._tick).spin({zIndex:null})):
(0,d.default)(this._cross).spin({zIndex:null,color:"black"})):((0,d.default)(this._input).removeClass("indeterminate-checked"),this._input.indeterminate=!1,this._input.removeAttribute("aria-busy"),(0,d.default)(this._cross).spinStop(),(0,d.default)(this._tick).spinStop());var b=!!a;this.id&&Array.prototype.forEach.call(document.querySelectorAll('aui-label[for="'+this.id+'"]'),function(a){a.disabled=b});return a}}});return{}}.call(this);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-common-jsd-entry-chunk', location = 'common-jsd-entry-chunk.bundle.js' */
!function(e){function a(r){if(d[r])return d[r].exports;var t=d[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var r=window.sdJsonp;window.sdJsonp=function(d,c,s){for(var i,n,o,f=0,b=[];f<d.length;f++){if(n=d[f],t[n])b.push(t[n][0]);t[n]=0}for(i in c)if(Object.prototype.hasOwnProperty.call(c,i))e[i]=c[i];if(r)r(d,c,s);for(;b.length;)b.shift()();if(s)for(f=0;f<s.length;f++)o=a(a.s=s[f]);return o};var d={},t={47:0};a.e=function(e){function r(){s.onerror=s.onload=null,clearTimeout(i);var a=t[e];if(0!==a){if(a)a[1](new Error("Loading chunk "+e+" failed."));t[e]=void 0}}if(0===t[e])return Promise.resolve();if(t[e])return t[e][2];var d=new Promise(function(a,r){t[e]=[a,r]});t[e][2]=d;var c=document.getElementsByTagName("head")[0],s=document.createElement("script");if(s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,a.nc)s.setAttribute("nonce",a.nc);s.src=a.p+"context-"+({0:"sd.agent.reports.custom",1:"sd.agent.reports.kb.requests.resolved",2:"sd.agent.reports.kb.requests.deflected",3:"sd.admin.languagesupport",4:"sd.agent.reports.csat",5:"sd.agent.reports.workload",6:"sd.agent.reports.sla",7:"sd.project.reports",8:"sd.reports.addon",9:"sd.admin.widget.addon.installer",10:"sd.admin.widget",11:"sd.admin.addon",12:"rlabs.objectschema.manage",13:"rlabs.configure",14:"insight.pages.context",15:"jira.view.issue",16:"sd.project.admin",17:"sd.project.admin.registry",18:"sd.project.settings.automation.modules",19:"sd.project.view",20:"atl.dashboard",21:"atl.general",22:"jira.heritage.form.dialog",23:"sd.project.sidebar.content",24:"sd.project.legacy.issue.view",25:"sd.project.settings.request.forms.workflow.bridge",26:"sd.project.view.registry",27:"jira.workflow.view",28:"jira.admin.conf",29:"jira.create.issue",30:"sd.project.queues.legacy.issue.view.bridge",31:"jira.view.issue.asset.unlicensed",32:"jira.heritage.form.dialog.asset.unlicensed",33:"sd.project.report.legacy.issue.view.bridge",34:"sd.project.config.checker.bridge",35:"sd.admin.email.requests",36:"jira.create.issue.asset.unlicensed",37:"atl.general.asset.unlicensed",38:"jira.admin",39:"sd.project.queues.bridge",40:"cmdb.field.list.view",41:"jql.field.renderer.bridge",42:"jira.heritage.sd.sidebar.integration",43:"jql.editor.bridge",44:"sd.agent.unlicensed",45:"cmdb.field.jsw.board.view",46:"asset.tracking.field.config"}[e]||e)+"-"+{0:"7caa22f6c31e0534646d",1:"6164256b5eb19149a058",2:"af1294df84833cc24682",3:"13754ce06521a5cbd09a",4:"f0d573e44bef0c3ef82a",5:"f612cb33f228c6956815",6:"e5a2f1c0f2901caf7077",7:"07a94bb26cc37573f03a",8:"f5eb27d63061d61c2ddb",9:"2adab86acbc49f3b5575",10:"4c6071bca80ae6cc9795",11:"4fd858dbeafb4cfc5e82",12:"8bf2899fafff261906c4",13:"5bbdd60d47121f5a8a03",14:"110bb8d83c281a1ed9a1",15:"9b36f7a521c47e11bb8b",16:"5e0e01155b3d36733d9d",17:"5eb5b240871a2423b6fa",18:"4920017e751825463f12",19:"aa82d9025a0b3522a7aa",20:"a32706cdc351e5b2ab5b",21:"ee9f28dced16aa38e1cb",22:"cb6982a30a628cab8146",23:"61bda09b552b6d7ea269",24:"22981b6f43f8cc0eb5b0",25:"73c207d4f1a06fd86f86",26:"ce208d4958946969a876",27:"1e87924ff0055c4f5c22",28:"e3d3b27e461031df7b78",29:"c855c70943be3f464f60",30:"8a6bb6f0c2e0dd57c2ce",31:"c5c48167ff617315fc80",32:"988a31fef65f7c1fda6a",33:"d53a5e5c59cdff80cd35",34:"f793b880e2b7e6dfed8f",35:"296d9dcd005b30686307",36:"cb5ddea6fdf8c109396f",37:"f6654d6719c004c48341",38:"f8ce06ce556d95ecd463",39:"f4838e3ed65f6f1ac4aa",40:"a57e18d8045aa4474b45",41:"02685797d8ee3e7cbb3b",42:"7681c5ded36f018cd84b",43:"5c64d17b6b3d42bd85da",44:"df6dee208b6e41ef1a98",45:"c1a5a09e586b05fe9630",46:"075274ab85528b55c047"}[e]+".js?locale=" + __webpack_public_path_locale__;var i=setTimeout(r,12e4);return s.onerror=s.onload=r,c.appendChild(s),d},a.m=e,a.c=d,a.i=function(e){return e},a.d=function(e,r,d){if(!a.o(e,r))Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:d})},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="",a.oe=function(e){throw console.error(e),e}}([]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-cmdb.field.jsw.board.view', location = 'cmdb.field.jsw.board.view.bundle.js' */
sdJsonp([45],{11:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){if("object"==typeof window)n=window}t.exports=n},1211:function(t,e,n){n(8),t.exports=n(522)},14:function(t,e,n){(function(e,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(e,n){!0?t.exports=n():"function"==typeof define&&define.amd?define(n):e.ES6Promise=n()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){R=t}function s(t){V=t}function u(){return function(){return e.nextTick(h)}}function c(){if(void 0!==Q)return function(){Q(h)};else return a()}function f(){var t=0,e=new $(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=h,function(){return t.port2.postMessage(0)}}function a(){var t=setTimeout;return function(){return t(h,1)}}function h(){for(var t=0;t<I;t+=2){(0,nt[t])(nt[t+1]),nt[t]=void 0,nt[t+1]=void 0}I=0}function p(){try{var t=n(16);return Q=t.runOnLoop||t.runOnContext,c()}catch(t){return a()}}function v(t,e){var n=arguments,r=this,i=new this.constructor(_);if(void 0===i[it])Y(i);var o=r._state;if(o)!function(){var t=n[o-1];V(function(){return L(o,i,t,r._result)})}();else M(r,i,t,e);return i}function d(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(_);return E(n,t),n}function _(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(t){return ct.error=t,ct}}function g(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function b(t,e,n){V(function(t){var r=!1,i=g(n,e,function(n){if(!r)if(r=!0,e!==n)E(t,n);else j(t,n)},function(e){if(!r)r=!0,x(t,e)},"Settle: "+(t._label||" unknown promise"));if(!r&&i)r=!0,x(t,i)},t)}function T(t,e){if(e._state===st)j(t,e._result);else if(e._state===ut)x(t,e._result);else M(e,void 0,function(e){return E(t,e)},function(e){return x(t,e)})}function A(t,e,n){if(e.constructor===t.constructor&&n===v&&e.constructor.resolve===d)T(t,e);else if(n===ct)x(t,ct.error),ct.error=null;else if(void 0===n)j(t,e);else if(i(n))b(t,e,n);else j(t,e)}function E(e,n){if(e===n)x(e,y());else if(t(n))A(e,n,w(n));else j(e,n)}function S(t){if(t._onerror)t._onerror(t._result);O(t)}function j(t,e){if(t._state===ot)if(t._result=e,t._state=st,0!==t._subscribers.length)V(O,t)}function x(t,e){if(t._state===ot)t._state=ut,t._result=e,V(S,t)}function M(t,e,n,r){var i=t._subscribers,o=i.length;if(t._onerror=null,i[o]=e,i[o+st]=n,i[o+ut]=r,0===o&&t._state)V(O,t)}function O(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)if(r=e[s],i=e[s+n],r)L(n,r,i,o);else i(o);t._subscribers.length=0}}function P(){this.error=null}function C(t,e){try{return t(e)}catch(t){return ft.error=t,ft}}function L(t,e,n,r){var o=i(n),s=void 0,u=void 0,c=void 0,f=void 0;if(o){if((s=C(n,r))===ft)f=!0,u=s.error,s.error=null;else c=!0;if(e===s)return void x(e,m())}else s=r,c=!0;if(e._state!==ot);else if(o&&c)E(e,s);else if(f)x(e,u);else if(t===st)j(e,s);else if(t===ut)x(e,s)}function k(t,e){try{e(function(e){E(t,e)},function(e){x(t,e)})}catch(e){x(t,e)}}function F(){return lt++}function Y(t){t[it]=lt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function D(t,e){if(this._instanceConstructor=t,this.promise=new t(_),!this.promise[it])Y(this.promise);if(H(e)){if(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length)j(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)j(this.promise,this._result)}else x(this.promise,J())}function J(){return new Error("Array Methods must be provided an Array")}function K(t){return new D(this,t).promise}function N(t){var e=this;if(!H(t))return new e(function(t,e){return e(new TypeError("You must pass an array to race."))});else return new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)})}function U(t){var e=this,n=new e(_);return x(n,t),n}function W(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){if(this[it]=F(),this._result=this._state=void 0,this._subscribers=[],_!==t)"function"!=typeof t&&W(),this instanceof z?k(this,t):q()}function B(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=z}var G=void 0;if(!Array.isArray)G=function(t){return"[object Array]"===Object.prototype.toString.call(t)};else G=Array.isArray;var H=G,I=0,Q=void 0,R=void 0,V=function(t,e){if(nt[I]=t,nt[I+1]=e,2===(I+=2))if(R)R(h);else rt()},X="undefined"!=typeof window?window:void 0,Z=X||{},$=Z.MutationObserver||Z.WebKitMutationObserver,tt="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),rt=void 0;if(tt)rt=u();else if($)rt=f();else if(et)rt=l();else if(void 0===X)rt=p();else rt=a();var it=Math.random().toString(36).substring(16),ot=void 0,st=1,ut=2,ct=new P,ft=new P,lt=0;return D.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ot&&n<t;n++)this._eachEntry(e[n],n)},D.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===d){var i=w(t);if(i===v&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===z){var o=new n(_);A(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},D.prototype._settledAt=function(t,e,n){var r=this.promise;if(r._state===ot)if(this._remaining--,t===ut)x(r,n);else this._result[e]=n;if(0===this._remaining)j(r,this._result)},D.prototype._willSettleAt=function(t,e){var n=this;M(t,void 0,function(t){return n._settledAt(st,e,t)},function(t){return n._settledAt(ut,e,t)})},z.all=K,z.race=N,z.resolve=d,z.reject=U,z._setScheduler=o,z._setAsap=s,z._asap=V,z.prototype={constructor:z,then:v,catch:function(t){return this.then(null,t)}},z.polyfill=B,z.Promise=z,z})}).call(e,n(15),n(11))},15:function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(a===clearTimeout)return clearTimeout(t);if((a===r||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}function s(){if(d&&p){if(d=!1,p.length)v=p.concat(v);else _=-1;if(v.length)u()}}function u(){if(!d){var t=i(s);d=!0;for(var e=v.length;e;){for(p=v,v=[];++_<e;)if(p)p[_].run();_=-1,e=v.length}p=null,d=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function f(){}var l,a,h=t.exports={};!function(){try{if("function"==typeof setTimeout)l=setTimeout;else l=n}catch(t){l=n}try{if("function"==typeof clearTimeout)a=clearTimeout;else a=r}catch(t){a=r}}();var p,v=[],d=!1,_=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(v.push(new c(t,e)),1===v.length&&!d)i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.prependListener=f,h.prependOnceListener=f,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},16:function(t,e){},190:function(t,e){},522:function(t,e,n){n(190)},8:function(t,e,n){"use strict";t.exports=n(14).polyfill()}},[1211]);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-cards', location = 'jira-agile-module/includes/js/rapid/ui/work/Card.soy' */
// This file was automatically generated from Card.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.card.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.card == 'undefined') { GH.tpl.rapid.card = {}; }


GH.tpl.rapid.card.card = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-issue ghx-newcard js-detailview js-issue' + ((! opt_data.isUseIssueHierarchyEnabled && opt_data.issue.parentKey) ? ' ghx-issue-subtask' : (opt_data.isUseIssueHierarchyEnabled && opt_data.issue.typeHierarchyLevel == -1) ? ' ghx-issue-subtask' : ' js-parent-drag') + ((! opt_data.isRankable) ? ' ghx-not-rankable' : '') + ((opt_data.issue.done) ? ' ghx-done' : '') + ((opt_data.selectedIssueKeys[opt_data.issue.key]) ? ' ghx-selected' + ((opt_data.mainSelectedIssue == opt_data.issue.key) ? ' ghx-selected-primary' : '') : '') + ((opt_data.issue.flagged) ? ' ghx-flagged' : '') + ((opt_data.issue.color) ? ' ghx-card-color-enabled' : '') + ' ghx-type-' + soy.$$escapeHtml(opt_data.issue.typeId) + '" data-issue-id="' + soy.$$escapeHtml(opt_data.issue.id) + '" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.key) + '"><section class="ghx-summary" title="' + soy.$$escapeHtml(opt_data.issue.summary) + '" data-tooltip="' + soy.$$escapeHtml(opt_data.issue.summary) + '">' + soy.$$escapeHtml(opt_data.issue.summary) + '</section>' + ((opt_data.showEpic && opt_data.issue.epicField && (! opt_data.isHideEpicLabelForIssuesAboveBaseEnabled || opt_data.issue.typeHierarchyLevel < 1)) ? '<section><div class="ghx-row ghx-highlighted-field">' + GH.tpl.field.epicLink.renderEpicLink({field: opt_data.issue.epicField, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled}) + '</div></section>' : '');
  if (opt_data.issue.extraFields) {
    output += '<section class="ghx-extra-fields">';
    var extraFieldList52 = opt_data.issue.extraFields;
    var extraFieldListLen52 = extraFieldList52.length;
    for (var extraFieldIndex52 = 0; extraFieldIndex52 < extraFieldListLen52; extraFieldIndex52++) {
      var extraFieldData52 = extraFieldList52[extraFieldIndex52];
      output += '<div class="ghx-row">' + GH.tpl.extraFields.renderExtraField({extraField: extraFieldData52, isDevopsFeatureDisabledInFedRamp: opt_data.isDevopsFeatureDisabledInFedRamp}) + '</div>';
    }
    output += '</section>';
  }
  output += '<section class="ghx-stat-fields"><div class="ghx-row ghx-stat-1">' + ((opt_data.issue.typeUrl) ? '<span class="ghx-field ghx-field-icon" data-tooltip="' + soy.$$escapeHtml(opt_data.issue.typeName) + '"><img src="' + soy.$$escapeHtml(opt_data.issue.typeUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issue.typeName) + '"></span>' : '') + ((opt_data.issue.flagged) ? '<span class="ghx-field ghx-flag-priority"><span class="aui-icon aui-icon-small" title="' + soy.$$escapeHtml('Flagged') + '"></span></span>' : (opt_data.issue.priorityUrl) ? '<span class="ghx-field ghx-field-icon" data-tooltip="' + soy.$$escapeHtml(AJS.format('{0} priority',opt_data.issue.priorityName)) + '"><img src="' + soy.$$escapeHtml(opt_data.issue.priorityUrl) + '" alt="' + soy.$$escapeHtml(AJS.format('{0} priority',opt_data.issue.priorityName)) + '"></span>' : '');
  var stat__soy83 = opt_data.issue.trackingStatistic ? opt_data.issue.trackingStatistic : opt_data.issue.estimateStatistic;
  output += ((stat__soy83 && stat__soy83.statFieldId != 'issueCount') ? '<span class="ghx-field">' + GH.tpl.rapid.card.statisticsValue({stat: stat__soy83, statLabel: opt_data.statLabel}) + '</span>' : '') + ((opt_data.issue.timeInColumn) ? '<span class="ghx-field">' + GH.tpl.rapid.card.daysInColumn({days: opt_data.issue.timeInColumn.days}) + '</span>' : '') + GH.tpl.rapid.card.renderDevInfoIcon(opt_data) + GH.tpl.rapid.card.renderCardAvatar(opt_data) + '</div><div class="ghx-row ghx-stat-2">' + GH.tpl.rapid.card.renderCardAvatar(opt_data) + '<a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" aria-label="' + soy.$$escapeHtml(opt_data.issue.key) + '" data-tooltip="' + soy.$$escapeHtml(opt_data.issue.key) + '" tabindex="-1" class="ghx-key"><span class="ghx-issuekey-pkey js-key-link" aria-hidden="true">' + soy.$$escapeHtml(opt_data.displayIssueKey.pkey) + '</span><span class="ghx-issuekey-number js-key-link" aria-hidden="true">' + soy.$$escapeHtml(opt_data.displayIssueKey.number) + '-</span></a></div></section>' + ((opt_data.issue.color != null) ? '<div class="ghx-grabber" style="background-color:' + soy.$$escapeHtml(opt_data.issue.color) + ';"></div>' : '<div class="ghx-grabber ghx-grabber-transparent"></div>') + '<div class="ghx-move-count"><b></b></div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.card.card.soyTemplateName = 'GH.tpl.rapid.card.card';
}


GH.tpl.rapid.card.statisticsValue = function(opt_data, opt_ignored) {
  var output = '';
  var tooltip__soy126 = '' + ((opt_data.stat.statFieldValue && opt_data.stat.statFieldValue.text) ? soy.$$escapeHtml(opt_data.stat.statFieldValue.text + ' ' + opt_data.statLabel) : soy.$$escapeHtml('Unestimated'));
  output += '<aui-badge class="ghx-estimate" data-tooltip="' + soy.$$escapeHtml(tooltip__soy126) + '">' + ((opt_data.stat.statFieldValue && opt_data.stat.statFieldValue.text) ? soy.$$escapeHtml(opt_data.stat.statFieldValue.text) : '-') + '</aui-badge>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.card.statisticsValue.soyTemplateName = 'GH.tpl.rapid.card.statisticsValue';
}


GH.tpl.rapid.card.renderCardAvatar = function(opt_data, opt_ignored) {
  return '' + ((opt_data.issue.assigneeName) ? '<span class="ghx-field">' + GH.tpl.avatar.renderIssueAvatar({issue: opt_data.issue, tooltipHtml: soy.$$escapeHtml('Assignee') + ': ' + soy.$$escapeHtml(opt_data.issue.assigneeName)}) + '</span>' : '');
};
if (goog.DEBUG) {
  GH.tpl.rapid.card.renderCardAvatar.soyTemplateName = 'GH.tpl.rapid.card.renderCardAvatar';
}


GH.tpl.rapid.card.renderDevInfoIcon = function(opt_data, opt_ignored) {
  return '<span id="gh-dev-info-icon-' + soy.$$escapeHtml(opt_data.issue.id) + '" class="ghx-field gh-dev-info-icon-wrapper ghx-field-icon"></span>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.card.renderDevInfoIcon.soyTemplateName = 'GH.tpl.rapid.card.renderDevInfoIcon';
}


GH.tpl.rapid.card.daysInColumn = function(opt_data, opt_ignored) {
  var output = '';
  var tooltip__soy157 = '' + soy.$$escapeHtml(AJS.format('{0,choice,0#{0} days|1#{0} day|1\x3c{0} days} in this column',opt_data.days));
  var icon__soy159 = '' + ((opt_data.days >= 20) ? 'more-then-20' : (opt_data.days >= 12) ? 'more-then-12' : (opt_data.days >= 8) ? 'more-then-8' : (opt_data.days >= 5) ? 'more-then-5' : (opt_data.days >= 3) ? 'more-then-3' : (opt_data.days >= 2) ? 'more-then-2' : '');
  output += (opt_data.days >= 1) ? '<div class="ghx-days ' + soy.$$escapeHtml(icon__soy159) + '" data-tooltip="' + soy.$$escapeHtml(tooltip__soy157) + '"></div>' : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.card.daysInColumn.soyTemplateName = 'GH.tpl.rapid.card.daysInColumn';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-cards', location = 'jira-agile-module/includes/js/rapid/ui/plan/Card.soy' */
// This file was automatically generated from Card.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.planissuelist.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.planissuelist == 'undefined') { GH.tpl.planissuelist = {}; }


GH.tpl.planissuelist.renderIssueList = function(opt_data, opt_ignored) {
  var output = '';
  var issueList3 = opt_data.issues;
  var issueListLen3 = issueList3.length;
  for (var issueIndex3 = 0; issueIndex3 < issueListLen3; issueIndex3++) {
    var issueData3 = issueList3[issueIndex3];
    if (issueData3.showMore) {
      output += GH.tpl.sprintbacklogview.renderShowAllContainer({issuesNotShown: issueData3.issuesNotShown});
    } else {
      output += (issueData3.subTasks) ? (issueData3.fakeParent) ? '<div class="ghx-parent-newcard ghx-parent-group js-fake-parent js-parent-drag" data-fake-parent-issue-key="' + soy.$$filterNoAutoescape(issueData3.key) + '">' : '<div class="ghx-parent-newcard ghx-parent-group js-parent-drag ghx-subtasks-expandable ' + ((issueData3.expanded) ? 'ghx-subtasks-expanded' : '') + '" role="listitem" aria-label="' + soy.$$escapeHtml(issueData3.key) + ' ' + soy.$$escapeHtml(issueData3.summary) + '" data-issue-id="' + soy.$$filterNoAutoescape(issueData3.id) + '" data-issue-key="' + soy.$$filterNoAutoescape(issueData3.key) + '" >' : '';
      if (! issueData3.fakeParent) {
        var subTaskCount__soy35 = '' + ((issueData3.subTasks) ? soy.$$escapeHtml(issueData3.subTasks.length) : '0');
        var epicLabel__soy41 = '' + ((! opt_data.isbacklogDataV2Enabled) ? (issueData3.epic) ? soy.$$escapeHtml(opt_data.epics[issueData3.epic]) : 'null' : (issueData3.epic) ? (opt_data.epics && opt_data.epics[issueData3.epic]) ? soy.$$escapeHtml(opt_data.epics[issueData3.epic]) : soy.$$escapeHtml({epicLabel: issueData3.epicField.text, epicColor: issueData3.epicField.epicColor, key: issueData3.epicField.epicKey, summary: issueData3.epicField.summary, color: issueData3.epicField.color}) : 'null');
        output += GH.tpl.planissuelist.renderIssue({issue: issueData3, isOrphanedSubtask: issueData3.fakeParent, subTasksCount: subTaskCount__soy35, epic: epicLabel__soy41, selectedIssueKeys: opt_data.issueRenderData.selectedIssueKeys, mainSelectedIssue: opt_data.issueRenderData.mainSelectedIssue, statLabel: opt_data.statLabel, estimationEnabled: opt_data.estimationEnabled, isRankable: opt_data.isRankable, hiddenIssues: opt_data.issueRenderData.hiddenIssues, showEpic: opt_data.showEpic, isAgility: opt_data.isAgility, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled, isUseIssueHierarchyEnabled: opt_data.isUseIssueHierarchyEnabled, isDevopsFeatureDisabledInFedRamp: opt_data.isDevopsFeatureDisabledInFedRamp});
      }
      if (issueData3.subTasks) {
        output += '<div class="ghx-subtask-group">';
        var subTaskList78 = issueData3.subTasks;
        var subTaskListLen78 = subTaskList78.length;
        for (var subTaskIndex78 = 0; subTaskIndex78 < subTaskListLen78; subTaskIndex78++) {
          var subTaskData78 = subTaskList78[subTaskIndex78];
          output += GH.tpl.planissuelist.renderIssue({issue: subTaskData78, isOrphanedSubtask: issueData3.fakeParent, subTasksCount: 0, epic: null, selectedIssueKeys: opt_data.issueRenderData.selectedIssueKeys, mainSelectedIssue: opt_data.issueRenderData.mainSelectedIssue, statLabel: opt_data.statLabel, estimationEnabled: opt_data.estimationEnabled, isRankable: opt_data.isRankable, hiddenIssues: opt_data.issueRenderData.hiddenIssues, showEpic: opt_data.showEpic, isAgility: opt_data.isAgility, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled, isUseIssueHierarchyEnabled: opt_data.isUseIssueHierarchyEnabled, isDevopsFeatureDisabledInFedRamp: opt_data.isDevopsFeatureDisabledInFedRamp});
        }
        output += '</div>';
      }
      output += (issueData3.subTasks) ? '</div>' : '';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.planissuelist.renderIssueList.soyTemplateName = 'GH.tpl.planissuelist.renderIssueList';
}


GH.tpl.planissuelist.renderIssueCount = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-issue-count">';
  var numVisibleIssues__soy103 = opt_data.issueListStats.visibleCount;
  var numTotalIssues__soy104 = opt_data.issueListStats.statisticsFieldValue ? opt_data.issueListStats.statisticsFieldValue : opt_data.issueListStats.totalCount;
  output += GH.tpl.planissuelist.renderVisibleIssueCount({numVisibleIssues: numVisibleIssues__soy103, numTotalIssues: numTotalIssues__soy104}) + '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.planissuelist.renderIssueCount.soyTemplateName = 'GH.tpl.planissuelist.renderIssueCount';
}


GH.tpl.planissuelist.renderVisibleIssueCount = function(opt_data, opt_ignored) {
  return '' + ((opt_data.numVisibleIssues == opt_data.numTotalIssues) ? soy.$$escapeHtml(AJS.format('{0,choice,0#0 issues|1#1 issue|1\x3c{0,number} issues}',opt_data.numTotalIssues)) : soy.$$escapeHtml(AJS.format('{1} of {0,choice,0#0 issues|1#1 issue|1\x3c{0,number} issues} visible',opt_data.numTotalIssues,opt_data.numVisibleIssues)) + '<a class="ghx-reset js-clear-all-filters" title="' + soy.$$escapeHtml('Issues are currently filtered. Click to clear all filters on this board.') + '">' + soy.$$escapeHtml('Clear all filters') + '</a>');
};
if (goog.DEBUG) {
  GH.tpl.planissuelist.renderVisibleIssueCount.soyTemplateName = 'GH.tpl.planissuelist.renderVisibleIssueCount';
}


GH.tpl.planissuelist.renderIssue = function(opt_data, opt_ignored) {
  var output = '';
  var hasEpicLabel__soy121 = opt_data.epic && opt_data.epic.epicLabel || opt_data.issue.epicField;
  var hasVersionOrEpic__soy122 = opt_data.issue.fixVersionsUI && opt_data.issue.fixVersionsUI.versions && opt_data.issue.fixVersionsUI.versions.length > 0 || hasEpicLabel__soy121;
  output += '<div class="js-issue ghx-backlog-card ghx-newcard js-sortable' + ((! opt_data.isUseIssueHierarchyEnabled && opt_data.issue.parentKey) ? ' ghx-issue-subtask' : (opt_data.isUseIssueHierarchyEnabled && opt_data.issue.typeHierarchyLevel == -1) ? ' ghx-issue-subtask' : ' js-parent-drag') + ' ghx-issue-compact' + ((! opt_data.isRankable) ? ' ghx-not-rankable' : '') + ((opt_data.issue.done) ? ' ghx-done' : '') + ((opt_data.selectedIssueKeys[opt_data.issue.key]) ? ' ghx-selected' + ((opt_data.mainSelectedIssue == opt_data.issue.key) ? ' ghx-selected-primary' : '') : '') + ' ghx-type-' + soy.$$escapeHtml(opt_data.issue.typeId) + ((opt_data.hiddenIssues[opt_data.issue.key]) ? ' ghx-filtered' : '') + ((opt_data.issue.flagged) ? ' ghx-flagged' : '') + ((! opt_data.isUseIssueHierarchyEnabled && (opt_data.issue.parentKey || opt_data.issue.parentId)) ? ' ghx-subtask' : (opt_data.isUseIssueHierarchyEnabled && opt_data.issue.typeHierarchyLevel == -1) ? ' ghx-subtask' : '') + ((opt_data.issue.shouldIndentTop) ? ' ghx-subtask-indent-top' : '') + ((opt_data.issue.color == null) ? ' ghx-no-card-color' : '') + ((opt_data.isAgility) ? ' agility-simplified-issue' : '') + '" data-issue-id="' + soy.$$escapeHtml(opt_data.issue.id) + '" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.key) + '" ><div class="ghx-issue-content"><div class="ghx-row ghx-plan-main-fields">' + ((opt_data.issue.subTasks) ? '<a class="ghx-card-expander ghx-iconfont aui-icon aui-icon-small"></a>' : '<span class="ghx-backlog-card-expander-spacer"></span>') + ((opt_data.issue.typeUrl) ? '<span class="ghx-type items-spacer" title="' + soy.$$escapeHtml(opt_data.issue.typeName) + '"><img src="' + soy.$$escapeHtml(opt_data.issue.typeUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issue.typeName) + '"></span>' : '') + '<div class="ghx-summary" data-tooltip="' + soy.$$escapeHtml(opt_data.issue.summary) + '"><span class="ghx-inner">' + soy.$$escapeHtml(opt_data.issue.summary) + '</span></div></div><div class="ghx-row ghx-end ghx-items-container">';
  var extraClass__soy190 = opt_data.issue.fixVersionsUI && opt_data.issue.fixVersionsUI.versions && opt_data.issue.fixVersionsUI.versions.length > 0 && (hasEpicLabel__soy121 || opt_data.isOrphanedSubtask) ? 'ghx-label-double' : 'ghx-label-single';
  output += (! opt_data.isAgility) ? (opt_data.subTasksCount > 0) ? GH.tpl.planissuelist.renderSubTasksCount({count: opt_data.subTasksCount}) : '' : '';
  if (! opt_data.isAgility) {
    if (hasVersionOrEpic__soy122 || ! opt_data.issue.extraFields) {
      if (opt_data.issue.fixVersionsUI && opt_data.issue.fixVersionsUI.versions && opt_data.issue.fixVersionsUI.versions.length > 0) {
        var extraClasses__soy203 = ['ghx-label-version', 'ghx-label', extraClass__soy190];
        var extraAttributes__soy204 = {title: opt_data.issue.fixVersionsUI.formattedVersions};
        if (opt_data.issue.fixVersionsUI.versions.length > 1) {
          var text__soy207 = soy.$$escapeHtml(opt_data.issue.fixVersionsUI.versions.length) + ' ' + soy.$$escapeHtml('Versions');
          output += GH.tpl.field.issueLabel.renderLabel({extraClasses: extraClasses__soy203, text: text__soy207, extraAttributes: extraAttributes__soy204}) + ' ';
        } else {
          output += GH.tpl.field.issueLabel.renderLabel({extraClasses: extraClasses__soy203, text: opt_data.issue.fixVersionsUI.versions[0].name, extraAttributes: extraAttributes__soy204}) + ' ';
        }
      }
      output += (opt_data.showEpic) ? (opt_data.epic && opt_data.epic.epicLabel) ? GH.tpl.field.epicLink.renderEpicLinkFromIssue({epic: opt_data.epic, extraClasses: 'ghx-label ' + extraClass__soy190, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled}) + ' ' : (opt_data.issue.epicField) ? GH.tpl.field.epicLink.renderEpicLink({field: opt_data.issue.epicField, extraClasses: 'ghx-label ' + extraClass__soy190, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled}) + ' ' : '' : '';
    }
  }
  output += ((opt_data.isOrphanedSubtask) ? GH.tpl.field.issueLabel.renderOrphanedSubtaskLabel({parentKey: opt_data.issue.parentKey, extraClasses: 'ghx-label ghx-orphaned-subtask ' + extraClass__soy190}) + ' ' : '') + '<span class="ghx-end ghx-items-container">' + GH.tpl.planissuelist.renderAvatarAndEstimate(opt_data) + '</span></div>';
  if (! opt_data.isAgility) {
    if (opt_data.issue.extraFields) {
      output += '<div class="ghx-plan-extra-fields ghx-plan-extra-fields-' + soy.$$escapeHtml(opt_data.issue.extraFields.length) + ' ghx-row">';
      var extraFieldList257 = opt_data.issue.extraFields;
      var extraFieldListLen257 = extraFieldList257.length;
      for (var extraFieldIndex257 = 0; extraFieldIndex257 < extraFieldListLen257; extraFieldIndex257++) {
        var extraFieldData257 = extraFieldList257[extraFieldIndex257];
        output += ((! (extraFieldIndex257 == 0)) ? '<span class="ghx-extra-field-seperator">&middot;</span>' : '') + GH.tpl.extraFields.renderExtraField({extraField: extraFieldData257, isDevopsFeatureDisabledInFedRamp: opt_data.isDevopsFeatureDisabledInFedRamp});
      }
      output += '</div>';
    }
  }
  output += '</div>' + ((opt_data.issue.color != null) ? '<div class="ghx-grabber" style="background-color:' + soy.$$escapeHtml(opt_data.issue.color) + ';"></div>' : '<div class="ghx-grabber ghx-grabber-transparent"></div>') + '<div class="ghx-move-count"><b></b></div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.planissuelist.renderIssue.soyTemplateName = 'GH.tpl.planissuelist.renderIssue';
}


GH.tpl.planissuelist.renderAvatarAndEstimate = function(opt_data, opt_ignored) {
  return GH.tpl.avatar.renderIssueAvatar({issue: opt_data.issue, tooltipHtml: soy.$$escapeHtml('Assignee') + ': ' + soy.$$escapeHtml(opt_data.issue.assigneeName)}) + '<a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" title="' + soy.$$escapeHtml(opt_data.issue.key) + '" class="ghx-key js-key-link">' + soy.$$escapeHtml(opt_data.issue.key) + '</a>' + ((opt_data.issue.flagged) ? '<span class="ghx-flag ghx-flag-priority"><span class="aui-icon" title="' + soy.$$escapeHtml('Flagged') + '"></span></span>' : (opt_data.issue.priorityUrl) ? '<span class="ghx-priority" title="' + soy.$$escapeHtml(opt_data.issue.priorityName) + '"><img src="' + soy.$$escapeHtml(opt_data.issue.priorityUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issue.priorityName) + '"></span>' : '') + ((! opt_data.isAgility) ? (opt_data.estimationEnabled) ? GH.tpl.planissuelist.renderStatisticsValue({stat: opt_data.issue.estimateStatistic, label: opt_data.statLabel}) : '' : '');
};
if (goog.DEBUG) {
  GH.tpl.planissuelist.renderAvatarAndEstimate.soyTemplateName = 'GH.tpl.planissuelist.renderAvatarAndEstimate';
}


GH.tpl.planissuelist.renderStatisticsValue = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.stat && opt_data.stat.statFieldId != 'issueCount') {
    var badgetext__soy314 = '' + ((opt_data.stat.statFieldValue && opt_data.stat.statFieldValue.text) ? soy.$$escapeHtml(opt_data.stat.statFieldValue.text) : '-');
    output += aui.badges.badge({extraClasses: ['ghx-estimate-badge'], text: badgetext__soy314, extraAttributes: {title: opt_data.label}, extraClasses: ['ghx-statistic-badge']});
  } else {
    output += aui.badges.badge({text: '', extraClasses: ['ghx-spacer', 'ghx-statistic-badge']});
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.planissuelist.renderStatisticsValue.soyTemplateName = 'GH.tpl.planissuelist.renderStatisticsValue';
}


GH.tpl.planissuelist.renderSubTasksCount = function(opt_data, opt_ignored) {
  return '<span class="ghx-sub-tasks-count">' + soy.$$escapeHtml(AJS.format('{0} {0,choice,1#sub-task|1\x3csub-tasks}',opt_data.count)) + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.planissuelist.renderSubTasksCount.soyTemplateName = 'GH.tpl.planissuelist.renderSubTasksCount';
}
;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:data', location = 'jira-projects-module/data/web-resource-manager.js' */
define("jira/projects/data/WRM",window.WRM);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:projects-api', location = 'jira-projects-module/page/projects-api.js' */
define("jira/api/projects",["jira/projects/data/WRM"],function(e){"use strict";function t(t,r){if(void 0!==t)return t;var n=e.data.claim(r);return void 0!==n?n:AJS.Meta.get(r)}function r(e){return AJS.$('meta[name="'+e+'"]').attr("content")}var n=e.data.claim("project-key"),i=e.data.claim("project-id"),c=e.data.claim("project-name"),a=e.data.claim("project-type"),o=e.data.claim("is-project-admin"),u=e.data.claim("project-simplified");return{ProjectType:Object.freeze({SOFTWARE:"software",BUSINESS:"business"}),getCurrentProjectId:function(e){return i=t(i,"project-id"),(null==i||e)&&(i=r("ghx-project-id")),i},getCurrentProjectKey:function(e){return n=t(n,"project-key"),(null==n||e)&&(n=r("ghx-project-key")),n},getCurrentProjectName:function(){return c=t(c,"project-name")},getCurrentProjectType:function(){return a=t(a,"project-type")},isCurrentUserProjectAdmin:function(){return o=t(o,"is-project-admin")},isCurrentProjectSimplified:function(){return u=t(u,"project-simplified")}}}),AJS.namespace("JIRA.API.Projects",null,require("jira/api/projects"));;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:breadcrumbs', location = 'jira-atlaskit-module/js/global-breadcrumbs-api.js' */
!function(){var n,r=new Promise(function(r){n=r});r.done=function(n){return this.then(n)},AJS.namespace("JIRA.API"),JIRA.API.getBreadcrumbApi=function(){return r},define("jira/globalnavigator/breadcrumbs/bridge",function(){return function(r){n(r)}}),define("jira/globalnavigator/breadcrumbs",function(){return r})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:breadcrumbs', location = 'jira-atlaskit-module/js/breadcrumbs-api.js' */
define("jira/atlaskit/breadcrumbs",[],function(){const e=AJS.contextPath(),t=JIRA.API.Projects&&JIRA.API.Projects.getCurrentProjectKey()||AJS.Meta.get("project-key")||AJS.Meta.get("projectKey"),r=t&&e+"/plugins/servlet/project-config/"+t,s={REPORTS:{id:"breadcrumbs-item-reports",index:0,text:"Reports",href:t&&e+"/projects/"+t+"?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page"},RELEASES:{id:"breadcrumbs-item-releases-versions",index:0,text:"Releases",href:t&&e+"/projects/"+t+"?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page"},VERSIONS:{id:"breadcrumbs-item-releases-versions",index:0,text:"Versions",href:t&&e+"/projects/"+t+"?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page"},PROJECT_SETTINGS:{id:"breadcrumbs-item-project-settings",index:0,text:"Project settings",href:t&&e+"/projects/"+t+"/settings"},ISSUE_COLLECTORS:{id:"breadcrumbs-item-issue-collectors",index:1,text:"Issue collectors",href:t&&e+"/secure/ViewCollectors!default.jspa?projectKey="+t},ISSUE_TYPES:{id:"breadcrumbs-item-issue-types",index:1,text:"Issue types",href:t&&e+"/plugins/servlet/project-config/"+t+"/issuetypes"},SD_CLASSIC_PROJECT_SETTINGS:{id:"breadcrumbs-item-project-settings",index:0,text:"Project settings",href:r},SD_REQUEST_TYPES:{id:"breadcrumbs-item-request-types",index:1,text:"Request types",href:t&&e+"/servicedesk/admin/"+t+"/request-types"},LANGUAGE_SUPPORT:{id:"breadcrumbs-item-language-support",index:1,text:"Language support",href:t&&e+"/servicedesk/admin/"+t+"/language"},QUEUES:{id:"breadcrumbs-item-queue",index:1,text:"Queues",href:t&&e+"/projects/"+t+"/queues"},CUSTOMERS:{id:"breadcrumbs-item-customers",index:1,text:"Customers",href:t&&e+"/projects/"+t+"/customers"},CUSTOMERS_JIRA_SPA:{id:"breadcrumbs-item-customers",index:1,text:"Customers",href:t&&e+"/jira/servicedesk/projects/"+t+"/customers"},CUSTOMER_NOTIFICATIONS:{id:"breadcrumbs-item-customer-notification",index:1,text:"Customer notifications",href:t&&e+"/servicedesk/admin/"+t+"/customer-notifications"},SD_REPORTS:{id:"breadcrumbs-item-jsd-reports",index:0,text:"Reports",href:t&&e+"/projects/"+t+"/reports"},SD_REPORTS_JIRA_SPA:{id:"breadcrumbs-item-jsd-reports",index:0,text:"Reports",href:t&&e+"/jira/servicedesk/projects/"+t+"/reports"}},i=function(){return require("jira/globalnavigator/breadcrumbs")},n=function(){const e=document.getElementById("breadcrumbs-container");e?i().done(function(t){t.render(e)}):(AJS.trigger("analyticsEvent",{name:"jira.atlaskit.plugin.breadcrumbs.render.without.container"}),window.console&&console.warn("Attempted to render breadcrumbs, but container element with id: 'breadcrumbs-container' not found in DOM."))},o=function(){const e=document.getElementById("breadcrumbs-container");return!(!e||!e.innerHTML)},c=function(){return!0},a=function(e){i().done(function(t){t.insertItem(e)})},d=function(e){i().done(function(t){t.removeItem(e)})};return{Items:s,render:n,isRendered:o,isEnabled:c,insertItem:a,removeItem:d}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:ui-first-project-try-now-spotlight-bridge', location = 'jira-agile-module/includes/js/rapid/ui/component/ChangeManagementNudgeBridge.js' */
define("jira-agile/rapid/ui/uif-change-management-nudge-bridge",["jira/util/data/meta"],function(e){var n=void 0,t=new Promise(function(e){return n=e});return{resolve:function(e){n(e)},render:function(n){var r=e.get("user-locale");n&&t.then(function(e){return e.render(n,{locale:r})}).catch(function(e){return console.error("UIF Change Management Try Now Spotlight render failed",e)})}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/browser-metrics/BrowserMetricsUtil.js' */
define("jira-agile/browser-metrics/browser-metrics-util",["require"],function(r){var i=new(r("jira-agile/rapid/events")),n={};return i.triggerBefore=function(r,e){e&&(n[e]=!0),i.trigger(r)},i.triggerAfter=function(r,e){e&&!n[e]||(delete n[e],i.trigger(r))},i.performanceMark=function(r){window.performance&&window.performance.mark(r)},i});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/analytics/board-data-update.js' */
define("jira-agile/rapid/analytics/board-data-udpate",["jira/analytics/web-client"],function(i){return function(t,a){i.sendOperationalEvent({source:"activeSprint",actionSubject:"boardView",action:"updated",attributes:{initiator:t,forceConsistency:a}})}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/TraceUtils.js' */
define("jira-agile/rapid/trace-utils",["require","jira/featureflags/feature-manager"],function(e,n){var a={s:{}},t={startSpan:function(e,n){a.s[e]={k:e,ts:(new Date).getTime()},n&&i(e,n)},endSpan:function(e,n){a.s[e]||(a.s[e]={k:e}),a.s[e].te=(new Date).getTime(),n&&i(e,n)},log:function(e,n){a.s[e]={k:e,ts:(new Date).getTime(),te:(new Date).getTime()},n&&i(e,n)}},i=function(e,n){e=a.s[e];e&&(e.l=Object.assign(e.l||{},n))};return t.appendSpanLog=function(e,n){var t=a.s[e];t&&t.l?t.l=Object.assign(t.l,n):i(e,n)},t.getTrace=function(){return a},t.flushTrace=function(){a.s={}},t.isKeyPresent=function(e){return a.s.hasOwnProperty(e)},t});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/const/PageMode.js' */
define("jira-agile/rapid/const/PageMode",function(){return Object.freeze({PLAN:"plan",WORK:"work",REPORT:"report"})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/const/BoardScopeMode.js' */
define("jira-agile/rapid/const/BoardScopeMode",function(){return Object.freeze({BOARD:"board",BACKLOG:"backlog",REPORT:"report"})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/const/DevInfoType.js' */
define("jira-agile/rapid/const/DevInfoType",function(){return Object.freeze({BRANCH_OPEN:"branch",COMMIT:"commit",PR_OPEN:"pullrequest",PR_MERGED:"merged",PR_DECLINED:"declined",DEPLOYMENT:"deployment",DESIGN:"design"})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/work/QuickFiltersBridge.js' */
define("jira-agile/rapid/work/quick-filters-bridge",[],function(){var e={},i=void 0,n=new Promise(function(e){i=e});return e.isReactFiltersEnabled=function(){return new Promise(function(e){return GH.bridge&&GH.bridge.FilterBridge?e(!0):GH.gadget?e(!1):void n.then(function(){e(!0)})})},e.onBridgeLoad=function(){i(!0)},e.resizeLayout=function(){GH&&GH.Layout&&GH.Layout.fireDelayedWindowResize&&GH.Layout.fireDelayedWindowResize()},e});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/TraceUtilsHelper.js' */
define("jira-agile/rapid/trace-utils-helper",["require"],function(e){var n={},r=new Set;return n.hasUserChangedRoute=function(){return 1<r.size},n.flushTrace=function(){r.clear()},n.additionalDebugAttributesForWorkControllerWithoutUpdatingUniquePaths=function(){var e=AJS.$("#ghx-work"),n=e.find(".ghx-sad-columns .ghx-column"),t=e.find(".ghx-no-active-sprint-message"),e=e.find(".ghx-issue");return{issueNumBackend:null==GH.RapidBoard.State.numberOfIssues?0:GH.RapidBoard.State.numberOfIssues.get(),numEmptyBoards:t.length,numEmptyColumns:n.length,numIssues:e.length,url:window.location.href}},n.additionalDebugAttributesForWorkController=function(){var e=AJS.$("#ghx-work"),n=e.find(".ghx-sad-columns .ghx-column"),t=e.find(".ghx-no-active-sprint-message"),e=e.find(".ghx-issue");return r.add(window.location.href),{issueNumBackend:null==GH.RapidBoard.State.numberOfIssues?0:GH.RapidBoard.State.numberOfIssues.get(),numEmptyBoards:t.length,numEmptyColumns:n.length,numIssues:e.length,url:window.location.href}},n.additionalDebugAttributesForPlanController=function(){var e=AJS.$("#ghx-plan"),n=e.find(".ghx-backlog-header.js-marker-backlog-header"),t=e.find(".ghx-onboarding-fillyourbacklog-group"),e=e.find(".ghx-issue");return r.add(window.location.href),{issueNumBackend:null==GH.RapidBoard.State.numberOfIssues?0:GH.RapidBoard.State.numberOfIssues.get(),backlogHeader:n.length,emptyBacklog:t.length,numIssues:e.length,url:window.location.href}},n});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/gh-IssueDialogUtil.js' */
define("jira-agile/dialog/issue-dialog-util",["jira/dialog/dialog-register","jquery"],function(e,s){return s.extend(e,{getDefaultAjaxOptions:function(){var e=JIRA.IssueNavigator.getSelectedIssueId(),s=this.options.url||this.$activeTrigger.attr("href")||this.$activeTrigger.data("url");if(/id=\{0\}/.test(s)){if(!e)return!1;s=s.replace(/(id=\{0\})/,"id="+e)}return{data:{decorator:"dialog",inline:"true"},url:s}},storeCurrentIssueIdOnSucessfulSubmit:function(){GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.ISSUE_UPDATE_ACTION),JIRA.IssueNavigator.setIssueUpdatedMsg({issueMsg:this.options.issueMsg,issueId:this.issueId,issueKey:this.issueKey}),this.issueId=null,this.issueKey=null,GH.IssueOperationShortcuts.clearOverrideSelectedIssue()}})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/configuration/RapidBoardSkeleton.soy' */
// This file was automatically generated from RapidBoardSkeleton.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.board.skeleton.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.board == 'undefined') { GH.tpl.board = {}; }
if (typeof GH.tpl.board.skeleton == 'undefined') { GH.tpl.board.skeleton = {}; }


GH.tpl.board.skeleton.renderRapidBoardHeaderSkeleton = function(opt_data, opt_ignored) {
  return '<div class="gh-skeleton gh-skeleton-h1"></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.skeleton.renderRapidBoardHeaderSkeleton.soyTemplateName = 'GH.tpl.board.skeleton.renderRapidBoardHeaderSkeleton';
}


GH.tpl.board.skeleton.renderIconButtonSkeleton = function(opt_data, opt_ignored) {
  return '<div class="gh-skeleton gh-skeleton-icon-button"></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.skeleton.renderIconButtonSkeleton.soyTemplateName = 'GH.tpl.board.skeleton.renderIconButtonSkeleton';
}


GH.tpl.board.skeleton.renderIconButtonSkeletonWithId = function(opt_data, opt_ignored) {
  return '<div class="gh-skeleton gh-skeleton-icon-button" ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + '></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.skeleton.renderIconButtonSkeletonWithId.soyTemplateName = 'GH.tpl.board.skeleton.renderIconButtonSkeletonWithId';
}


GH.tpl.board.skeleton.renderChangeManagementMenuSkeleton = function(opt_data, opt_ignored) {
  return '<div class="gh-skeleton gh-skeleton-change-management-menu"></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.skeleton.renderChangeManagementMenuSkeleton.soyTemplateName = 'GH.tpl.board.skeleton.renderChangeManagementMenuSkeleton';
}


GH.tpl.board.skeleton.renderRapidBoardOperationsSkeleton = function(opt_data, opt_ignored) {
  return '<div class="gh-skeleton gh-skeleton-operations"></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.skeleton.renderRapidBoardOperationsSkeleton.soyTemplateName = 'GH.tpl.board.skeleton.renderRapidBoardOperationsSkeleton';
}


GH.tpl.board.skeleton.renderSkeletonBlock = function(opt_data, opt_ignored) {
  return '<div class="gh-skeleton gh-skeleton-block ' + ((opt_data.className) ? soy.$$escapeHtml(opt_data.className) : '') + '" ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' ' + ((opt_data.width) ? ' width="' + soy.$$escapeHtml(opt_data.width) + '"' : '') + '></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.skeleton.renderSkeletonBlock.soyTemplateName = 'GH.tpl.board.skeleton.renderSkeletonBlock';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/RapidBoard.soy' */
// This file was automatically generated from RapidBoard.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.board.x.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.board == 'undefined') { GH.tpl.board = {}; }
if (typeof GH.tpl.board.x == 'undefined') { GH.tpl.board.x = {}; }


GH.tpl.board.x.renderNoViewsAnonymous = function(opt_data, opt_ignored) {
  return '<div class="aui-message info ghx-notify"><p><span class="aui-icon icon-generic"></span>' + soy.$$escapeHtml('No boards are currently available.') + '</p><p><span class="aui-icon icon-generic"></span>' + soy.$$filterNoAutoescape(AJS.format('Boards may be visible if you {0}log in{1}.','<a href="' + opt_data.loginUrl + '">','</a>')) + '</p></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderNoViewsAnonymous.soyTemplateName = 'GH.tpl.board.x.renderNoViewsAnonymous';
}


GH.tpl.board.x.renderNoViews = function(opt_data, opt_ignored) {
  return '<div class="aui-message info ghx-notify"><p><span class="aui-icon icon-generic"></span>' + soy.$$escapeHtml('No boards are currently available.') + '</p><p><span class="aui-icon icon-generic"></span>' + soy.$$filterNoAutoescape(AJS.format('{0}Create a new board{1}.','<a class="js-view-action-create">','</a>')) + '</p></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderNoViews.soyTemplateName = 'GH.tpl.board.x.renderNoViews';
}


GH.tpl.board.x.renderRapidBoard = function(opt_data, opt_ignored) {
  return '<div id="ghx-header" class="contains-breadcrumbs"><div class="ghx-top-header ghx-expermental-top-header"><div id="ghx-modes-tools"><div id="ghx-refresh-board" class="aui-mr1"></div><div id="ghx-controls-buttons-compact"></div><div id="ghx-automation" class="aui-mr1">' + ((opt_data.isWorkMode == true) ? GH.tpl.board.skeleton.renderIconButtonSkeleton(null) : '') + '</div><div id="ghx-header-dynamic-append-zone"></div><div id="ghx-share">' + ((opt_data.isWorkMode == true) ? GH.tpl.board.skeleton.renderIconButtonSkeleton(null) : '') + '</div><div id="ghx-change-management-menu"></div><span id="ghx-view-pluggable">' + ((opt_data.isWorkMode == true) ? GH.tpl.board.skeleton.renderIconButtonSkeleton(null) : '') + '</span><div id="ghx-view-tools"></div></div>' + GH.tpl.board.skeleton.renderRapidBoardHeaderSkeleton(null) + '<div id="ghx-view-selector"></div><div id="ghx-sprint-half-way-insight-signal"></div></div></div><div id="ghx-content-main" class="ghx-content-main"><div id="ghx-errors"></div><div id="ghx-rabid"><div id="ghx-operations">' + GH.tpl.board.skeleton.renderRapidBoardOperationsSkeleton(null) + '</div><div id="ghx-plan"></div><div id="ghx-report" class="ghx-chart"></div><div class="ghx-work-wrapper"><div id="ghx-work" class="ghx-work"></div></div></div></div><div class="adg-throbber"><span class="adg-throbber-container"><span class="adg-throbber-spinner" size="48"><svg class="adg-throbber-svg" focusable="false" height="48" size="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg" ><circle cx="24" cy="24" r="21.5"></circle></svg></span></span></div>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderRapidBoard.soyTemplateName = 'GH.tpl.board.x.renderRapidBoard';
}


GH.tpl.board.x.renderSprintGoal = function(opt_data, opt_ignored) {
  return '' + ((opt_data.goal) ? '<div class="ghx-sprint-goal"><span title="' + soy.$$escapeHtml(opt_data.goal) + '">' + soy.$$escapeHtml(opt_data.goal) + '</span></div>' : '');
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderSprintGoal.soyTemplateName = 'GH.tpl.board.x.renderSprintGoal';
}


GH.tpl.board.x.renderToolSections = function(opt_data, opt_ignored) {
  var output = '';
  var sectionList43 = opt_data.sections;
  var sectionListLen43 = sectionList43.length;
  for (var sectionIndex43 = 0; sectionIndex43 < sectionListLen43; sectionIndex43++) {
    var sectionData43 = sectionList43[sectionIndex43];
    output += '<div class="ghx-view-section ' + soy.$$escapeHtml(sectionData43.cssClass) + '">' + ((sectionData43.id == 'board-tools-section') ? aui.buttons.button({text: '', iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-more', iconText: sectionData43.label, extraClasses: 'ghx-actions-tools', extraAttributes: {'aria-expanded': false}, id: sectionData43.id + '-button'}) : aui.buttons.button({text: sectionData43.label, extraClasses: 'ghx-actions-tools ghx-dropdown-trigger', id: sectionData43.id + '-button'})) + '<div class="aui-list" id="' + soy.$$escapeHtml(sectionData43.id) + '-content" style="display: none;"></div></div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderToolSections.soyTemplateName = 'GH.tpl.board.x.renderToolSections';
}


GH.tpl.board.x.renderSectionContent = function(opt_data, opt_ignored) {
  var output = '';
  var subItemList67 = opt_data.subItems;
  var subItemListLen67 = subItemList67.length;
  for (var subItemIndex67 = 0; subItemIndex67 < subItemListLen67; subItemIndex67++) {
    var subItemData67 = subItemList67[subItemIndex67];
    output += GH.tpl.board.x.renderSubItem({subItem: subItemData67, isFirst: subItemIndex67 == 0, isLast: subItemIndex67 == subItemListLen67 - 1});
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderSectionContent.soyTemplateName = 'GH.tpl.board.x.renderSectionContent';
}


GH.tpl.board.x.renderSubItem = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.subItem.type == 'section') {
    output += '<ul id="' + soy.$$escapeHtml(opt_data.subItem.id) + '" class="aui-list-section ' + soy.$$escapeHtml(opt_data.subItem.cssClass) + ' ' + ((opt_data.isFirst) ? ' aui-first' : '') + ((opt_data.isLast) ? ' aui-last' : '') + '">';
    var subItemList88 = opt_data.subItem.subItems;
    var subItemListLen88 = subItemList88.length;
    for (var subItemIndex88 = 0; subItemIndex88 < subItemListLen88; subItemIndex88++) {
      var subItemData88 = subItemList88[subItemIndex88];
      output += '<li class="aui-list-item">' + GH.tpl.board.x.renderSubItem({subItem: subItemData88, isFirst: subItemIndex88 == 0, isLast: subItemIndex88 == subItemListLen88 - 1}) + '</li>';
    }
    output += '</ul>';
  } else if (opt_data.subItem.type == 'webItem') {
    output += '<a role="button" href="' + soy.$$escapeHtml(opt_data.subItem.url) + '" ' + ((opt_data.subItem.id) ? 'id="' + soy.$$escapeHtml(opt_data.subItem.id) + '" ' : '') + 'class="aui-list-item-link ' + soy.$$escapeHtml(opt_data.subItem.cssClass) + '">' + soy.$$escapeHtml(opt_data.subItem.label) + '</a>';
  } else if (opt_data.subItem.type == 'webPanel') {
    output += '<div ' + ((opt_data.subItem.id) ? 'id="' + soy.$$escapeHtml(opt_data.subItem.id) + '" ' : '') + 'class="' + soy.$$escapeHtml(opt_data.subItem.cssClass) + '">' + soy.$$filterNoAutoescape(opt_data.subItem.html) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderSubItem.soyTemplateName = 'GH.tpl.board.x.renderSubItem';
}


GH.tpl.board.x.renderWelcomeProjectMessageKanban = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('You have created a Kanban board \x3ca href\x3d\x22{0}\x22\x3e{1}\x3c/a\x3e and a project \x3ca href\x3d\x22{2}\x22\x3e{3}\x3c/a\x3e.','/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView.id,opt_data.rapidView.name,'/plugins/servlet/project-config/' + opt_data.project.key,opt_data.project.name)) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderWelcomeProjectMessageKanban.soyTemplateName = 'GH.tpl.board.x.renderWelcomeProjectMessageKanban';
}


GH.tpl.board.x.renderWelcomeProjectMessageScrum = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('You have created a Scrum board \x3ca href\x3d\x22{0}\x22\x3e{1}\x3c/a\x3e and a project \x3ca href\x3d\x22{2}\x22\x3e{3}\x3c/a\x3e.','/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView.id,opt_data.rapidView.name,'/plugins/servlet/project-config/' + opt_data.project.key,opt_data.project.name)) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderWelcomeProjectMessageScrum.soyTemplateName = 'GH.tpl.board.x.renderWelcomeProjectMessageScrum';
}


GH.tpl.board.x.renderWelcomeProjectSampleMessageKanban = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('You have created a sample Kanban board \x3ca href\x3d\x22{0}\x22\x3e{1}\x3c/a\x3e and a sample project \x3ca href\x3d\x22{2}\x22\x3e{3}\x3c/a\x3e.','/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView.id,opt_data.rapidView.name,'/plugins/servlet/project-config/' + opt_data.project.key,opt_data.project.name)) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderWelcomeProjectSampleMessageKanban.soyTemplateName = 'GH.tpl.board.x.renderWelcomeProjectSampleMessageKanban';
}


GH.tpl.board.x.renderWelcomeProjectSampleMessageScrum = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('You have created a sample Scrum board \x3ca href\x3d\x22{0}\x22\x3e{1}\x3c/a\x3e and a sample project \x3ca href\x3d\x22{2}\x22\x3e{3}\x3c/a\x3e.','/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView.id,opt_data.rapidView.name,'/plugins/servlet/project-config/' + opt_data.project.key,opt_data.project.name)) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderWelcomeProjectSampleMessageScrum.soyTemplateName = 'GH.tpl.board.x.renderWelcomeProjectSampleMessageScrum';
}


GH.tpl.board.x.renderWelcomeViewMessageKanban = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('Kanban board \x3ca href\x3d\x22{0}\x22\x3e{1}\x3c/a\x3e has been created.','/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView.id,opt_data.rapidView.name)) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderWelcomeViewMessageKanban.soyTemplateName = 'GH.tpl.board.x.renderWelcomeViewMessageKanban';
}


GH.tpl.board.x.renderWelcomeViewMessageScrum = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('Scrum board \x3ca href\x3d\x22{0}\x22\x3e{1}\x3c/a\x3e has been created.','/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView.id,opt_data.rapidView.name)) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderWelcomeViewMessageScrum.soyTemplateName = 'GH.tpl.board.x.renderWelcomeViewMessageScrum';
}


GH.tpl.board.x.renderCreateViewMessage = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('View \x3ca href\x3d\x22{0}\x22\x3e{1}\x3c/a\x3e has been created.','/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView.id,opt_data.rapidView.name)) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.board.x.renderCreateViewMessage.soyTemplateName = 'GH.tpl.board.x.renderCreateViewMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/state/RapidBoardUrlState.js' */
!function(){"use strict";var d=require("jira-agile/rapid/const/PageMode"),r=require("jira-agile/rapid/ui/SPConfig");require("jira/featureflags/feature-manager");GH.RapidBoardUrlState={},GH.RapidBoardUrlState.self="RapidBoardUrlState",GH.RapidBoardUrlState.isApplicable=function(e){return!0},GH.RapidBoardUrlState.getNormalizedFromUrl=function(e,a){if(GH.spa.urlState.isBoardLocationless){a.rapidView=GH.RapidBoard.UrlState.normalizeNumberParam(e.rapidView),delete a.projectKey;var i=GH.RapidBoard.UrlState.normalizeStringParam(e.projectKey,null);null!==i&&(a.projectKey=i),GH.RapidBoard.State.getMode()===d.WORK&&(t=GH.RapidBoard.UrlState.normalizeStringParam(e.modal,null),a.issueModalOpened="detail"===t);var t=GH.RapidBoard.UrlState.normalizeStringParam(e[r.PARAM_NAME],null);null!==t&&(a.tab=t,a.insightsTab=GH.RapidBoard.UrlState.normalizeStringParam(e.insightsConfigTab,null));t=GH.RapidBoard.UrlState.normalizeStringParam(e.view,"");if(!GH.RapidBoard.UrlState.normalizeBooleanParam(e.useStoredSettings,!1)||""!==t)switch(t=GH.RapidBoard.State.isLoadingKanPlanWhileItDisabled(t)?"detail":t){case"reporting":a.mode=d.REPORT,a.sprintSupportEnabled=GH.RapidBoard.State.isScrumBoard();break;case"planning":a.mode=d.PLAN,a.detailOpened=!0;break;case"planning.nodetail":a.mode=d.PLAN,a.detailOpened=!1;break;case"detail":a.mode=d.WORK,a.detailOpened=!0;break;default:a.mode=d.WORK,a.detailOpened=!1}}else!function(e,a){a.rapidView=GH.RapidBoard.UrlState.normalizeNumberParam(e.rapidView),a.projectKey=GH.RapidBoard.UrlState.normalizeStringParam(e.projectKey,null),e.mode===d.WORK&&(i=GH.RapidBoard.UrlState.normalizeStringParam(e.modal,null),a.issueModalOpened="detail"===i);var i=GH.RapidBoard.UrlState.normalizeStringParam(e[r.PARAM_NAME],null);null!==i&&(a.insightsTab=GH.RapidBoard.UrlState.normalizeStringParam(e.insightsConfigTab,null),a.tab=i),i=e.mode,GH.RapidBoard.UrlState.normalizeBooleanParam(e.useStoredSettings,!1)&&""===i||(GH.RapidBoard.State.isLoadingKanPlanWhileItDisabled(i)&&(i=d.WORK),a.mode=i||d.WORK,e=GH.RapidBoard.UrlState.normalizeStringParam(e.view,""),a.detailOpened="detail"===e)}(e,a)},GH.RapidBoardUrlState.toUrl=function(e,a){if(GH.spa.urlState.isBoardLocationless)switch(_.isUndefined(e.rapidView)||(a.rapidView=e.rapidView),delete a.projectKey,_.isUndefined(e.projectKey)||(a.projectKey=e.projectKey),_.isUndefined(e.tab)||(a[r.PARAM_NAME]=e.tab),_.isUndefined(e.insightsTab)||(a.insightsConfigTab=e.insightsTab),_.isUndefined(e.locationless)||(a.locationless=e.locationless),e.mode){case d.WORK:e.detailOpened&&(a.view="detail"),e.issueModalOpened&&(a.modal="detail");break;case d.REPORT:a.view="reporting";break;case d.PLAN:e.detailOpened?a.view="planning":a.view="planning.nodetail"}else!function(e,a){switch(delete a.rapidView,delete a.selectedProjectKey,delete a.projectKey,delete a.chart,_.isUndefined(e.tab)||(a[r.PARAM_NAME]=e.tab),e.insightsTab&&(a.insightsConfigTab=e.insightsTab),e.mode){case d.WORK:e.detailOpened&&(a.view="detail"),e.issueModalOpened&&(a.modal="detail");break;case d.PLAN:e.detailOpened&&(a.view="detail")}}(e,a)},GH.RapidBoardUrlState.getNormalizedFromInternal=function(e){e.rapidView=GH.RapidBoard.State.getRapidViewId(),e.mode=GH.RapidBoard.State.getMode(),delete e.projectKey;var a=GH.RapidBoard.State.getProjectKey();_.isUndefined(a)||(e.projectKey=a),e.mode===d.WORK?(e.detailOpened=GH.RapidBoard.State.isDetailsViewOpened(),e.issueModalOpened=GH.RapidBoard.State.isIssueModalOpened()):e.mode===d.PLAN?e.detailOpened=GH.RapidBoard.State.isDetailsViewPlanOpened():e.mode===d.REPORT&&(e.sprintSupportEnabled=GH.RapidBoard.State.isScrumBoard()),GH.spa.urlState.isBoardLocationless&&(e.locationless=GH.spa.urlState.isBoardLocationless),GH.RapidBoard.State.isConfigOpen()&&(e.tab=GH.RapidBoard.State.getSelectedConfigTab(),e.insightsTab=GH.RapidBoard.State.getSelectedInsightsConfigTab())},GH.RapidBoardUrlState.updateInternalFromNormalized=function(e){_.isUndefined(e.rapidView)||GH.RapidBoard.State.setRapidViewId(e.rapidView);var a=e.mode,i=e.detailOpened;require("jira-agile/rapid/deferred-resources-loader");_.isUndefined(a)||GH.RapidBoard.State.setMode(e.mode),GH.RapidBoard.State.setProjectKey(e.projectKey),_.isUndefined(i)||(a===d.PLAN?(GH.RapidBoard.State.setPlanViewDetailsViewOpened(i),GH.PlanController.setDetailViewOpenedState(i)):(GH.RapidBoard.State.setWorkViewDetailsViewOpened(i),GH.WorkController.setDetailViewOpenedState(i))),GH.RapidBoard.State.setSelectedConfigTab(e.tab),GH.RapidBoard.State.setSelectedInsightsConfigTab(e.insightsTab);e=e.issueModalOpened;a!==d.WORK||_.isUndefined(e)||GH.RapidBoard.State.setWorkIssueModalOpened(!!e)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/VersionsModel.js' */
GH.VersionsModel=function(e){this.projects=e,this.fixVersions=void 0,this.canCreateVersion=!1},GH.VersionsModel.prototype.setProjects=function(e){this.projects=e},GH.VersionsModel.prototype.updateRawData=function(e){this.canCreateVersion=e.canCreateVersion,this.fixVersions=GH.VersionsModel.buildFixVersions(e,this.projects)},GH.VersionsModel.prototype.isValid=function(){return!!this.fixVersions},GH.VersionsModel.prototype.getVersions=function(){return this.fixVersions},GH.VersionsModel.prototype.getProjects=function(){return this.projects},GH.VersionsModel.prototype.canUserCreateVersion=function(){return this.canCreateVersion},GH.VersionsModel.prototype.getVersionsForIds=function(e){e=_.chain(e).filter(function(e){return _.has(this.fixVersions,e)},this).map(function(e){return this.fixVersions[e]},this).value();return this.getFixVersionFromArray(e)},GH.VersionsModel.prototype.getUnreleasedVersionsForIds=function(e){e=_.chain(e).filter(function(e){return this.fixVersions&&_.has(this.fixVersions,e)},this).map(function(e){return this.fixVersions[e]},this).where({released:!1}).value();return this.getFixVersionFromArray(e)},GH.VersionsModel.prototype.getVersion=function(e){return _.has(this.fixVersions,e)?this.fixVersions[e]:null},GH.VersionsModel.prototype.getFixVersionFromArray=function(e){var o=_.sortBy(e,function(e){return e.sequence}),e={};return e.versions=o,e.formattedVersions=_.map(o,this.getToolTip).join(", "),e},GH.VersionsModel.prototype.getToolTip=function(e){return e.released?e.name+" (released)":e.name},GH.VersionsModel.prototype.sort=function(e,o){return!e.project||e.project.key===o.project.key?e.sequence-o.sequence:e.project.key<o.project.key?-1:1},GH.VersionsModel.prototype.getUnreleasedVersionList=function(){return _.chain(_.toArray(this.fixVersions)).where({released:!1}).value().sort(this.sort)},GH.VersionsModel.prototype.getAllVersions=function(){return _.chain(_.toArray(this.fixVersions)).value().sort(this.sort)},GH.VersionsModel.prototype.containsId=function(e){return _.has(this.fixVersions,e)},GH.VersionsModel.prototype.isEmpty=function(){return _.isEmpty(this.fixVersions)},GH.VersionsModel.prototype.hasMultiProjects=function(){return 1<this.projects.length},GH.VersionsModel.prototype.updateVersion=function(e){return!_.isUndefined(this.fixVersions[e.id])&&(this.fixVersions[e.id]=e,!0)},GH.VersionsModel.buildFixVersions=function(e,s){var t={};return _.each(e.versionsPerProject,function(e,r){r=parseInt(r,10),_.each(e,function(e){var o=_.findWhere(s,{id:r});void 0!==o&&(t[e.id]=_.clone(e),t[e.id].project=o)})}),t};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/VersionsDataService.js' */
!function(r,i){function e(){}var n=require("jira-agile/rapid/ajax");e.prototype={getVersionsModel:function(e){return n.get({url:"/xboard/plan/backlog/versions.json",data:{rapidViewId:e}},"versionsList").andThen(function(e){var n=new r(e.projects);return n.updateRawData(e.versionData),n})},getSimpleVersions:function(e){return this.getVersionsModel(e).andThen(function(e){return i.map(e.getAllVersions(),function(e){return{id:e.id,name:e.project?e.project.key+": "+e.name:e.name}})})},versionExists:function(e,n){return i.some(e,function(e){return e.id===n})}},GH.VersionsDataService=e,GH.versionsDataService=new e}(GH.VersionsModel,_);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/SprintsDataService.js' */
!function(){function r(){}var t=require("jira-agile/rapid/ajax");r.prototype={getSimpleSprints:function(r){return t.get({url:"/sprintquery/"+r,data:{includeFutureSprints:!1}},"getSimpleSprints").andThen(function(r){return r.sprints})}},GH.SprintsDataService=r,GH.sprintsDataService=new r}(_);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/EpicsDataService.js' */
!function(t){"use strict";var n=null,i=require("jira-agile/rapid/ajax");require("jira/featureflags/feature-manager");function e(){}e.prototype={getEpics:function(e){return i.get({url:"/xboard/plan/backlog/epics.json",data:{rapidViewId:e}},"epicsList").andThen(function(e){return n=e.supportsPages,e.epics})},getSimpleEpics:function(e){return this.getEpics(e).andThen(function(e){return t.map(e,function(e){return{id:e.key,name:e.key+": "+e.summary,linkedPagesCount:e.linkedPagesCount}})})},epicExists:function(e,n){return t.some(e,function(e){return e.id===n})},supportsPages:function(){if(null===n)throw"epic data has not been loaded yet";return n}},GH.EpicsDataService=e,GH.epicsDataService=new e}(_);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/BoardDataLoader.js' */
var _extends=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r,t=arguments[a];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function _defineProperty(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}define("jira-agile/rapid/board-data-loader",["require"],function(){"use strict";var o=this,e=require("jira/featureflags/feature-manager"),s=require("jira-agile/rapid/wrm-spa-utils"),l=require("jira-agile/rapid/trace-utils"),p="all-data-promise",u="initial-data",f="GH_SPA_RESOURCES_READY",c="GH_SPA_RB_READY",a=require("jira-agile/rapid/const/PageMode"),g=require("wrm/data"),t=Object.freeze(_defineProperty({},a.WORK,"/xboard/work")),S=function(){return e.isFeatureEnabled("jsw.classic.board.api-calls.modern-frontend")&&GH.RapidBoard.loadData},m={},b=function(e){l.endSpan("boardDataPromiseSPA",{spaData:"success"}),GH.RapidBoard.State.isConfigOpen()||GH.WorkController&&GH.WorkController.updateBoardState(e)},H=function(e,a){var r=!GH.RapidBoard.State.isFirstLoad()&&_.isEqual(GH.RapidBoard.UrlState.getNormalizedRapidBoardState(),GH.RapidBoard.UrlState.getNormalizedUrlState());GH.RapidBoard.loadData({isRefresh:r,deferred:a,mode:e}),a.done(function(e){return b(e)}).fail(function(){return l.endSpan("boardDataPromiseSPA",{spaData:"fail"})}).always(function(){return GH.RapidBoard.State.setLoadDataClaimed(!1)})};return m.loadData=function(e,a){if(!GH.gadget&&GH.spa&&GH.RapidBoard.State.isFirstLoad()){var r=AJS.$.Deferred();return n=e,d=r,window.addEventListener(f,function e(){window.removeEventListener(f,e),l.startSpan("boardDataPromiseSPA",{mode:n}),S()?H(n,d):GH.spa[u][p].then(function(e){b(e),d.resolveWith(this,[e])},function(e){l.endSpan("boardDataPromiseSPA",{spaData:"fail"})})}),s.sendEventToSpa(c),GH.RapidBoard.State.changeFirstLoadState(),r}if(!GH.RapidBoard.State.isFirstLoad()||GH.gadget)return l.startSpan("bigPipeKeyFallback",{mode:e}),a();var r=m.getModeKey(e),t=AJS.$.Deferred();l.startSpan("bigPipeKey",{mode:e});function i(){a().done(function(e,a){l.endSpan("bigPipeKey",{success:!0,xhr:a}),t.resolveWith(o,[e])}).fail(function(e,a){l.endSpan("bigPipeKey",{success:!1,xhr:a,data:e}),t.rejectWith(o,[e,a])})}var n,d;return g.claim(r,function(e){e?(l.endSpan("bigPipeKey",{claim:!0}),t.resolveWith(o,[e])):i()},i),GH.RapidBoard.State.changeFirstLoadState(),setTimeout(function(){performance.getEntriesByName&&0<performance.getEntriesByName("bigPipe.ghx-page-load-big-pipe.error").length&&i()},0),t.promise()},m.getDeferredData=function(e,a,r){e=t[e];if(!a||0===a.length||_.isUndefined(e))return(new AJS.$.Deferred).reject();r=_extends({rapidViewId:GH.RapidBoard.State.getRapidViewId(),fields:a},r);return GH.Ajax.post({url:e,data:r,deferErrorHandling:!0})},m.getModeKey=function(e){return e===a.WORK?"work-all-data":"plan-all-data"},m});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/OnboardingPlaceholders.js' */
GH.planOnboarding={renderOnboarding:function(){},refresh:function(){},hide:function(){}};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/ADG3SoyTemplateFlag.js' */
GH.tpl||(GH.tpl={});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/configuration/SPConfigController.js' */
define("jira-agile/rapid/ui/SPConfigController",["jira-agile/rapid/ui/SPConfigView","jira-agile/rapid/configuration/ConfigContextLoader","jira/container-api"],function(a,e,o){var t=!1,n={init:function(i){t=!1,a.prepareConfigView(i),e.getContext().then(function(){GH.RapidBoard.Config.init()})},isOpen:function(){return a.isOpen()},openConfig:function(i){i&&GH.RapidBoard.State.setStoredSelectedConfigTab(i),GH.RapidBoard.State.openConfig(),GH.RapidBoard.State.pushState(),GH.RapidBoard.reload()},closeConfig:function(i){t?n.fullPageBackToBoard():(a.disposeConfigView(),GH.RapidBoard.State.closeConfig(),GH.RapidBoard.State.pushState())},fullPageBackToBoard:function(){var i=GH.RapidBoard.State.getRapidViewId(),a=AJS.contextPath()+"/secure/RapidBoard.jspa?rapidView="+i+"&useStoredSettings=true";o.navigate(a,function(){window.location.href=a})}};return n});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/configuration/SPConfigView.js' */
define("jira-agile/rapid/ui/SPConfigView",["jquery","jira/atlaskit/breadcrumbs"],function(r,a){var e={renderSpinner:function(){var e=r("<div></div>").addClass("ghx-throbber");r("#ghx-content-main").append(e),setTimeout(function(){return e.spin("large")},1e3)},prepareConfigView:function(e){r("#ghx-rabid").empty(),this.renderTitle({model:e,isLoading:!0}),this.renderSpinner()},disposeConfigView:function(){r("body").removeClass("ghx-board-configure"),r("#gh").html(GH.tpl.board.x.renderRapidBoard({isWorkMode:!1})),r("#ghx-operations").append(GH.tpl.viewcontroller.renderOperationsBar())},isOpen:function(){return r("body").hasClass("ghx-board-configure")}};return e.renderTitle=function(e){var r=e.model,i=e.isLoading;AJS.$("#ghx-header").html(GH.tpl.rapid.view.renderConfigurationHeader({name:r.name,rapidViewId:r.id})),a.isEnabled()&&a.render();function n(e){AJS.trigger("analyticsEvent",{name:"gh.config.back.to.board"}),i||(e.preventDefault(),GH.RapidBoard.ViewController.setMode(GH.RapidBoard.State.getMode()))}AJS.$("#back-to-board").off("click",n),AJS.$("#back-to-board").on("click",n)},e});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/work/ReleaseVersionTrigger.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("jira-agile/rapid/ui/work/release-version-trigger",["jquery","underscore","jira-agile/rapid/events","jira-agile/rapid/global-events","jira-agile/tooltip","require","jira-agile/rapid/deferred-resources-loader","jira-agile/rapid/const/PageMode"],function(l,d,e,r,u,f,i,n){"use strict";var c,g,p;r.on("pre-initialization",function(){c=GH.GridDataController,g=GH.VersionController});var o=new e;function h(e){e=AJS.$(e.target).closest("a").data("version");o.trigger(o.RELEASE_VERSION,e)}function v(){return GH.RapidBoard.State.getMode()===n.WORK&&i.getDeferBatchParsed()}return o.RELEASE_VERSION="release-version",o.remove=function(){p&&p.length&&p.remove()},o.render=function(){this.remove();var e,r,i,n,o,t=(e=c.getModel(),r=g.getVersionModel(),t=e.getDoneColumn(),i=e.getIssuesDataForColumn(t.id),n=1<r.getProjects().length,e=d.uniq(d.flatten(i.map(function(e){return e.fixVersions}))),e=r.getUnreleasedVersionsForIds(e).versions,i=d.find(i,function(e){return 0===e.fixVersions.length}),{canRelease:c.canRelease,isReleasesFeatureEnabled:GH.RapidViewConfig.isReleasesFeatureEnabled,anythingToRelease:!(!i&&!e.length),versions:e,hasIssuesWithoutVersion:i,hasMultipleProjects:n,doneColumnName:t.name,deferBatchParsed:v()});if(t.isReleasesFeatureEnabled)return p=l(GH.tpl.rapid.work.releaseVersionTrigger.renderReleaseVersionPicker(t)),v()&&(f("jira-agile/rapid/ui/dialog/release-existing-version-dialog").init(),t=p,l("#ghx-release-version-list").find("a").off("click",h),t.find("#ghx-release-version-list a").on("click",h),o=(t=p).find("#ghx-button-release-version-list"),t=t.find("#ghx-release-version-list"),u.tipsify({selector:o,gravity:"e"}),o.on("focusin",function(){a()&&l("#ghx-release").addClass("ghx-release-focused"),u.show(o)}),o.on("focusout",function(){a()&&s(),u.hide(o)}),o.on("mouseleave",function(){a()&&s()}),o.on("click",function(){u.hide(o)}),t.on({"aui-dropdown2-show":function(){u.disable(o)},"aui-dropdown2-hide":function(e){u.enable(o)}}),JIRA.trace("gh.release.version.trigger.rendered")),p;function a(){var e=o.attr("aria-disabled");return"undefined"!==(void 0===e?"undefined":_typeof(e))&&!1!==e}function s(){l("#ghx-release").removeClass("ghx-release-focused")}},o});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/work/ReleaseVersionTrigger.soy' */
// This file was automatically generated from ReleaseVersionTrigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.work.releaseVersionTrigger.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.work == 'undefined') { GH.tpl.rapid.work = {}; }
if (typeof GH.tpl.rapid.work.releaseVersionTrigger == 'undefined') { GH.tpl.rapid.work.releaseVersionTrigger = {}; }


GH.tpl.rapid.work.releaseVersionTrigger.renderReleaseVersionPicker = function(opt_data, opt_ignored) {
  var output = '';
  var tooltip__soy3 = '' + ((! opt_data.anythingToRelease) ? soy.$$escapeHtml('There are no issues to be released') : (! opt_data.canRelease) ? soy.$$escapeHtml('You must be a project administrator or Jira administrator to release versions.') : soy.$$escapeHtml(AJS.format('Release a version from the {0} column',opt_data.doneColumnName)));
  output += '<div id="ghx-release"><!-- Trigger --><button id="ghx-button-release-version-list" aria-owns="ghx-release-version-list" aria-haspopup="true" class="aui-button aui-style-default aui-dropdown2-trigger "' + ((! opt_data.canRelease || ! opt_data.anythingToRelease || ! opt_data.deferBatchParsed) ? 'aria-disabled="true" ' : '') + 'data-tooltip="' + soy.$$escapeHtml(tooltip__soy3) + '">' + soy.$$escapeHtml('Release') + '</button><!-- Dropdown --><div id="ghx-release-version-list" class="ghx-release-version-list aui-style-default aui-dropdown2">' + ((opt_data.hasIssuesWithoutVersion) ? '<div class="aui-dropdown2-section"><ul><li class="aui-list-item"><a class="aui-list-item-link" data-version="">' + soy.$$escapeHtml('New version') + '</a></li></ul></div>' : '');
  if (opt_data.versions.length > 0) {
    output += '<div class="aui-dropdown2-section"><ul>';
    var versionList28 = opt_data.versions;
    var versionListLen28 = versionList28.length;
    for (var versionIndex28 = 0; versionIndex28 < versionListLen28; versionIndex28++) {
      var versionData28 = versionList28[versionIndex28];
      output += '<li class="aui-list-item"><a data-version="' + soy.$$escapeHtml(versionData28.id) + '" class="aui-list-item-link"><div class="flex-group"><div class="flex-item"><span>' + soy.$$escapeHtml(versionData28.name) + '</span></div>' + ((opt_data.hasMultipleProjects && versionData28.project) ? '<div class="flex-item"><span class="ghx-project-key">' + soy.$$escapeHtml(versionData28.project.key) + '</span></div>' : '') + '</div></a></li>';
    }
    output += '</ul></div>';
  }
  output += '</div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.work.releaseVersionTrigger.renderReleaseVersionPicker.soyTemplateName = 'GH.tpl.rapid.work.releaseVersionTrigger.renderReleaseVersionPicker';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/plan/SprintConfig.js' */
define("jira-agile/rapid/ui/plan/sprint-config",[],function(){"use strict";var n={sprintConfig:void 0,setSprintConfig:function(i){n.sprintConfig=i},getSprintConfig:function(){return n.sprintConfig},getSprintFieldId:function(){return n.getSprintConfig().sprintFieldId}};return n});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/RapidViewConfig.js' */
var _extends=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var a,r=arguments[i];for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};!function(t){var d=!1,p=(require("wrm/data"),require("underscore")),i=require("jira/analytics/web-client"),a=require("jira/featureflags/feature-manager"),s=a.isFeatureEnabled("jsw.classic.board.api-calls.modern-frontend"),f=(require("jira/util/safe-logger"),"config-data");t.RapidViewConfig={},t.RapidViewConfig.currentData={},t.RapidViewConfig.isReleasesFeatureEnabled=!0,t.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL=-1,t.RapidViewConfig.getRapidViewKey=function(e){return e?"rapidViewConfig-"+e:null};function u(e){try{i.sendOperationalEvent({source:"RapidViewConfig",actionSubject:"rapidboard configError",action:"fetchSPAConfiguration",attributes:{message:e.message,mode:t.RapidBoard.State.getMode(),source:"rapidboard",error:e.stack,synthetic:a.isFeatureEnabled("jsw.pollinator.tenants"),boardType:t.RapidBoard.State.getBoardTypeForAnalytics()}})}catch(e){}}t.RapidViewConfig.fetchSPAConfiguration=function(e,i){p.isNull(e)?e={viewId:null,fromLocalStorage:!0}:p.isObject(e)||(e={viewId:e,fromLocalStorage:!1});var a=e.viewId,r=e.fromLocalStorage;if(t.RapidViewConfig.currentData.promise&&!i&&t.RapidViewConfig.currentData.id===a)return t.RapidViewConfig.currentData.promise;e=t.RapidViewConfig.getRapidViewKey(a);if(a&&window.GH.spa&&window.GH.spa[f]&&window.GH.spa[f].key===e){var n=AJS.$.Deferred();if(t.RapidViewConfig.currentData={id:a,promise:n.promise(),data:null},!i)return window.GH.spa[f][e].then(function(e){e=e.data;t.RapidViewConfig.handleData(e),n.resolve(e.currentViewConfig).promise()}).catch(function(e){u(e),t.RapidViewConfig.handleRapidLoadError(e,e.statusText)}),t.RapidViewConfig.currentData.promise;var o=window.GH.spa[f].update;window.GH.spa[f].refresh({url:"/rest/greenhopper/1.0/xboard/config.json",query:{returnDefaultBoard:r,rapidViewId:a},key:window.GH.spa[f].key}).then(function(i){var e=null;i&&i.currentViewConfig&&(e=t.RapidViewConfig.getRapidViewKey(i.currentViewConfig.id)),o(function(e){return _extends({},e,{data:i})}),window.GH.spa[f].key===e&&(t.RapidViewConfig.handleData(i),AJS.$("#ghx-issue-fragment").trigger("rapid-view-configuration-updated")),n.resolve(i.currentViewConfig).promise()}).catch(function(e){u(e),t.RapidViewConfig.handleRapidLoadError(e,e.statusText)})}else!i&&t.RapidViewConfig.currentData.id===a||(r={returnDefaultBoard:r},a&&(r.rapidViewId=a),(r=t.Ajax.get({url:"/xboard/config.json",data:r,deferErrorHandling:!0},"rapidViewConfig")).done(function(e){t.RapidViewConfig.handleData(e),AJS.$("#ghx-issue-fragment").trigger("rapid-view-configuration-updated")}),t.RapidViewConfig.currentData={id:a,promise:r.pipe(function(e){return e.currentViewConfig},t.RapidViewConfig.handleRapidLoadError),data:null});return t.RapidViewConfig.currentData.promise},t.RapidViewConfig.fetchConfiguration=function(e,i){p.isNull(e)?e={viewId:null,fromLocalStorage:!0}:p.isObject(e)||(e={viewId:e,fromLocalStorage:!1});var a=e.viewId,r=e.fromLocalStorage;if(s)return t.RapidViewConfig.fetchSPAConfiguration(e,i);if(!d){d=!0;var n=window.SPA_RAPIDBOARD_CONFIG;if(n){if(delete window.SPA_RAPIDBOARD_CONFIG,200!==n.status||!n.response){var o=AJS.$.Deferred();return n.addEventListener("load",function(){var e=JSON.parse(n.response);t.RapidViewConfig.handleData(e),o.resolve(e.currentViewConfig).promise()}),t.RapidViewConfig.currentData={id:a,promise:o.promise(),data:null},t.RapidViewConfig.currentData.promise}e=JSON.parse(n.response);t.RapidViewConfig.handleData(e),t.RapidViewConfig.currentData.promise=AJS.$.Deferred().resolve(e.currentViewConfig).promise()}}return!i&&t.RapidViewConfig.currentData.id===a||(r={returnDefaultBoard:r},a&&(r.rapidViewId=a),(r=t.Ajax.get({url:"/xboard/config.json",data:r,deferErrorHandling:!0},"rapidViewConfig")).done(function(e){t.RapidViewConfig.handleData(e),AJS.$("#ghx-issue-fragment").trigger("rapid-view-configuration-updated")}),t.RapidViewConfig.currentData={id:a,promise:r.pipe(function(e){return e.currentViewConfig},t.RapidViewConfig.handleRapidLoadError),data:null}),t.RapidViewConfig.currentData.promise},t.RapidViewConfig.handleRapidLoadError=function(e,i){i&&404===i.status&&t.RapidBoard.gotoManageViewsPage("?showFlag=jsw.board-not-found")},t.RapidViewConfig.handleData=function(e){t.RapidViewConfig.storeGlobalConfig(e.globalConfig),t.RapidViewConfig.currentData.id=e.currentViewConfig.id,t.RapidViewConfig.currentData.data=e.currentViewConfig,t.RapidViewConfig.canManageSprints=e.currentViewConfig.canManageSprints,t.RapidViewConfig.canEdit=e.currentViewConfig.canEdit,t.RapidViewConfig.kanPlanEnabled=e.currentViewConfig.kanPlanEnabled,t.RapidViewConfig.isBoardAdmin=e.currentViewConfig.isBoardAdmin,t.RapidViewConfig.canManageSprints=e.currentViewConfig.canManageSprints,t.RapidViewConfig.isReleasesFeatureEnabled=e.currentViewConfig.isReleasesFeatureEnabled,t.RapidViewConfig.isDevopsFeatureDisabledInFedRamp=e.currentViewConfig.isDevopsFeatureDisabledInFedRamp,t.RapidViewConfig.modifySprintSupport()},t.RapidViewConfig.storeGlobalConfig=function(e){t.NumberFormat.groupingSeparator=e.numberGroupingSeparator,t.NumberFormat.decimalSeparator=e.numberDecimalSeparator,t.TimeFormat.timeTrackingConfigOpts=e.timeTrackingConfig,t.TimeFormat.dateTimePickerFormat=e.dateTimePickerFormat,t.TimeFormat.dateFormat=e.dateFormat,t.TimeFormat.userTimeZoneLabel=e.userTimeZoneLabel,t.TimeFormat.useISO8601WeekNumbers=e.useISO8601WeekNumbers,t.RapidBoard.parallelSprints=e.parallelSprints,t.EpicConfig.setEpicConfig(e.epicConfig),t.SprintConfig.setSprintConfig(e.sprintConfig),t.UserData.setGlobalConfig(e),t.Config.setSampleDataAvailable(e.isSampleDataAvailable),e.flexibleNomenclatureData&&e.flexibleNomenclatureData.levelOneName&&(e=e.flexibleNomenclatureData.levelOneName,t.RapidBoard.State.setEpicLevelName(e))},t.RapidViewConfig.modifySprintSupport=function(){var e=AJS.$("body");e.removeClass("ghx-days-in-column-disabled ghx-days-in-column-enabled ghx-sprint-support ghx-no-sprint-support"),t.RapidBoard.State.isScrumBoard()?e.addClass("ghx-sprint-support"):e.addClass("ghx-no-sprint-support"),t.RapidViewConfig.currentData.data.showDaysInColumn?e.addClass("ghx-days-in-column-enabled"):e.addClass("ghx-days-in-column-disabled")},t.RapidViewConfig.getKanPlanColumnStatusIds=function(){var e=t.RapidViewConfig.currentData.data.columns.filter(function(e){return e.isKanPlanColumn});return e&&1===e.length?e[0].statusIds:[]}}(GH);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/WrmSpaUtils.js' */
define("jira-agile/rapid/wrm-spa-utils",["require","jira/featureflags/feature-manager"],function(n,e){function i(n,e){var i=document.createEvent("Event");i.initEvent(n,!0,!0),e&&(i.mode=e),window.dispatchEvent(i)}return{sendEventToSpa:i,sendSpinnerShowEvent:function(n){i("GH_SPA_SPINNER_SHOW",n)},sendSpinnerHideEvent:function(n){i("GH_SPA_SPINNER_HIDE",n)},isRapidboardsActive:function(){return!!GH.spa}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/configuration/ConfigContextLoader.js' */
define("jira-agile/rapid/configuration/ConfigContextLoader",["wrm/require","jira/featureflags/feature-manager","jira-agile/rapid/const/PageMode"],function(r,e,i){var o=void 0;return{prefetch:function(){var e="com.pyxis.greenhopper.jira:gh-rapid-config";GH.RapidBoard.ViewController.getMode()===i.WORK?e="com.pyxis.greenhopper.jira:gh-rapid-config-lwf-board-deferred":GH.RapidBoard.ViewController.getMode()===i.PLAN&&(e="com.pyxis.greenhopper.jira:gh-rapid-config-backlog"),o&&!o.isRejected()||(o=r(["wrc!"+e]))},getContext:function(){return this.prefetch(),o.fail(function(){GH.Notification.showError("We\'re having trouble contacting the server. Refresh the page and try again.")}),o}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/extra-fields/ExtraFieldsHelper.js' */
define("jira-agile/rapid/ui/component/extra-fields/ExtraFieldsHelper",["require"],function(e){"use strict";function n(e){return e.html||e.text}var t=e("underscore"),r={epiclink:function(e){return GH.EpicConfig.getEpicNameString(e.text,e.epicKey)},html:function(e){return e.html&&"&nbsp;"!==e.html?(e.useSoyNoAutoescape=!0,e.html):""},sla:function(e){return e.html&&"&nbsp;"!==e.html?(e.useSoyNoAutoescape=!0,e.html):""}};return{prepareExtraFields:function(e){t.each(e,function(e){var t=r[e.renderer]||n;e.renderedContent=t(e)})}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/extra-fields/ExtraFields.soy' */
// This file was automatically generated from ExtraFields.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.extraFields.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.extraFields == 'undefined') { GH.tpl.extraFields = {}; }


GH.tpl.extraFields.renderExtraField = function(opt_data, opt_ignored) {
  var output = '';
  var contentOrNone__soy3 = opt_data.extraField.renderedContent || 'None';
  var tooltip__soy4 = '' + ((opt_data.extraField.useSoyNoAutoescape) ? soy.$$escapeHtml(opt_data.extraField.label) + ': ' + soy.$$filterNoAutoescape(contentOrNone__soy3) : soy.$$escapeHtml(opt_data.extraField.label) + ': ' + soy.$$escapeHtml(contentOrNone__soy3));
  output += (! opt_data.isDevopsFeatureDisabledInFedRamp) ? '<span class="ghx-extra-field ' + ((! opt_data.extraField.renderedContent) ? 'ghx-fa' : '') + '" data-tooltip="' + soy.$$escapeHtml(tooltip__soy4) + '"><span class="ghx-extra-field-content">' + ((opt_data.extraField.useSoyNoAutoescape) ? soy.$$filterNoAutoescape(contentOrNone__soy3) : soy.$$escapeHtml(contentOrNone__soy3)) + '</span></span>' : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.extraFields.renderExtraField.soyTemplateName = 'GH.tpl.extraFields.renderExtraField';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/version/VersionController.js' */
GH.VersionController={},GH.VersionController.model=null,function(){var e=require("jira-agile/rapid/analytics-tracker");GH.VersionController.analytics=new e("gh.rapidboard.versions","versionCount","")}();var JIRAEvents=require("jira/util/events");GH.VersionController.init=function(){GH.VersionController.model=new GH.VersionsModel([]);var e=require("jira-agile/rapid/const/PageMode");require("jira-agile/rapid/deferred-resources-loader").handleDeferredResourceImport(GH.RapidBoard.State.getMode()===e.WORK||GH.RapidBoard.State.getMode()===e.PLAN,function(){AJS.$(GH).bind(GH.VersionQuickCreate.EVENT_VERSION_CREATED,function(e,r){GH.VersionController.handleVersionCreated(r.createdVersion)}),GH.VersionView.init()})},GH.VersionController.setProjects=function(e){GH.VersionController.model&&GH.VersionController.model.setProjects(e)},GH.VersionController.setVersions=function(e){GH.VersionController.model&&GH.VersionController.model.updateRawData(e)},GH.VersionController.getVersionModel=function(){return GH.VersionController.model},GH.VersionController.registerVersionsCount=function(){var e=GH.VersionController.model.getUnreleasedVersionList().length;GH.VersionController._triggerVersionCount(e)},GH.VersionController._triggerVersionCount=_.once(function(e){GH.VersionController.analytics.trigger(e)}),GH.VersionController.getFilteredVersionId=function(){return GH.BoardState.getPerViewValue("planSelectedVersion",null)},GH.VersionController.setFilteredVersionId=function(e){GH.BoardState.setPerViewValue("planSelectedVersion",e)},GH.VersionController.hasFilteredVersion=function(){return null!=GH.VersionController.getFilteredVersionId()},GH.VersionController.validateSelectedVersion=function(){var e=GH.VersionController.getVersionModel(),r=GH.VersionController.getFilteredVersionId();GH.PlanIssueListFiltering.isNoneVersionFilterId(r)&&!e.isEmpty()||e.containsId(r)||(GH.VersionController.setFilteredVersionId(void 0),GH.RapidBoard.UrlState.replaceState())},GH.VersionController.setIssuesVersion=function(n,e){var r=require("jira/featureflags/feature-manager"),i=[];_.isEmpty(e)||(_.each(e,function(e){i.push(e.fixVersions),e.fixVersions=[n]}),GH.BacklogController.updateIssues(e));r=(r.getFlagValue("odin.ec.client.integration.cbb")||"").split(",");Array.isArray(r)&&r.includes("issue-drop-in-version")&&JIRAEvents.trigger("issueAddedToVersion",{issueIds:(e||[]).map(function(e){return(e||{}).id})});r=_.pluck(e,"key");GH.VersionController.setIssuesVersionOnServer(n,r).done(function(){GH.Notification.showSuccess("Selection successfully added to the version"),e.forEach(function(e,r){var o=[];i[r].forEach(function(e){e!==n&&o.push({name:"fixVersions",oldValId:e,newValId:n})}),0<o.length&&GH.RapidBoard.sendIssueUpdatedTrackEvent(e,o)}),GH.PlanController.isActive()&&(GH.BacklogController.updateVersionData(),GH.VersionController._reloadDetailsView(GH.PlanController))}).fail(function(){GH.PlanController.isActive()&&GH.BacklogController.loadData()})},GH.VersionController.clearIssuesVersion=function(e){var r;_.isEmpty(e)||(r=[],_.each(e,function(e){e.fixVersions&&0<e.fixVersions.length&&(e.fixVersions=[],r.push(e))}),_.isEmpty(r)||(GH.BacklogController.updateIssues(r),e=_.pluck(e,"key"),GH.VersionController.clearIssuesVersionOnServer(e).done(function(){GH.Notification.showSuccess("Selection successfully removed from all versions"),GH.PlanController.isActive()?(GH.BacklogController.updateVersionData(),GH.VersionController._reloadDetailsView(GH.PlanController)):GH.WorkController.isActive()&&GH.VersionController._reloadDetailsView(GH.WorkController)}).fail(function(){GH.PlanController.isActive()&&GH.BacklogController.loadData()})))},GH.VersionController.updateVersion=function(e,r,o,n){var i=GH.VersionController.getVersionModel(),t=i.getVersion(e),e=_.keys(r),l={};return _.each(e,function(e){l[e]=t[e]||void 0}),_.extend(t,r),i.updateVersion(t),GH.BacklogView.draw(),GH.VersionController._reloadDetailsView(GH.PlanController),n(),GH.VersionController.updateVersionOnServer(t,o).fail(function(){_.extend(t,l),i.updateVersion(t),GH.BacklogView.draw(),GH.VersionController._reloadDetailsView(GH.PlanController)})},GH.VersionController.updateVersionOnServer=function(e,r){return GH.Ajax.post({url:"/versions/"+e.id,data:{id:e.id,projectId:e.project.id,name:e.name,description:e.description,releaseDate:e.releaseDateFormatted,startDate:e.startDateFormatted},errorContextMap:r})},GH.VersionController.setIssuesVersionOnServer=function(e,r){return GH.Ajax.put({url:"/xboard/issue/fixversion/set",data:{issueKeys:r,versionId:e}})},GH.VersionController.clearIssuesVersionOnServer=function(e){return GH.Ajax.put({url:"/xboard/issue/fixversion/clear",data:{issueKeys:e}})},GH.VersionController.handleVersionCreated=function(e){GH.BacklogController.visible&&setTimeout(function(){GH.VersionController.handleVersionCreatedImpl(e)},0)},GH.VersionController.handleVersionCreatedImpl=function(e){var r=(require("jira/featureflags/feature-manager").getFlagValue("odin.ec.client.integration.cbb")||"").split(",");Array.isArray(r)&&r.includes("modify-version")&&JIRAEvents.trigger("versionModified",e.id),GH.BacklogController.updateVersionData().done(function(){GH.VersionView.renderNewVersions([e])})},GH.VersionController._reloadDetailsView=function(e){var r=require("jira-agile/rapid/ui/detail/inlineedit/details-view-reload-reason");e.reloadDetailView(r.VERSION_PANEL_CHANGED)},GH.VersionController.registerCreateVersionDialog=function(){var e=require("jira-agile/rapid/deferred-resources-loader");AJS.$("#ghx-version-column").find(".js-create-version").click(function(){GH.VersionQuickCreate||GH.Dialog.dim(),e.triggerOnDemandResourceLoadWithCondition(!GH.VersionQuickCreate,["wrc!gh-rapid-lwf-board-deferred"],"backlog",function(){GH.VersionQuickCreate.showDialog()},function(){GH.Dialog.undim()})})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ops/IssueSelectionManager.js' */
!function(){"use strict";var t=void 0;GH.IssueSelectionManagerModel={isIssueValid:function(e){return!1},getIssueIndex:function(e){return-1},canAddToSelection:function(e,t){return!1},getIssueRange:function(e,t){return[e,t]}},GH.IssueSelectionManager=function(e,t){this.model=e,this.selectedIssuesStateKey=t,this.lastNonShiftSelectedKey=void 0,this.lastShiftSelectedKey=void 0},GH.IssueSelectionManager.prototype.validateCurrentSelection=function(){var e=this.getSelectedIssueKeys(),t=e.slice(0).reverse(),s=[];return _.each(t,function(e){this.model.isIssueValid(e)&&(0!==s.length&&!this.model.canAddToSelection(s,e)||s.push(e))},this),s.reverse(),!_.isEqual(e,s)&&(this.storeSelectedIssueStack(s),!0)},GH.IssueSelectionManager.prototype.selectIssue=function(e){this._replaceSelectedIssueKeys(e?[e]:[]),this._setLastNonShiftSelectedKey(e)},GH.IssueSelectionManager.prototype.getSelectedIssueKeys=function(){return GH.BoardState.getPerViewValue(this.selectedIssuesStateKey,[])},GH.IssueSelectionManager.prototype.storeSelectedIssueStack=function(e){GH.BoardState.setPerViewValue(this.selectedIssuesStateKey,e);e=new CustomEvent("JiraAgile.selectedIssuesChanged",{detail:{selectedIssues:e||[]}});document.dispatchEvent(e)},GH.IssueSelectionManager.prototype.getSelectedIssuesInOrder=function(){var e=this.getSelectedIssueKeys();return _.sortBy(e,this.model.getIssueIndex.bind(this.model))},GH.IssueSelectionManager.prototype.isInSelection=function(e){var t=this.getSelectedIssueKeys();return _.contains(t,e)},GH.IssueSelectionManager.prototype.hasSelection=function(){var e=this.getSelectedIssueKeys();return!_.isEmpty(e)},GH.IssueSelectionManager.prototype._addToSelection=function(e){var t;this.isInSelection(e)||((t=this.getSelectedIssueKeys()).push(e),this.storeSelectedIssueStack(t))},GH.IssueSelectionManager.prototype._addSelectedIssueKeys=function(e){var t=this;_.each(e,function(e){t._addToSelection(e)})},GH.IssueSelectionManager.prototype._removeFromSelection=function(e){var t=this.getSelectedIssueKeys(),t=_.without(t,e);this.storeSelectedIssueStack(t)},GH.IssueSelectionManager.prototype.removeSelectedIssueKeys=function(e){var t=this;_.each(e,function(e){t._removeFromSelection(e)})},GH.IssueSelectionManager.prototype._replaceSelectedIssueKeys=function(e){this._clearSelectedIssueKeys(),this._addSelectedIssueKeys(e)},GH.IssueSelectionManager.prototype._clearSelectedIssueKeys=function(){this.storeSelectedIssueStack([])},GH.IssueSelectionManager.prototype.getSelectedIssueKey=function(){var e=this.getSelectedIssueKeys();return e[e.length-1]||null},GH.IssueSelectionManager.prototype._getLastNonShiftSelectedKey=function(){if(!this.lastNonShiftSelectedKey){var e=this.getSelectedIssueKey();if(e&&this.model.isIssueValid(e))return this._setLastNonShiftSelectedKey(e),e}return this.lastNonShiftSelectedKey},GH.IssueSelectionManager.prototype._setLastNonShiftSelectedKey=function(e){this.lastNonShiftSelectedKey=e,this.lastShiftSelectedKey=void 0},GH.IssueSelectionManager.prototype._getLastShiftSelectedKey=function(){return this.lastShiftSelectedKey},GH.IssueSelectionManager.prototype._setLastShiftSelectedKey=function(e){this.lastShiftSelectedKey=e},GH.IssueSelectionManager.prototype.handleIssueClick=function(e,t){var s,i=GH.MouseUtils.isMetaPressed(e),n=GH.IssueSelectionManager.getMultiSelectType(e);return!!this.model.isIssueValid(t)&&(!!GH.IssueSelectionManager.canChangeIssueSelection()&&(!(n&&!this.model.canAddToSelection(this.getSelectedIssueKeys(),t))&&(n?n===GH.IssueSelectionManager._META_MULTI_SELECT?(this.isInSelection(t)?this.removeSelectedIssueKeys([t]):this._addSelectedIssueKeys([t]),this._setLastNonShiftSelectedKey(t)):(s=this._getLastNonShiftSelectedKey(),0!==this.getSelectedIssueKeys().length&&s&&this.model.isIssueValid(s)?(e=this.model.getIssueRange(s,t),i?(n=[],(i=this._getLastShiftSelectedKey())&&(n=this.model.getIssueRange(s,i)||[],n=_.without(n,e)),this.removeSelectedIssueKeys(n),this._addSelectedIssueKeys(e)):this._replaceSelectedIssueKeys(e)):this.selectIssue(t),this._setLastShiftSelectedKey(t)):this.selectIssue(t),!0)))},GH.IssueSelectionManager._NO_MULTI_SELECT=0,GH.IssueSelectionManager._META_MULTI_SELECT=1,GH.IssueSelectionManager._SHIFT_MULTI_SELECT=2,GH.IssueSelectionManager.getMultiSelectType=function(e){var t=GH.MouseUtils.isMetaPressed(e),s=GH.MouseUtils.isShiftPressed(e),e=GH.IssueSelectionManager._NO_MULTI_SELECT;return s?e=GH.IssueSelectionManager._SHIFT_MULTI_SELECT:t&&!s&&(e=GH.IssueSelectionManager._META_MULTI_SELECT),e},GH.IssueSelectionManager.canChangeIssueSelection=function(){var e=(t=require("jira/viewissue/comment/comment-form")).handleBrowseAway();return!(e&&!window.confirm(e))||(t.focus(),!1)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/ShareButtonBridge.js' */
!function(){var n=void 0,i=new Promise(function(i){return n=i});define("jira-agile/rapid/ui/share-button/bridge",function(){return function(i){return n(i)}}),define("jira-agile/rapid/ui/share-button/api",function(){return i})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/ChangeManagementMenuBridge.js' */
!function(){var e=void 0,a=new Promise(function(n){return e=n});define("jira-agile/rapid/ui/uif-change-management-menu/bridge",function(){return function(n){return e(n)}}),define("jira-agile/rapid/ui/uif-change-management-menu/api",["jira/util/data/meta"],function(n){var i=n.get("user-locale");return function(e){e&&a.then(function(n){return n.render(e,{locale:i})}).catch(function(n){return console.log("[debug] ChangeManagementMenu render failed",n)})}})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/RefreshBoardButtonBridge.js' */
!function(){var i=void 0,r=new Promise(function(r){return i=r});define("jira-agile/rapid/ui/refresh-board-button/bridge",function(){return function(r){return i(r)}}),define("jira-agile/rapid/ui/refresh-board-button/api",function(){return r})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/AutomationButtonBridge.js' */
!function(){var n=void 0,i=new Promise(function(i){return n=i});define("jira-agile/rapid/ui/automation-menu/bridge",function(){return function(i){return n(i)}}),define("jira-agile/rapid/ui/automation-menu/api",function(){return i})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/InsightsBridge.js' */
!function(){var n=void 0,i=new Promise(function(i){return n=i});define("jira-agile/rapid/ui/insights/bridge",function(){return function(i){return n(i)}}),define("jira-agile/rapid/ui/insights/api",function(){return i})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/SprintHalfWayInsightSignalBridge.js' */
!function(){var n=void 0,i=new Promise(function(i){return n=i});define("jira-agile/rapid/ui/sprint-half-way-insight-signal/bridge",function(){return function(i){return n(i)}}),define("jira-agile/rapid/ui/sprint-half-way-insight-signal/api",function(){return i})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/AlertChartBridge.js' */
!function(){var r=void 0,i=new Promise(function(i){return r=i});define("jira-agile/rapid/ui/alert-chart/bridge",function(){return function(i){return r(i)}}),define("jira-agile/rapid/ui/alert-chart/api",function(){return i})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/OpsgenieSprintReportBannerBridge.js' */
!function(){var i=void 0,n=new Promise(function(n){return i=n});define("jira-agile/rapid/ui/opsgenie-sprint-report-banner/bridge",function(){return function(n){return i(n)}}),define("jira-agile/rapid/ui/opsgenie-sprint-report-banner/api",function(){return n})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/DevInfoIconBridge.js' */
!function(){var n=void 0,i=new Promise(function(i){return n=i});define("jira-agile/rapid/ui/dev-info-icon/bridge",function(){return function(i){return n(i)}}),define("jira-agile/rapid/ui/dev-info-icon/api",function(){return i})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/GICSuccessFlagBridge.js' */
!function(){var n=void 0,i=new Promise(function(i){return n=i});define("jira-agile/rapid/ui/gic-success-flag/bridge",function(){return function(i){return n(i)}}),define("jira-agile/rapid/ui/gic-success-flag/api",function(){return i})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/bento/bento-issue-api.js' */
!function(){var i=void 0,n=new Promise(function(n){i=n});n.done=function(n){return this.then(n)},define("jira-agile/rapid/ui/bento/bridge",function(){return function(n){i(n)}}),define("jira-agile/rapid/ui/bento/api",function(){return n})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/bento/bento-features.js' */
define("jira-agile/rapid/ui/bento/bento-features",["jira/featureflags/feature-manager","jira-agile/features/feature-flags"],function(e,a){"use strict";function t(){return!!e.isFeatureEnabled("return-new-issue-view-as-default-for-board-and-backlog_f2ewt")||"true"===AJS.$('meta[name="ghx-user-bento-enabled"]').attr("content")}function n(){return(GH.RapidBoard.State.isScrumBoard()||GH.RapidBoard.State.isKanbanBoard())&&t()&&r()}var r=t;return{isBentoEnabled:t,isBentoInBacklogEnabled:r,isBentoSidebarOnBoardEnabled:n,isUsingBentoSidebarOnBoard:function(){return t()&&n()&&"sidebar"===GH.BoardState.getGlobalValue("ghx-issue-fragment-view-mode")},isUsingBentoModalOnBoard:function(){return t()&&n()&&"modal"===GH.BoardState.getGlobalValue("ghx-issue-fragment-view-mode")}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/epic/EpicView.soy' */
// This file was automatically generated from EpicView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.epic.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.epic == 'undefined') { GH.tpl.epic = {}; }


GH.tpl.epic.renderShell = function(opt_data, opt_ignored) {
  return '' + GH.tpl.epic.renderEpicPanel(opt_data);
};
if (goog.DEBUG) {
  GH.tpl.epic.renderShell.soyTemplateName = 'GH.tpl.epic.renderShell';
}


GH.tpl.epic.renderEpicPanel = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-classification-group"><div class="ghx-classification-header"><div class="ghx-actions">';
  if (opt_data.canCreateIssue) {
    var createEpicLevelIssueText__soy11 = opt_data.shouldShowFlexibleNomenclatureEpicText ? AJS.format('Create {0}',opt_data.epicLevelName) : 'Create epic';
    output += aui.buttons.button({extraAttributes: {'data-tooltip': createEpicLevelIssueText__soy11, 'data-testid': 'backlog-epic-panel.ui.create-epic-button'}, extraClasses: ['aui-button-link', 'js-create-epic', 'ghx-hidden', 'ghx-safe-aui-button', 'ghx-create-epic'], text: createEpicLevelIssueText__soy11}) + '<span class="ghx-divider">|</span>';
  }
  output += '<div class="ghx-close js-epic-toggle" title="' + ((opt_data.shouldShowFlexibleNomenclatureEpicText) ? soy.$$escapeHtml(AJS.format('Hide {0} panel',opt_data.epicLevelName)) : soy.$$escapeHtml('Hide epics panel')) + '"><span class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-remove-label"></span></div></div><h2 class="ghx-epic-panel-header">' + ((opt_data.shouldShowFlexibleNomenclatureEpicText) ? soy.$$escapeHtml(opt_data.epicLevelName) : soy.$$escapeHtml('Epics')) + '</h2></div><div class="ghx-progress-indicator ghx-initial"></div><div class="ghx-classification-scrollview"></div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.epic.renderEpicPanel.soyTemplateName = 'GH.tpl.epic.renderEpicPanel';
}


GH.tpl.epic.renderEpics = function(opt_data, opt_ignored) {
  var output = GH.tpl.epic.renderAllEpics(opt_data) + '<div class="ghx-classification-cards">';
  var epicKeyList34 = opt_data.epicKeys;
  var epicKeyListLen34 = epicKeyList34.length;
  for (var epicKeyIndex34 = 0; epicKeyIndex34 < epicKeyListLen34; epicKeyIndex34++) {
    var epicKeyData34 = epicKeyList34[epicKeyIndex34];
    output += GH.tpl.epic.renderEpic({issue: opt_data.epics[epicKeyData34], isEpicExpanded: opt_data.isEpicExpandedByKey[epicKeyData34], isEpicSelected: opt_data.selectedEpicKey == epicKeyData34, canEditEpics: opt_data.canEditEpics, canMarkAsDone: opt_data.canMarkAsDone, canCreateIssue: opt_data.canCreateIssue, colors: opt_data.colors, showPages: opt_data.showPages, showEstimates: opt_data.showEstimates, shouldShowFlexibleNomenclatureEpicText: opt_data.shouldShowFlexibleNomenclatureEpicText, epicLevelName: opt_data.epicLevelName, isEpicFieldToIssueFieldMigrationEnabled: opt_data.isEpicFieldToIssueFieldMigrationEnabled, isMigrateEpicStringsEnabled: opt_data.isMigrateEpicStringsEnabled, isHideMarkAsDoneEnabled: opt_data.isHideMarkAsDoneEnabled});
  }
  output += '</div>' + ((opt_data.epicKeys.length > 0) ? GH.tpl.epic.renderEpicPending(opt_data) : '');
  return output;
};
if (goog.DEBUG) {
  GH.tpl.epic.renderEpics.soyTemplateName = 'GH.tpl.epic.renderEpics';
}


GH.tpl.epic.renderEpic = function(opt_data, opt_ignored) {
  var output = '<div class="js-sortable ghx-classification-item' + ((opt_data.isEpicExpanded) ? ' ghx-open' : ' ghx-closed') + ((opt_data.isEpicSelected) ? ' ghx-selected' : '') + '" data-epic-key="' + soy.$$escapeHtml(opt_data.issue.key) + '" data-epic-id="' + soy.$$escapeHtml(opt_data.issue.id) + '" ><div class="ghx-inner"><div class="ghx-expander js-epic-details-toggle" title="' + ((opt_data.shouldShowFlexibleNomenclatureEpicText) ? soy.$$escapeHtml(AJS.format('Create {0}',opt_data.epicLevelName)) : soy.$$escapeHtml('Create epic')) + '"><span class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-expanded"></span></div><div class="ghx-header"><h3 class="ghx-name"><span class="js-epic-name" role="button">' + GH.tpl.inlineeditfield.renderRemoteTriggeredTextView({fieldName: 'epicLabel', fieldValue: opt_data.isEpicFieldToIssueFieldMigrationEnabled ? opt_data.issue.originalSummary : opt_data.issue.originalEpicLabel, displayValue: opt_data.isEpicFieldToIssueFieldMigrationEnabled ? opt_data.issue.summary : opt_data.issue.epicLabel}) + '</span><span id="dd-trigger-' + soy.$$escapeHtml(opt_data.issue.key) + '" class="ghx-swatch js-epic-actions' + ((opt_data.isEpicFieldToIssueFieldMigrationEnabled) ? ' ' + soy.$$escapeHtml('ghx-' + opt_data.issue.color) : ' ' + soy.$$escapeHtml(opt_data.issue.epicColor)) + '"></span></h3><div id="dd-content-' + soy.$$escapeHtml(opt_data.issue.key) + '" class="aui-list ghx-href-fix-list js-epic-actions-list" data-epic-key="' + soy.$$escapeHtml(opt_data.issue.key) + '" data-epic-id="' + soy.$$escapeHtml(opt_data.issue.id) + '">' + ((opt_data.canEditEpics) ? '<h5>' + soy.$$escapeHtml('Color') + '</h5><ul class="aui-list-section aui-first"><li class="aui-list-item ghx-epic-palette">' + GH.tpl.epic.renderEpicPalette(opt_data) + '</li></ul>' : '') + '<ul class="aui-list-section aui-last">' + ((opt_data.canEditEpics) ? '<li class="aui-list-item"><a role="button" class="aui-list-item-link js-edit-epic-label">' + ((opt_data.isEpicFieldToIssueFieldMigrationEnabled) ? soy.$$escapeHtml('Edit summary') : soy.$$escapeHtml('Edit name')) + '</a></li>' : '') + '<li class="aui-list-item">' + GH.tpl.epic.renderEpicIssueLink({issueKey: opt_data.issue.key, shouldShowFlexibleNomenclatureEpicText: opt_data.shouldShowFlexibleNomenclatureEpicText, epicLevelName: opt_data.epicLevelName}) + '</li>' + ((opt_data.canEditEpics && opt_data.canMarkAsDone && ! opt_data.isHideMarkAsDoneEnabled) ? '<li class="aui-list-item"><a role="button" class="aui-list-item-link js-mark-epic-done">' + soy.$$escapeHtml('Mark as Done') + '</a></li>' : '') + '</ul></div></div><div class="ghx-expanded"><div class="ghx-summary"><a role="button" class="js-epic-key-link" title="' + ((opt_data.shouldShowFlexibleNomenclatureEpicText) ? soy.$$escapeHtml(AJS.format('View {0} details',opt_data.epicLevelName)) : soy.$$escapeHtml('View epic details')) + '" href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '">' + soy.$$escapeHtml(opt_data.issue.key) + '</a>' + ((! opt_data.isEpicFieldToIssueFieldMigrationEnabled) ? ' ' + soy.$$escapeHtml(opt_data.issue.summary) : '') + '</div><div class="aui-group js-epic-issues-count"><div class="aui-item">' + soy.$$escapeHtml('Issues') + '</div><div class="aui-item">' + aui.badges.badge({text: opt_data.issue.epicStats.totalIssueCount}) + '</div></div><div class="aui-group"><div class="aui-item">' + soy.$$escapeHtml('Completed') + '</div><div class="aui-item">' + aui.badges.badge({text: opt_data.issue.epicStats.done}) + '</div></div>' + ((opt_data.showEstimates) ? ((! opt_data.issue.isIssueCountStatistic) ? '<div class="aui-group"><div class="aui-item">' + soy.$$escapeHtml('Unestimated') + '</div><div class="aui-item">' + aui.badges.badge({text: opt_data.issue.epicStats.notEstimated}) + '</div></div>' : '') + '<div class="aui-group"><div class="aui-item">' + soy.$$escapeHtml('Estimate') + '</div><div class="aui-item">' + aui.badges.badge({extraAttributes: {title: opt_data.issue.epicStats.estimateStatisticName}, text: opt_data.issue.epicStats.estimateTotal}) + '</div></div>' : '') + '<div class="aui-group">';
  if (opt_data.canCreateIssue) {
    var textForCreateIssueInEpicLevelTip__soy178 = opt_data.isMigrateEpicStringsEnabled && opt_data.issue.issueType && opt_data.issue.issueType != 'Epic' ? AJS.format('Create and assign an issue to this {0}',opt_data.issue.issueType) : 'Create and assign an issue to this epic';
    output += aui.buttons.button({extraAttributes: {title: textForCreateIssueInEpicLevelTip__soy178, 'data-testid': 'backlog-epic-panel.ui.create-issue-in-epic-button'}, extraClasses: ['aui-button-link', 'js-create-epic-issue', 'ghx-safe-aui-button', 'ghx-width-inherit'], text: opt_data.isMigrateEpicStringsEnabled && opt_data.issue.issueType && opt_data.issue.issueType != 'Epic' ? AJS.format('Create issue in {0}',opt_data.issue.issueType) : 'Create issue in epic'});
  }
  output += ((opt_data.showPages) ? '<div>' + GH.tpl.component.linkedpages.renderTrigger({linkedPagesCount: opt_data.issue.linkedPagesCount, title: opt_data.shouldShowFlexibleNomenclatureEpicText ? AJS.format('Create and view pages linked to this {0}',opt_data.epicLevelName) : 'Create and view pages linked to this epic'}) + '</div>' : '') + '</div></div><div class="ghx-subheader"><ul class="ghx-classification-progress" title="' + soy.$$escapeHtml(AJS.format('{0} ({1} {2} {3} {4})',AJS.format('{0}% of {1} done',opt_data.issue.epicStats.percentageCompleted,opt_data.issue.epicStats.isIssueCountStatistic ? 'issues' : 'estimated work'),opt_data.issue.epicStats.estimateDone,'of',opt_data.issue.epicStats.estimateTotal,opt_data.issue.epicStats.isIssueCountStatistic ? '' : opt_data.issue.epicStats.estimateStatisticName)) + '" >' + ((opt_data.issue.epicStats.percentageCompleted > 0) ? '<li class="ghx-implemented" style="width:' + soy.$$escapeHtml(opt_data.issue.epicStats.percentageCompleted) + '%;"></li>' : '') + ((opt_data.issue.epicStats.percentageCompleted < 100) ? '<li class="ghx-todo" style="--percentageComplete:' + soy.$$escapeHtml(opt_data.issue.epicStats.percentageCompleted) + '%; width:calc(100% - var(--percentageComplete));"></li>' : '') + '</ul></div></div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.epic.renderEpic.soyTemplateName = 'GH.tpl.epic.renderEpic';
}


GH.tpl.epic.renderAllEpics = function(opt_data, opt_ignored) {
  return '<div class="ghx-classification-item ghx-classification-all ' + ((opt_data.isAllSelected) ? ' ghx-selected' : '') + '"><div class="ghx-inner"><div class="ghx-header"><h3 class="ghx-name"><span class="js-epic-name" role="button">' + soy.$$escapeHtml('All issues') + '</span></h3></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.epic.renderAllEpics.soyTemplateName = 'GH.tpl.epic.renderAllEpics';
}


GH.tpl.epic.renderEpicPending = function(opt_data, opt_ignored) {
  return '<div class="ghx-classification-item ghx-classification-pending' + ((opt_data.isNoneSelected) ? ' ghx-selected' : '') + '" data-epic-key="none"><div class="ghx-inner"><div class="ghx-header"><h3 class="ghx-name"><span class="js-epic-name" role="button">' + ((opt_data.shouldShowFlexibleNomenclatureEpicText) ? soy.$$escapeHtml(AJS.format('Issues without {0}',opt_data.epicLevelName)) : soy.$$escapeHtml('Issues without epics')) + '</span></h3></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.epic.renderEpicPending.soyTemplateName = 'GH.tpl.epic.renderEpicPending';
}


GH.tpl.epic.renderEpicIssueLink = function(opt_data, opt_ignored) {
  return '<a role="button" class="aui-list-item-link" href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '">' + ((opt_data.shouldShowFlexibleNomenclatureEpicText) ? soy.$$escapeHtml(AJS.format('View {0} details',opt_data.epicLevelName)) : soy.$$escapeHtml('View epic details')) + '</a>';
};
if (goog.DEBUG) {
  GH.tpl.epic.renderEpicIssueLink.soyTemplateName = 'GH.tpl.epic.renderEpicIssueLink';
}


GH.tpl.epic.renderEpicPalette = function(opt_data, opt_ignored) {
  var output = '<ul class="ghx-swatches">';
  var colorList238 = opt_data.colors;
  var colorListLen238 = colorList238.length;
  for (var colorIndex238 = 0; colorIndex238 < colorListLen238; colorIndex238++) {
    var colorData238 = colorList238[colorIndex238];
    output += '<li class="ghx-swatch js-change-epic-color' + ((opt_data.isEpicFieldToIssueFieldMigrationEnabled) ? ' ' + soy.$$escapeHtml('ghx-' + colorData238) : ' ' + soy.$$escapeHtml(colorData238)) + '" data-color-id="' + soy.$$escapeHtml(colorData238) + '">e</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.epic.renderEpicPalette.soyTemplateName = 'GH.tpl.epic.renderEpicPalette';
}


GH.tpl.epic.renderMarkEpicAsDoneDialog = function(opt_data, opt_ignored) {
  return '' + ((opt_data.numIncompleteIssues > 0) ? GH.tpl.rapid.notification.renderAuiMessage({type: 'warning', icon: true, messageHtml: true, message: opt_data.shouldShowFlexibleNomenclatureEpicText ? AJS.format('{0,choice,1#1 issue is|1\x3c{0,number} issues are} not yet completed in this {1}',opt_data.numIncompleteIssues,opt_data.epicLevelName) : AJS.format('{0,choice,1#1 issue is|1\x3c{0,number} issues are} not yet completed in this epic',opt_data.numIncompleteIssues)}) : '') + ((opt_data.shouldShowFlexibleNomenclatureEpicText) ? '<p>' + soy.$$filterNoAutoescape(AJS.format('The {5} {0}{1}{2} will be marked as Done. It will no longer be displayed in the {5} panel of the Backlog, but can be viewed in the {3}{5} Report{4}.','<b>',opt_data.epicName,'</b>','<a href="' + GH.Ajax.CONTEXT_PATH + '/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView + '&view=reporting&chart=epicReport&epic=' + opt_data.epicKey + '">','</a>',opt_data.epicLevelName)) + '</p>' : '<p>' + soy.$$filterNoAutoescape(AJS.format('The epic {0}{1}{2} will be marked as Done. It will no longer be displayed in the Epics panel of the Backlog, but can be viewed in the {3}Epic Report{4}.','<b>',opt_data.epicName,'</b>','<a href="' + GH.Ajax.CONTEXT_PATH + '/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidView + '&view=reporting&chart=epicReport&epic=' + opt_data.epicKey + '">','</a>')) + '</p>');
};
if (goog.DEBUG) {
  GH.tpl.epic.renderMarkEpicAsDoneDialog.soyTemplateName = 'GH.tpl.epic.renderMarkEpicAsDoneDialog';
}


GH.tpl.epic.getEpicNameString = function(opt_data, opt_ignored) {
  return '' + ((opt_data.epicLabel) ? soy.$$escapeHtml(opt_data.epicLabel) : soy.$$escapeHtml('unlabelled') + '-' + soy.$$escapeHtml(opt_data.epicKey));
};
if (goog.DEBUG) {
  GH.tpl.epic.getEpicNameString.soyTemplateName = 'GH.tpl.epic.getEpicNameString';
}


GH.tpl.epic.getEpicNameStringNoAutoescape = function(opt_data, opt_ignored) {
  return '' + ((opt_data.epicLabel) ? soy.$$filterNoAutoescape(opt_data.epicLabel) : soy.$$escapeHtml('unlabelled') + '-' + soy.$$escapeHtml(opt_data.epicKey));
};
if (goog.DEBUG) {
  GH.tpl.epic.getEpicNameStringNoAutoescape.soyTemplateName = 'GH.tpl.epic.getEpicNameStringNoAutoescape';
}


GH.tpl.epic.renderEpicsError = function(opt_data, opt_ignored) {
  return '' + GH.tpl.epic.renderAllEpics(opt_data) + GH.tpl.plancontroller.renderErrorBlock({errorText: opt_data.shouldShowFlexibleNomenclatureEpicText ? AJS.format('We\x27\x27re having trouble retrieving your {0}',opt_data.epicLevelName) : 'We\x27re having trouble retrieving your epics'}) + GH.tpl.epic.renderEpicPending(opt_data);
};
if (goog.DEBUG) {
  GH.tpl.epic.renderEpicsError.soyTemplateName = 'GH.tpl.epic.renderEpicsError';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/work/EventualConsistencyExperience.js' */
(function () {
    const AnalyticsClient = require('jira/analytics/web-client');
    const FeatureManager = require('jira/featureflags/feature-manager');

    /**
     * Handles eventual consistency experience
     */

    GH.ECX = {
        INTERACTION_TYPE: {
            UNKNOWN: 'unknown',
            COMMON: {
                ISSUE_FLAG: 'common.issue_flag',
                ISSUE_SPLIT: 'common.issue_split',
                START_SPRINT_DIALOG: 'common.start_sprint.dialog'
            },
            BACKLOG: {
                INITIAL_LOAD: 'backlog.initial_load',
                INITIAL_LOAD_SPA: 'backlog.initial_load.spa_transition',
                INITIAL_LOAD_FULL: 'backlog.initial_load.full_page_load',
                ISSUE_CREATE_INLINE: 'backlog.issue_create.inline',
                ISSUE_CREATE_DIALOG: 'backlog.issue_create.dialog',
                ISSUE_RANK: 'backlog.issue_rank',
                QUICK_FILTERS_CHANGE: 'backlog.quick_filters_change'
            },
            BOARD: {
                BENTO_MODAL_CLOSED: 'board.bento_modal_closed',
                BENTO_SPRINT_PICKER_CLICKED: 'board.bento_sprint_picker_clicked',
                INITIAL_LOAD: 'board.initial_load',
                INITIAL_LOAD_SPA: 'board.initial_load.spa_transition',
                INITIAL_LOAD_FULL: 'board.initial_load.full_page_load',
                ISSUE_CREATE: 'board.issue_create',
                ISSUE_UPDATE: 'board.issue_update',
                ISSUE_UPDATE_ACTION: 'board.issue_update_action',
                ISSUE_UPDATE_BENTO: 'board.issue_update_bento',
                ISSUE_RANK: 'board.rank_issue',
                ISSUE_RANK_ACTION: 'board.issue_rank_action',
                ISSUE_REMOVE_FROM_SPRINT: 'board.issue_remove_from_sprint',
                QUICK_FILTERS_CHANGE: 'board.quick_filters_change',
                RELEASE_VERSION: 'board.kanban.release'
            },
            REPORT: {
                INITIAL_LOAD_SPA: 'report.initial_load.spa_transition',
                INITIAL_LOAD_FULL: 'report.initial_load.full_page_load',
            },
            UNKNOWN_DESTINATION: {
                INITIAL_LOAD_SPA: 'unknown.initial_load.spa_transition',
                INITIAL_LOAD_FULL: 'unknown.initial_load.full_page_load',
            }
        }
    };

    var forceConsistency = false;
    var lastUserInteractionType = GH.ECX.INTERACTION_TYPE.UNKNOWN;
    var lastUserInteraction = 0;

    /**
     * Can eventually consistent data source be used?
     */
    GH.ECX.shouldForceConsistency = function () {
        AnalyticsClient.sendOperationalEvent({
            source: 'classicBoard',
            actionSubject: 'boardData',
            action: 'updated',
            attributes: {
                type: lastUserInteractionType,
                forceConsistency: forceConsistency
            }
        });

        lastUserInteractionType = GH.ECX.INTERACTION_TYPE.UNKNOWN;

        if (forceConsistency) {
            forceConsistency = false;
            return true;
        }

        return false;
    }

    /**
     * Mark next user interaction and set if it requires strongly consistent data source in next update
     * @return interaction timestamp
     */
    GH.ECX.markUserInteraction = function (
        type = GH.ECX.INTERACTION_TYPE.UNKNOWN,
        requiresConsistency = true
    ) {
        const currentInteraction = new Date().getTime();
        lastUserInteractionType = type;

        AnalyticsClient.sendOperationalEvent({
            source: 'classicBoard',
            actionSubject: 'interaction',
            action: 'marked',
            attributes: {
                type: type,
                requiresConsistency: requiresConsistency,
                forceConsistency: forceConsistency
            }
        });

        if (requiresConsistency) {
            forceConsistency = true;
        }

        if (lastUserInteraction > 0) {
            const timeSinceLastInteraction = Math.floor((currentInteraction - lastUserInteraction) / 1000);
            // ToDo: log timeSinceLastInteraction
        }
        lastUserInteraction = currentInteraction;
        return currentInteraction;
    }

    /**
     * analytics events for specific reads happening in CBB
     * @param source screen where the read occurred
     * @param scenario how the read operation occurred
     * @param analyticsMetadata optional analytics data
     */
    GH.ECX.fireReadEvent = function (source, scenario, analyticsMetadata = {}) {
        try {
            const CBBUXSolutionsTracking = FeatureManager.getFlagResultObject('jsw-classic-boards-and-backlog-ux-solutions-tracking');
            if (CBBUXSolutionsTracking && CBBUXSolutionsTracking.value && CBBUXSolutionsTracking.value.delay) {
                AnalyticsClient.sendTrackEvent({
                    source: source,
                    action: 'read',
                    actionSubject: 'issue',
                    attributes: {
                        ...analyticsMetadata,
                        scenario: scenario,
                        shard: AJS.Meta.get('shard'),
                        userId: GH.userData?.userConfig?.accountId,
                        boardId: GH.RapidBoard?.State?.getRapidViewId(),
                        boardType: GH.RapidBoard?.State?.getBoardTypeForAnalytics(),
                        projectId: JIRA.API?.Projects?.getCurrentProjectId(true),
                    }
                });
            }
        } catch (e) {
            AnalyticsClient.sendTrackEvent({
                source: source,
                action: 'read',
                actionSubject: 'issue',
                attributes: {
                    error: true,
                }
            });
        }
    }
}());
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/QuickFilters.js' */
!function(){"use strict";var t=require("jira-agile/rapid/analytics-tracker");GH.Components||(GH.Components={}),GH.Components.QuickFilters=function(t){this.stateParamName=t},GH.Components.QuickFilters.ONLY_MY_ISSUES_FILTER_QUERY="assignee = currentUser()",GH.Components.QuickFilters.RECENTLY_UPDATED_FILTER_QUERY="updatedDate >= -1d",GH.Components.QuickFilters.events=new GH.Events,GH.Components.QuickFilters.analytics=new t("gh.rapidboard.quickFilters"),GH.Components.QuickFilters.prototype.stateParamName="activeQuickFilters",GH.Components.QuickFilters.prototype.rapidViewConfig={},GH.Components.QuickFilters.prototype.setRapidViewConfig=function(t){this.rapidViewConfig=t,this.validateActiveFilters()},GH.Components.QuickFilters.prototype.getActiveQuickFilters=function(){return GH.BoardState.getPerViewValue(this.stateParamName,[])},GH.Components.QuickFilters.prototype.setActiveQuickFilters=function(t){GH.BoardState.setPerViewValue(this.stateParamName,t)},GH.Components.QuickFilters.prototype.validateActiveFilters=function(){var t=this.getActiveQuickFilters(),i=this,e=_.filter(t,function(e){return _.find(i.rapidViewConfig.quickFilters,function(t){return e===t.id})});t.length!==e.length&&(this.setActiveQuickFilters(e),GH.RapidBoard.State.pushState())},GH.Components.QuickFilters.prototype.getQuickFilters=function(){var e=this.getActiveQuickFilters();return _.map(this.rapidViewConfig.quickFilters,function(t){return t.isActive=_.contains(e,t.id),t})},GH.Components.QuickFilters.prototype.clearFilters=function(){return 0!==this.getActiveQuickFilters().length&&(this.setActiveQuickFilters([]),AJS.$(".ghx-controls-filters .ghx-active").removeClass("ghx-active"),!0)},GH.Components.QuickFilters.prototype.quickExpanderLayout=function(t){var e="#js-"+t.mode+"-quickfilters",i=AJS.$(e),r=AJS.$(i).find("dt"),t=i.find(".ghx-quickfilter-trigger"),e=t.outerWidth(),r=t.height()+parseInt(r.css("marginBottom"),10)+1;t.css({display:"none"}),i.css({"padding-right":""}),i[0]&&i[0].scrollHeight>r&&(t.css({display:""}),i.attr("aria-expanded")&&"false"!==i.attr("aria-expanded")||i.css({"padding-right":e}))}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/SearchFilter.js' */
GH.Components||(GH.Components={}),GH.Components.SearchFilter=function(e){this.searchQueryCallback=e,this.regexReserved=new RegExp("[.*+?|()\\[\\]{}\\\\]","g")},GH.Components.SearchFilter.prototype._queryToRegex=function(e){e=_.isEmpty(e)?".*":_.map(e.split(" "),function(e){return"(?=.*("+e+"))"}).join("");return new RegExp(e,"i")},GH.Components.SearchFilter.prototype.clearLastSearch=function(){this.lastSearch=""},GH.Components.SearchFilter.prototype.stopEdit=function(e){e.find("#ghx-backlog-search-input").blur()},GH.Components.SearchFilter.prototype.searchQuery=function(){var t,r=AJS.$.trim(AJS.$("#ghx-backlog-search-input").val());if(r!==this.lastSearch)if(""===(this.lastSearch=r))this.searchQueryCallback(null);else try{t=this._queryToRegex(r),this.searchQueryCallback(t)}catch(e){t=this._queryToRegex(r.replace(this.regexReserved,"\\$&")),this.searchQueryCallback(t)}};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/PresentationMode.js' */
!function(){"use strict";var o=require("jira-agile/rapid/const/PageMode"),t=require("jira-agile/rapid/const/BoardScopeMode"),i=require("jira/analytics/web-client");GH.PresentationMode={},GH.PresentationMode.NORMAL_MODE="normal",GH.PresentationMode.COMPACT_MODE="compact",GH.PresentationMode.PROJECTOR_MODE="projector",GH.PresentationMode.allModes=[GH.PresentationMode.NORMAL_MODE,GH.PresentationMode.COMPACT_MODE,GH.PresentationMode.PROJECTOR_MODE],GH.PresentationMode.mode=GH.PresentationMode.NORMAL_MODE,GH.PresentationMode.enabled=!1,GH.PresentationMode.init=function(){var t=this,e=GH.PresentationMode.getStoredMode();this.mode=GH.PresentationMode.validateMode(e),this.enabled=!0;function n(e){e.isCollapsed(!0)||t.setPresentationMode(GH.PresentationMode.NORMAL_MODE)}this.mode===GH.PresentationMode.COMPACT_MODE&&(JIRA.API.getSidebar().then(n),require("jira/container-api").APIs.getNavigationAPI().then(n)),this._updateBodyClasses(),this.registerEventsHandler()},GH.PresentationMode.isHeaderHidden=function(){return this.mode===GH.PresentationMode.COMPACT_MODE||this.mode===GH.PresentationMode.PROJECTOR_MODE},GH.PresentationMode.isNormalMode=function(){return this.mode===GH.PresentationMode.NORMAL_MODE},GH.PresentationMode.isProjectorMode=function(){return this.mode===GH.PresentationMode.PROJECTOR_MODE},GH.PresentationMode.toggleNormalAndCompact=function(){GH.PresentationMode.iterateThroughPresentationModes([GH.PresentationMode.NORMAL_MODE,GH.PresentationMode.COMPACT_MODE])},GH.PresentationMode.validateMode=function(e){return _.contains(GH.PresentationMode.allModes,e)?e:GH.PresentationMode.NORMAL_MODE},GH.PresentationMode.setPresentationMode=function(e){GH.PresentationMode.enabled&&(e=GH.PresentationMode.validateMode(e),this.mode=e,GH.PresentationMode.setStoredMode(e),this._updateUI())},GH.PresentationMode.iterateThroughPresentationModes=function(e){var t=_.indexOf(e,this.mode);t+=1,t%=e.length,GH.PresentationMode.setPresentationMode(e[t])},GH.PresentationMode._registerClickHandler=function(e){var t=this;AJS.$(".js-toggle-fullscreen",e).unbind("click.presentationMode").bind("click.presentationMode",function(e){t.toggleNormalAndCompact(),t.fireAnalytics(),e.preventDefault()})},GH.PresentationMode.registerEventsHandler=function(){var t=this;GH.ViewActions.on("boardToolsRendered",function(e){e=AJS.$("#"+e.sectionId+"-content");GH.PresentationMode._registerClickHandler(e),t.updateMenus()},this);function n(){t.mode===GH.PresentationMode.COMPACT_MODE&&t.setPresentationMode(GH.PresentationMode.NORMAL_MODE)}JIRA.API.getSidebar().then(function(e){return e.on(e.events.SIDEBAR_EXPAND_END,n,!0)}),require("jira/container-api").APIs.getNavigationAPI().then(function(e){return e.onExpand(n)})},GH.PresentationMode._updateUI=function(){AJS.$("body").click(),this._updateBodyClasses(),this.updateControls(),GH.RapidBoard.ViewController.handleResizeEvent(),this.updateMenus(),this.updateGlobalSidebar(),AJS.$(window).resize()},GH.PresentationMode.updateGlobalSidebar=function(){function e(e){switch(t.mode){case GH.PresentationMode.COMPACT_MODE:e.collapse(!0);break;case GH.PresentationMode.NORMAL_MODE:e.expand(!0)}}var t=this;JIRA.API.getSidebar().then(e),require("jira/container-api").APIs.getNavigationAPI().then(e)},GH.PresentationMode.updateMenus=function(){var e=this.isHeaderHidden()?"Show menus":"Hide menus";AJS.$(".js-toggle-fullscreen").empty().append(document.createTextNode(e))},GH.PresentationMode.updateControls=function(){GH.RapidBoard.ViewController.remountInsightButton()},GH.PresentationMode._updateBodyClasses=function(){var e=AJS.$("body");this.isHeaderHidden()?e.addClass("ghx-header-compact"):e.removeClass("ghx-header-compact"),this.isProjectorMode()?e.addClass("ghx-contrast-high"):e.removeClass("ghx-contrast-high")},GH.PresentationMode.fireAnalytics=function(){var e=GH.RapidBoard.State.getMode(),t=e||o.WORK,n=a(t),e=this.isHeaderHidden()?"hide":"show";AJS.trigger("analyticsEvent",{name:"jira-software."+t+".boardmenu.click."+e+"-menus"});t=GH.RapidBoard.State.getRapidViewId(),e={action:"triggered",actionSubject:"presentationMode",actionSubjectId:t,source:n+"Screen",attributes:{boardId:t,boardType:GH.RapidBoard.State.getBoardTypeForAnalytics(),boardMode:n,presentationMode:e},containerType:GH.RapidViewConfig.currentData.data.locationType};"project"===e.containerType&&JIRA.API&&JIRA.API.Projects&&(e.containerId=JIRA.API.Projects.getCurrentProjectId(!0)),i.sendTrackEvent(e)},GH.PresentationMode.getStoredMode=function(){return GH.storage.get("gh.presentation.mode",!0)},GH.PresentationMode.setStoredMode=function(e){GH.storage.put("gh.presentation.mode",e,!0)};var a=function(e){return e===o.WORK?t.BOARD:e===o.PLAN?t.BACKLOG:t.REPORT}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/ViewActions.js' */
!function(){"use strict";var r=require("jquery"),s=require("jira-agile/rapid/const/PageMode"),n=require("jira-agile/rapid/work/quick-filters-bridge"),e=require("jira/featureflags/feature-manager"),o=require("jira/analytics/web-client"),t=require("jira-agile/rapid/ui/bento/bento-features"),i=require("jira-agile/rapid/deferred-resources-loader"),a=require("jira/util/data/meta"),d=e.getFlagResultObject({key:"jsw.perf.uif.rollout",fallback:"NONE"}).value,c=function(){var e=a.get("is-admin"),i=a.get("uif-admin-setting");switch(d){case"NONE":case"PROTOTYPE":case"CLEAN_UP":return!1;case"ADMIN_ROLLOUT":return e;case"USER_ROLLOUT":return e||i;default:return!0}}(),l="EAP"===d,w=c&&("EAP"!==d&&"BANNER_REMINDER"!==d);GH.ViewActions={},GH.Events(GH.ViewActions),GH.ViewActions.currentViewId=void 0,GH.ViewActions.currentViewName=void 0,GH.ViewActions.currentMode=s.WORK,GH.ViewActions.processData=function(t){return function(e){var i=!1;e&&(GH.ViewActions.currentViewId=e.id,GH.ViewActions.currentViewName=e.name,GH.ViewActions.canEdit=e.canEdit,i=e.canEdit),t(),GH.ViewActions.setView(GH.ViewActions.currentViewId,GH.ViewActions.currentViewName,i)}},GH.ViewActions.initViewActions=GH.ViewActions.processData(r.noop),GH.ViewActions.shouldHideMenu=function(){return GH.RapidBoard.State.isAgilityBoard()},GH.ViewActions.autoOpenMenuForChangeManagement=function(e){var i="__storejs_uif-change-management-menu_jira.uif.showed-first-spotlight";!0===JSON.parse(localStorage.getItem(i))||(r("#"+e).click(),localStorage.setItem(i,"true"))},GH.ViewActions.renderTryNowChangeManagementNudge=function(e){e.length&&(e=r('<div class="uif-change-management"/>').insertBefore(e),require("jira-agile/rapid/ui/uif-change-management-nudge-bridge").render(e.get(0)))},GH.ViewActions.refreshBoardTools=function(){function o(t){var o=t.id.replace(/(!|"|#|\$|%|&|'|\(|\)|\*|\+|,|\.|\/|:|;|<|=|>|\?|@|\[|\\|\]|\^|`|\{|\||\}|~)/g,"\\$1"),n=o+"-button",a=o+"-content";i.handleDeferredResourceImport(!i.isResourceAvailable("jira/ajs/dropdown/dropdown"),function(){try{var e=GH.ViewActions.registerDropdown(n,a);(i=e)[0].bind("showLayer",_.once(function(){var e=r(GH.tpl.board.x.renderSectionContent(t));r("#"+a).html(e),c&&require("jira-agile/rapid/ui/uif-change-management-menu/api")(r("#view-actions-uif-change-management li.aui-list-item").get(0)),window.dispatchEvent(new CustomEvent("jira:gh:board-tools:rendered",{detail:{section:t}})),GH.ViewActions.trigger("boardToolsRendered",{sectionId:o,dropdown:i}),_.defer(function(){r(window).resize()})})),l&&"board-tools-section"===o&&GH.ViewActions.autoOpenMenuForChangeManagement(n)}catch(e){console.error("Error rendering dropdown for section"+t.id+":"+e.message)}var i})}GH.RapidBoard.State.getMode()!=s.WORK&&r("#ghx-view-pluggable").css("visibility","hidden"),GH.ViewActions.shouldHideMenu()||GH.ViewActions.currentViewId&&GH.Ajax.get({url:"/xboard/toolSections",data:{mode:GH.ViewActions.mode,rapidViewId:GH.ViewActions.currentViewId,selectedProjectKey:GH.RapidBoard.projectKey},deferErrorHandling:!1}).then(function(e){var i=GH.tpl.board.x.renderToolSections(e),t=r("#ghx-view-pluggable"),i=t.html(i);w&&GH.ViewActions.renderTryNowChangeManagementNudge(i.find("#board-tools-section-button")),_.each(e.sections,function(e){o(e)}),n.isReactFiltersEnabled().then(function(){t.css("visibility","visible")})})},GH.ViewActions.registerDropdown=function(t,e){var i=require("jira/ajs/dropdown/dropdown"),o=r("#"+t),n=r("#"+e);return o.click(_.wrap(function(){r(window).resize();var e=n.is(":visible");o.attr("aria-expanded",e);var i=GH.RapidBoard.State.getMode()||"board";window.dispatchEvent(new CustomEvent("jira:gh:board-tools:boardmenu:click",{detail:{boardMode:i,buttonId:t,isExpanded:e}})),AJS.trigger("analyticsEvent",{name:"jira-software."+i+".boardmenu.click."+(e?"open":"closed")})},_.defer)),"board-tools-section-button"==t&&(o.on("keydown",function(e){9==e.which&&!e.shiftKey&&o.hasClass("active")&&((c?n.find(".js-view-actions-uif-change-management li.aui-list-item input:checkbox"):n.find("ul > li > a:visible").first()).focus(),e.preventDefault())}),c?(n.on("keydown",".js-view-actions-uif-change-management li.aui-list-item input:checkbox:first",function(e){9===e.which&&e.shiftKey&&o.click().focus()}),n.on("click",".js-view-actions-uif-change-management li.aui-list-item",function(e){r(e.target).closest("a, button, label").length||e.stopPropagation()})):n.on("keydown","ul > li > a:visible:first",function(e){9==e.which&&e.shiftKey&&o.click().focus()}),n.on("keydown","ul > li > a:visible:last",function(e){9!=e.which||e.shiftKey||o.click().focus()})),i.create({trigger:o,content:n,alignment:AJS.RIGHT,width:"auto"})},GH.ViewActions.renderOnConfiguration=GH.ViewActions.processData(r.noop),GH.ViewActions.renderOnManage=GH.ViewActions.processData(function(){r("#ghx-modes-tools").html(GH.tpl.viewactions.renderManageViewActions())}),GH.ViewActions.setView=function(e,i,t){r("#ghx-modes-tools").find(".aui-button.js-view-action-create").attr("disabled","disabled"),e&&r(".js-view-action-configure").removeClass("disabled"),GH.UserData.hasUser()&&GH.UserData.userConfig.canCreateBoard&&(GH.UserData.userConfig.canCreateProject||GH.UserData.userConfig.hasProjectsAccessible||GH.UserData.userConfig.hasFiltersAccessible)&&r("#ghx-modes-tools").find(".aui-button.js-view-action-create").removeAttr("disabled")},GH.ViewActions.setMode=function(e){e!==GH.ViewActions.mode&&(GH.ViewActions.mode=e),e&&GH.ViewActions.refreshBoardTools()},GH.ViewActions.adjustButtonsToMode=function(e){var i=r(".js-view-actions-plan"),t=r(".js-view-actions-work"),o=r(".js-view-actions-report"),n=r(".js-view-actions-print"),a=r(".js-toggle-alert-chart");switch(i.hide(),t.hide(),o.hide(),n.hide(),a.hide(),e){case s.PLAN:i.show(),GH.RapidBoard.State.isKanbanBoard()&&r([".js-view-action-toggle-releases-column",".js-view-action-toggle-epics-column",".js-view-action-toggle-epics-lozenge"].join(",")).hide(),n.show().find("a").removeClass("disabled");break;case s.WORK:GH.ViewActions.enableShowDetailIfIssueSelected(),GH.ViewActions.updateDetailViewModeSwitch(),t.show(),n.show().find("a").removeClass("disabled");break;case s.REPORT:o.show(),GH.RapidBoard.State.getChartType()===GH.SprintRetrospectiveController.id&&(window.JIRA.isAdmin()||GH.ViewActions.canEdit)&&GH.SprintReportGrowthUtils.deferredHasAdminUserDismissed().done(function(e){GH.ViewActions.updateToggleAlertChartAction(e)}).always(function(){a.show()})}},GH.ViewActions.setSwimlanes=function(e){var i=r(".js-view-actions-work");e?i.find(".js-swimlane-action").removeClass("disabled"):i.find(".js-swimlane-action").addClass("disabled")},GH.ViewActions.setVersionsPanelVisible=function(e){var i=r(".js-view-action-toggle-releases-column");e?i.text("Hide versions panel"):i.text("Show versions panel")},GH.ViewActions.setEpicsPanelVisible=function(e){var i=r(".js-view-action-toggle-epics-column"),t=GH.RapidBoard.State.shouldShowFlexibleNomenclatureEpicText();e?i.text(t?AJS.format("Hide {0} panel",GH.RapidBoard.State.getEpicLevelName()):"Hide epics panel"):i.text(t?AJS.format("Show {0} panel",GH.RapidBoard.State.getEpicLevelName()):"Show epics panel")},GH.ViewActions.setEpicLozengesVisible=function(e){var i=r(".js-view-action-toggle-epics-lozenge"),t=GH.RapidBoard.State.shouldShowFlexibleNomenclatureEpicText();e?i.text(t?AJS.format("Hide {0} labels",GH.RapidBoard.State.getEpicLevelName()):"Hide epic labels"):i.text(t?AJS.format("Show {0} labels",GH.RapidBoard.State.getEpicLevelName()):"Show epic labels")},GH.ViewActions.setDetailViewVisible=function(e){var i=r(".js-view-action-toggle-detail-view");e?i.text("Hide detail view"):i.text("Show detail view")},GH.ViewActions.updateDetailViewModeSwitch=function(){var e,i=r(".js-view-action-switch-detail-view-mode");t.isBentoSidebarOnBoardEnabled()&&!GH.WorkView.isGlobalIssueCreateOpen?(e=GH.DetailsView.opts.isUsingBentoSidebarOnBoard?"Open issues in dialog":"Open issues in sidebar",i.text(e)):i.hide()},GH.ViewActions.createdDropdownOnConfigurationPage=function(){r("#js-view-actions").after(GH.tpl.viewactions.renderConfigurationViewActions()),r("#board-tools-section-content").hide();var e=GH.ViewActions.registerDropdown("js-view-actions","board-tools-section-content");GH.ViewActions.bindBoardToolsClickEvents(e)},GH.ViewActions.afterBoardToolsLoaded=function(e){"board-tools-section"===e.sectionId&&(GH.ViewActions.bindBoardToolsClickEvents(e.dropdown),r(e.dropdown[0]).bind("showLayer",GH.ViewActions.enableShowDetailIfIssueSelected),r(e.dropdown[0]).bind("showLayer",GH.ViewActions.enableShowEpicLozenge),GH.ViewActions.enableShowDetailIfIssueSelected(),GH.ViewActions.enableShowEpicLozenge(),GH.ViewActions.setView(GH.ViewActions.currentViewId,GH.ViewActions.currentViewName,GH.ViewActions.canEdit),GH.ViewActions.adjustButtonsToMode(GH.ViewActions.mode),i.handleDeferredResourceImport(GH.RapidBoard.State.getMode()===s.WORK,function(){GH.PlanView.updateViewActions()}),r("#board-tools-section-content li.aui-list-item > a").each(function(e,i){(i=r(i)).hasClass("disabled")?i.attr("aria-disabled",!0).attr("data-href",i.attr("href")).removeAttr("href"):(i.removeAttr("aria-disabled"),i.attr("data-href")&&i.attr("href",i.attr("data-href")).removeAttr("data-href"))}))},GH.ViewActions.bindBoardToolsClickEvents=function(i){r("#board-tools-section-content .aui-list-item a").bind("click",function(e){return r(this).hasClass("disabled")?(e.stopPropagation(),!1):(window.dispatchEvent(new CustomEvent("jira:gh:board-tools:board-settings-item:click",{detail:{className:e.target.className}})),void r(i).hide())}),r("#board-tools-section-content .js-view-action-toggle-detail-view").bind("click",function(e){var i=void 0;GH.WorkController.isActive()?(GH.WorkController.toggleDetailsView(),i=GH.WorkController.isDetailsViewOpened()?"show":"hide"):GH.PlanController.isActive()&&(GH.PlanController.toggleDetailsView(),i=GH.PlanController.isDetailsViewOpened()?"show":"hide"),e.preventDefault();e=GH.RapidBoard.State.getMode()||"board";window.dispatchEvent(new CustomEvent("jira:gh:board-tools:board-settings-item:click-toggle-detail-view",{detail:{showOrHide:i}})),AJS.trigger("analyticsEvent",{name:"jira-software."+e+".boardmenu.click."+i+"-detail-view"})}),r("#board-tools-section-content .js-view-action-switch-detail-view-mode").bind("click",function(e){var i;GH.WorkController.isActive()&&(i=void 0,i=GH.DetailsView.opts.isUsingBentoSidebarOnBoard?(GH.WorkView.setAndShowDetailViewInModalMode(),"modal"):(GH.WorkView.setAndShowDetailViewInSidebarMode(),"sidebar"),GH.ViewActions.updateDetailViewModeSwitch(),AJS.trigger("analyticsEvent",{name:"jira-software.work.boardmenu.click.switch-detail-view-mode",data:{viewMode:i}})),e.preventDefault()}),r("#board-tools-section-content .js-view-action-configure").bind("click",function(e){var i=require("jira-agile/rapid/ui/SPConfigController");e.preventDefault(),window.dispatchEvent(new Event("jira:gh:board-tools:board-settings-item:go-to-board-config")),i.openConfig()}),r("#board-tools-section-content .js-view-action-create").bind("click",function(e){e.preventDefault(),window.dispatchEvent(new Event("jira:gh:board-tools:board-settings-item:create-board")),AJS.trigger("analyticsEvent",{name:"jira-software.meatballs.boardmenu.click.create-board"})}),r("#board-tools-section-content .js-view-action-print-cards").bind("click",function(e){GH.ViewActions.printCards(),e.preventDefault(),window.dispatchEvent(new Event("jira:gh:board-tools:board-settings-item:print-cards")),AJS.trigger("analyticsEvent",{name:"jira-software."+(GH.RapidBoard.State.getMode()||"board")+".boardmenu.click.print-cards"})}),r("#board-tools-section-content .js-toggle-alert-chart").bind("click",function(e){e.preventDefault();var i="enable"===AJS.$(e.target).attr("data-action");window.dispatchEvent(new Event("jira:gh:board-tools:board-settings-item:alert-chart-toggle")),GH.SprintReportGrowthUtils.deferredAdminUserUpdateOpsgenieSprintReport(i).done(function(){i||AJS.$("#ghx-report-content .ghx-alerts-chart").addClass("hidden"),GH.ViewActions.updateToggleAlertChartAction(!i),GH.SprintRetrospectiveController.loadReportData()})})},GH.ViewActions.updateToggleAlertChartAction=function(e){var i=e?"Show alert chart":"Hide alert chart",t=e?"enable":"disable",e=r("#board-tools-section-content .js-toggle-alert-chart");e.empty().append(document.createTextNode(i)),e.attr("data-action",t)},GH.ViewActions.showCopyBoardDialog=function(i,t){this.copyBoardDialog||(this.copyBoardDialog=GH.Dialog.create({id:"copy-board-dialog",width:450,height:250}),this.copyBoardDialog.addHeader("Copy board"),this.copyBoardDialog.addPanel("",AJS.format("<p>{0}</p>","When copying a board, the source board\'s settings will be used for the new board, with both boards using the same filter.\u003cbr\u003e\u003cbr\u003e As administrator of the new board, you can modify the settings as needed."),"panel-body"),this.copyBoardDialog.addButton("Confirm",function(e){this.copyBoardDialog.hide(),GH.ViewActions.actionCopy(i,t)}.bind(this)),this.copyBoardDialog.addLink("Cancel",function(e){this.copyBoardDialog.hide()}.bind(this),"#")),this.copyBoardDialog.show(),o.sendPageEvent("copyBoardModal")},GH.ViewActions.actionDelete=function(){GH.ViewActions.currentViewId&&GH.RapidBoard.DeleteDialog.showDeleteDialog(GH.ViewActions.currentViewId,GH.ViewActions.currentViewName)},GH.ViewActions.actionCopy=function(e,i){e||(e=GH.ViewActions.currentViewId,i=GH.ViewActions.currentViewName),GH.RapidBoard.copyRapidViewAndGotoConfiguration(e,i)},GH.ViewActions.printCards=function(){GH.ViewActions.currentViewId&&GH.RapidBoard.printCardsInRapidBoard()},GH.ViewActions.enableShowDetailIfIssueSelected=function(){var e;GH.WorkController&&GH.WorkController.isActive()?(e=r(".js-view-actions-work"),GH.ViewActions.setDetailViewVisible(GH.WorkController.isDetailsViewOpened()),GH.WorkSelectionController.getSelectedIssueKey()?e.find(".js-view-action-toggle-detail-view").removeClass("disabled"):e.find(".js-view-action-toggle-detail-view").addClass("disabled")):GH.PlanController.isActive()&&GH.ViewActions.setDetailViewVisible(GH.PlanController.isDetailsViewOpened())},GH.ViewActions.enableShowEpicLozenge=function(){GH.ViewActions.setEpicLozengesVisible(GH.RapidBoard.State.getEpicShownOnRapidBoard())},GH.ViewActions.toggleEpicsShowOnRapidBoard=function(){window.dispatchEvent(new CustomEvent("jira:gh:board-tools:toggle-epics-shown",{detail:{toggleToShowEpics:!GH.RapidBoard.State.getEpicShownOnRapidBoard()}})),GH.RapidBoard.State.getEpicShownOnRapidBoard()?(GH.RapidBoard.State.setEpicShownOnRapidBoard(!1),GH.ViewActions.setEpicLozengesVisible(!1)):(GH.RapidBoard.State.setEpicShownOnRapidBoard(!0),GH.ViewActions.setEpicLozengesVisible(!0))},GH.ViewActions.on("boardToolsRendered",GH.ViewActions.afterBoardToolsLoaded),GH.ViewActions.loadBoardSettingWhenAllDataFails=function(){GH.RapidBoard.State.getMode()!==s.WORK||GH.RapidBoard.State.isConfigOpen()||0!==r("#board-tools-section-button").length&&"none"!==r("#board-tools-section-button").css("display")||GH.ViewActions.setMode(GH.RapidBoard.State.getMode())}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-1', location = 'jira-agile-module/includes/js/rapid/ui/component/ViewActions.soy' */
// This file was automatically generated from ViewActions.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.viewactions.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.viewactions == 'undefined') { GH.tpl.viewactions = {}; }


GH.tpl.viewactions.renderManageViewActions = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({extraClasses: ['js-view-action-create'], text: 'Create board'});
};
if (goog.DEBUG) {
  GH.tpl.viewactions.renderManageViewActions.soyTemplateName = 'GH.tpl.viewactions.renderManageViewActions';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-details-view-setup', location = 'jira-agile-module/includes/js/rapid/ui/detail/DetailsViewSetup.js' */
!function(){"use strict";GH.DetailsView||(GH.DetailsView=new GH.Events),GH.DetailsView.selectedIssueKey=void 0,GH.DetailsView.rapidViewId=void 0,GH.DetailsView.containerSelector=void 0,GH.DetailsView.rapidViewConfig=void 0,GH.DetailsView.minWidth=440,GH.DetailsView.opts={canClose:!0,showActionsCog:!0,showSubtaskTab:!0,showLogWorkTrigger:!1,updateSizeHandler:function(){}},GH.DetailsView.setRapidViewId=function(e){GH.DetailsView.rapidViewId=e},GH.DetailsView.setSelectedIssueKey=function(e){GH.DetailsView.selectedIssueKey=e},GH.DetailsView.getSelectedIssueKey=function(){return GH.DetailsView.selectedIssueKey},GH.DetailsView.clearSelectedIssueKey=function(){GH.DetailsView.selectedIssueKey=void 0},GH.DetailsView.setOptions=function(e){GH.DetailsView.opts=e,GH.DetailsView.closeHandler=GH.DetailsView.opts.closeHandler},GH.DetailsView.setRapidViewConfig=function(e){GH.DetailsView.rapidViewConfig=e,GH.DetailsView.opts.showLogWorkTrigger&&(GH.DetailsView.opts.showLogWorkTrigger=!_.isUndefined(e.trackingStatistic)&&e.trackingStatistic.isEnabled)},GH.DetailsView.setContainerSelector=function(e){(GH.DetailsView.containerSelector=e)&&AJS.$(e).addClass("gh-editable-detail-view")},GH.DetailsView.getContainer=function(){return GH.DetailsView.containerSelector?AJS.$(GH.DetailsView.containerSelector):AJS.$()};function e(e){return"none"===e.css("display")?0:e.width()}GH.DetailsView.preloadData=function(){var e;GH.DetailsView.preloadPromise=GH.DetailsView.selectedIssueKey?(e={rapidViewId:GH.DetailsView.rapidViewId,issueIdOrKey:GH.DetailsView.selectedIssueKey},GH.Ajax.get({url:"/xboard/issue/details.json",data:e},"detailView")):null},GH.DetailsView.getBacklogElementWidth=function(){return e(AJS.$("#ghx-backlog"))},GH.DetailsView.getWorkPoolElementWidth=function(){return e(AJS.$("#ghx-pool"))},GH.DetailsView.getDetailViewElementWidth=function(){return e(AJS.$("#ghx-detail-view"))}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/epic/EpicConfig.js' */
GH.EpicConfig={},GH.EpicConfig.epicConfig=void 0,GH.EpicConfig.setEpicConfig=function(i){GH.EpicConfig.epicConfig=i},GH.EpicConfig.getStoryIssueTypeId=function(){return GH.EpicConfig.epicConfig.storyIssueTypeId},GH.EpicConfig.getStoryIssueTypeName=function(){return GH.EpicConfig.epicConfig.storyIssueTypeName},GH.EpicConfig.getEpicIssueTypeId=function(){return GH.EpicConfig.epicConfig.epicIssueTypeId},GH.EpicConfig.getEpicIssueTypeName=function(){return GH.EpicConfig.epicConfig.epicIssueTypeName},GH.EpicConfig.getEpicLabelFieldId=function(){return GH.EpicConfig.epicConfig.epicLabelFieldId},GH.EpicConfig.getEpicStatusFieldId=function(){return GH.EpicConfig.epicConfig.epicStatusFieldId},GH.EpicConfig.getEpicStatusDoneValueId=function(){return GH.EpicConfig.epicConfig.epicStatusDoneValueId},GH.EpicConfig.getEpicLinkFieldName=function(){return GH.EpicConfig.epicConfig.epicLinkFieldName},GH.EpicConfig.getEpicLinkFieldId=function(){return GH.EpicConfig.epicConfig.epicLinkFieldId},GH.EpicConfig.canMarkEpicAsDone=function(){return!_.isUndefined(GH.EpicConfig.epicConfig.epicStatusDoneValueId)},GH.EpicConfig.getEpicColorFieldId=function(){return GH.EpicConfig.epicConfig.epicColorFieldId},GH.EpicConfig.getColorFieldId=function(){return GH.EpicConfig.epicConfig.colorFieldId},GH.EpicConfig.getEpicNameString=function(i,e){return i||"unlabelled"+"-"+e};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/BoardHeader.js' */
!function(){var e=require("jira/container-api");GH.RapidBoard.BoardHeader={},GH.RapidBoard.BoardHeader.init=function(){GH.RapidBoard.BoardHeader._originalPageTitle=document.title},GH.RapidBoard.BoardHeader.update=function(a){GH.RapidBoard.BoardHeader.updatePageTitle(a)},GH.RapidBoard.BoardHeader.updatePageTitle=function(a){a=a.name+" - "+GH.RapidBoard.BoardHeader._originalPageTitle;e.titleChange(a)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/ViewController.js' */
!function(){"use strict";function a(e){try{return require(e)}catch(e){return}}GH.RapidBoard.ViewController=new GH.Events;var r=require("jira/util/safe-logger"),e=require("jira-agile/rapid/analytics-tracker"),o=(require("jira/analytics/web-client"),require("jira/util/data/meta")),t=require("jira-agile/tooltip"),i=require("jira-agile/rapid/const/PageMode"),n=require("jira-agile/rapid/work/quick-filters-bridge"),l=require("jira/featureflags/feature-manager"),d=a("jira-agile/rapid/ui/SPConfigController"),s=require("jira-agile/rapid/ui/share-button/api"),p=require("jira-agile/rapid/ui/uif-change-management-menu/api"),c=require("jira/util/top-same-origin-window"),u=require("jira-agile/rapid/ui/automation-menu/api"),g=require("jira-agile/rapid/ui/insights/api"),h=(require("jira-agile/rapid/ui/sprint-half-way-insight-signal/api"),require("jira-agile/rapid/deferred-resources-loader")),H=require("jira-agile/rapid/wrm-spa-utils"),G=require("jira-agile/rapid/ui/refresh-board-button/api"),R=require("jira-agile/rapid/trace-utils"),f=l.getFlagResultObject("jsw.classic.rapid.board.refresh.button").value,w=l.getFlagResultObject("jsw-classic-work-data-poller-backoff").value,C="PROTOTYPE"===l.getFlagResultObject({key:"jsw.perf.uif.rollout",fallback:"NONE"}).value;GH.RapidBoard.ViewController.analytics=new e("gh.assignedWork.tooltip"),GH.RapidBoard.ViewController.hasSideBar=!1,GH.RapidBoard.ViewController.hasSubnavigator=!1,GH.RapidBoard.ViewController.insightsOpen=!1,GH.RapidBoard.ViewController.shouldShowSubnavigator=function(){return GH.RapidBoard.ViewController.hasSideBar&&GH.RapidBoard.ViewController.hasSubnavigator},GH.RapidBoard.ViewController.init=function(){GH.RapidBoard.ViewController.hasSideBar=JIRA.API.getSidebar&&o.get("sidebar-enabled"),GH.RapidBoard.ViewController.hasSubnavigator=JIRA.Projects&&"function"==typeof JIRA.Projects.Subnavigator,h.handleDeferredResourceImport(!GH.Dialog||!GH.Dialog.registerDialog,function(){GH.Dialog.registerDialog(".js-view-find",GH.Dialog.FindView.openFindExistingViewDialog)}),AJS.$("#ghx-rabid").css({display:"none"}),AJS.$("#ghx-operations").append(GH.tpl.viewcontroller.renderOperationsBar());[{selector:".ghx-avatar-img[data-tooltip]",className:"ghx-tipsy-left ghx-avatar-tipsy",html:!0},{selector:".ghx-issue [data-tooltip]:not(.ghx-summary)"},{selector:".ghx-issue .ghx-summary[data-tooltip]"},{selector:".ghx-backlog .ghx-summary[data-tooltip]"},{selector:".ghx-swimlane-header .ghx-heading[data-tooltip]"}].forEach(function(e){t.tipsify(_.defaults(e,{className:"ghx-tipsy-left",context:document,html:!1})).on("show",function(e){e.$element.closest(".ghx-assigned-work-stats").length&&GH.RapidBoard.ViewController.analytics.trigger("show")})}),t.tipsify({selector:".js-issue:not(.ui-sortable-helper) .ghx-extra-field",context:document,html:!0,className:"ghx-extra-field-tipsy ghx-tipsy-left"}).on("show",function(e){var r=e.$tip,e=r.children(".tipsy-inner").get(0);e.scrollHeight>e.clientHeight&&r.addClass("ghx-extra-field-tipsy-truncated")}),GH.RapidBoard.ViewController.sidebarController=new GH.RapidBoard.SidebarController,GH.RapidBoard.ViewController.initSidebarActions(),AJS.$(GH).bind(GH.RapidBoard.UrlState.HISTORY_CHANGED,GH.RapidBoard.ViewController.updateModeUrls),GH.IssueOperationShortcuts.init(),h.handleDeferredResourceImport(!GH.DetailsView||!GH.DetailsView.init,function(){GH.DetailsView.init()}),GH.PresentationMode.init(),GH.RapidBoard.State.isKanbanBoard()&&h.handleDeferredResourceImport(GH.RapidBoard.State.getMode()===i.PLAN||GH.RapidBoard.State.getMode()===i.WORK,function(){require("jira-agile/rapid/ui/kanplan/kanplan-acknowledge").init()}),AJS.$(GH).bind(GH.Layout.EVENT_DELAYED_RESIZE,GH.RapidBoard.ViewController.handleResizeEvent),AJS.$(document).on("aui-message-close",GH.RapidBoard.ViewController.handleResizeEvent),AJS.$(window).on("confluence.header-resized",GH.RapidBoard.ViewController.handleResizeEvent),GH.RapidBoard.ViewController.handleResizeEvent(),AJS.$(document).on("click",".manage-sprint-permission-help",function(e){e.preventDefault(),window.open({"url":"https://confluence.atlassian.com/display/AdminJIRACloud/Managing+project+permissions","isLocal":false}.url,"_blank")});try{B()}catch(e){}};var B=function(){window.addEventListener("error",function(e){try{(i&&(GH.RapidBoard.State.getMode()===i.PLAN||GH.RapidBoard.State.getMode()===i.WORK)||GH.RapidBoard.State.isConfigOpen())&&r.safeError("classic.rapidboard",e.error.message||"Failed to retrieve error message",{error:e.error.stack,mode:GH.RapidBoard.State.isConfigOpen()?"config":GH.RapidBoard.State.getMode()})}catch(e){}return!1})};GH.RapidBoard.ViewController.initSidebarActions=function(){GH.RapidBoard.ViewController.sidebarController.interceptSidebarItems(),GH.RapidBoard.ViewController.sidebarController.reactToSidebarSizeChange()},GH.RapidBoard.ViewController.update=function(e){GH.Notification.clear(),h.handleDeferredResourceImport(GH.RapidBoard.State.getMode()===i.PLAN||GH.RapidBoard.State.getMode()===i.WORK,function(){GH.SprintRetrospectiveView.clearDialog()}),GH.RapidBoard.ViewController.showRapidView(e),AJS.$("#ghx-rabid").css({display:""})},GH.RapidBoard.ViewController.showRapidView=function(e){AJS.$("#ghx-errors").empty(),GH.RapidBoard.ViewController.updateModeUrls(),GH.RapidBoard.ViewController.updateTabSelector(e),h.handleDeferredResourceImport(!GH.PlanController,function(){GH.PlanController.setRapidView(e)}),h.handleDeferredResourceImport(!GH.WorkController,function(){GH.WorkController.setRapidView(e)}),h.handleDeferredResourceImport(!GH.ReportController||!GH.ReportController,function(){GH.ReportController&&GH.ReportController.setRapidView(e)}),GH.RapidBoard.State.isConfigOpen()?(d=a("jira-agile/rapid/ui/SPConfigController"),GH.WorkController&&GH.WorkController.hide(),GH.PlanController&&GH.PlanController.hide(),GH.RapidBoard.State.getMode()===i.PLAN?S(GH.RapidBoard.State.getMode()===i.PLAN,["wrc!gh-rapid-backlog-deferred"],e):GH.RapidBoard.State.getMode()===i.WORK?S(GH.RapidBoard.State.getMode()===i.WORK,["wrc!gh-rapid-lwf-board-deferred"],e):(GH.ReportController.hide(),d.init(e))):GH.RapidBoard.ViewController.setMode(GH.RapidBoard.ViewController.getMode(),!0),GH.PersistentMessages.WelcomeMessage.renderMessage(),GH.PersistentMessages.CreateViewMessage.renderMessage()};var S=function(e,r,o){h.triggerOnDemandResourceLoadWithCondition(e,r,"ViewController",function(){GH.ReportController.hide(),d.init(o)})};GH.RapidBoard.ViewController.validModes={plan:!0,work:!0,report:!0},GH.RapidBoard.ViewController.displayedMode=void 0,GH.RapidBoard.ViewController.updateTabSelector=function(e){var r=e.sprintSupportEnabled,e=GH.RapidBoard.ViewController.getTabLabels(r);AJS.$("#plan-toggle").attr({"data-tooltip":e.plan.tooltip,disabled:!r}).text(e.plan.label),AJS.$("#work-toggle").attr({"data-tooltip":e.work.tooltip}).text(e.work.label)},GH.RapidBoard.ViewController.showErrorPanelDragAndDrop=function(e,r){GH.Notification.Handler.setCustomNotificationHandler(null),GH.Notification.Handler.setCustomDivStyleHandler(function(){return{left:50,bottom:50}}),r&&r.hasGlobalErrors()?(r=GH.tpl.rapid.notification.renderErrorMessages({errors:r.getGlobalErrors()}),GH.Notification.showError(AJS.format("{0,choice,1#Issue|1\u003cIssues} {1} couldn\'\'t be moved.",e.length,e),r)):GH.Notification.showError(AJS.format("{0,choice,1#Issue|1\u003cIssues} {1} couldn\'\'t be moved.",e.length,e),"Check your network connection, refresh the page and try again."),GH.Notification.Handler.removeCustomHandlers()},GH.RapidBoard.ViewController.showErrorRefreshBoard=function(){GH.Notification.Handler.setCustomNotificationHandler(null),GH.Notification.Handler.setCustomDivStyleHandler(function(){return{left:50,bottom:50}}),GH.Notification.showError("Board couldn\'t be updated",AJS.format("We couldn\'\'t update {0} board. Try again later.",document.getElementById("ghx-board-name").innerHTML)),GH.Notification.Handler.removeCustomHandlers()},GH.RapidBoard.ViewController.getTabLabels=function(e,r){var o=void 0,e="gh.rapid.pool.link."+(o=e?"simple":r?"scrum":"kanban")+".label",o="gh.rapid.pool.link."+o+".tip";return{plan:{label:r?"Backlog":"Backlog",tooltip:r?"Backlog ( 1 )":"The Backlog is not currently available on Kanban boards"},work:{label:AJS.I18n.getText(e),tooltip:AJS.I18n.getText(o)}}},GH.RapidBoard.ViewController.getMode=function(){return GH.RapidBoard.State.getMode()},GH.RapidBoard.ViewController.chooseApplicableMode=function(e){var r=GH.RapidBoard.State.isAgilityBoard(),o=GH.RapidBoard.State.isPlanModeAvailable(),t=e===i.PLAN&&!o;if(r){var a=e===i.WORK,r=e===i.REPORT&&!GH.RapidBoard.State.isAgilityReportsEnabled();if(a)return o?i.PLAN:i.REPORT;if(r)return i.PLAN;if(t)return i.REPORT}else if(t)return i.WORK;return e};function m(r){return n.isReactFiltersEnabled().then(function(e){setTimeout(function(){e&&(AJS.$("#ghx-operations > .gh-skeleton").remove(),AJS.$("#ghx-quick-filters").show(),AJS.$(r).hide(),GH.Layout.fireDelayedWindowResize())},0)})}function b(r,e,o){var t,a,i=document.querySelector("#ghx-share"),n=e||"board",l=o||n;i&&(t=AJS.Meta.get("cloud-id"),a=c(window,!1),s.then(function(e){e.render(i,{productId:"jira",subProductId:"jira-software",triggerButtonStyle:GH.RapidBoard.State.isPlanMode()?"icon-with-text":"icon-only",shareLink:a&&a.location.href,objectAri:"ari:cloud:jira:"+t+":board/"+GH.RapidBoard.State.getRapidViewId(),shareTitle:r,shareContentType:n},l)}).catch(function(e){console.log("ShareButton render failed",e)}))}function V(){var e=GH.DetailsView.getContainer(),r=GH.RapidBoard.ViewController.getMode();GH.RapidBoard.ViewController.insightsOpen?(P(r)?GH.DetailsView.updateSize():e.css({display:"none"}),GH.RapidBoard.ViewController.insightsOpen=!1):(P(r)||(e.css({display:""}),GH.DetailsView.load(null,!1)),GH.RapidBoard.ViewController.insightsOpen=!0),AJS.$("#ghx-issue-fragment").trigger("insights-button-toggled",{isInsightsPanelOpen:GH.RapidBoard.ViewController.insightsOpen,onClose:v,rapidViewId:GH.DetailsView.rapidViewId,mode:r}),GH.RapidBoard.ViewController.mountOrUnmountInsightButton()}function k(){var r=document.querySelector("#ghx-controls-buttons"),o=document.querySelector("#ghx-controls-buttons-compact");g.then(function(e){r&&e.unmount(r),o&&e.unmount(o)})}function x(){var e;e=!1,GH.RapidBoard.ViewController.insightsOpen=e}function A(){return!!GH.RapidBoard.ViewController.insightsOpen}var P=function(e){switch(e){case i.PLAN:return GH.PlanController.isDetailsViewOpened();case i.WORK:return GH.WorkController.isDetailsViewOpened();default:throw new Error("detail view is only supported in either backlog or board mode. But current mode: "+e)}},v=function(){h.clearDeferredBatchCompleteListener(V),h.handleDeferredResourceImport(!GH.DetailsView||!GH.DetailsView.load||!GH.DetailsView.updateSize,V)},I={onToggle:v,isInsightsPanelOpen:!1};GH.RapidBoard.ViewController.isInsightsPanelOpen=A,GH.RapidBoard.ViewController.resetInsightPanelOpen=function(){GH.RapidBoard.ViewController.mountOrUnmountInsightButton(!0)},GH.RapidBoard.ViewController.mountOrUnmountInsightButton=function(e){var r=GH.RapidBoard.State.getMode();r===i.PLAN&&GH.RapidBoard.State.isScrumBoard&&GH.RapidBoard.State.isScrumBoard()||r===i.WORK&&GH.RapidBoard.State.isScrumBoard&&GH.RapidBoard.State.isScrumBoard()&&GH.WorkController&&GH.WorkController.sprintData&&GH.WorkController.sprintData.sprints&&0<GH.WorkController.sprintData.sprints.length||r===i.WORK&&GH.RapidBoard.State.isKanbanBoard&&GH.RapidBoard.State.isKanbanBoard()?(e&&x(),function(){var e,r,o,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"boardScreen";(GH.RapidBoard.State.isScrumBoard()||GH.RapidBoard.State.isKanbanBoard())&&(e=GH.PresentationMode.isHeaderHidden(),r=document.querySelector(e?"#ghx-controls-buttons-compact":"#ghx-controls-buttons"),(o=Object.assign(I)).isInsightsPanelOpen=A(),o.isCompact=e,o.isKanban=GH.RapidBoard.State.isKanbanBoard(),r&&g.then(function(e){e.render(r,t,o)}).catch(function(e){console.log("InsightsButton render failed",e)}))}()):(x(),k())},GH.RapidBoard.ViewController.remountInsightButton=function(){k(),GH.RapidBoard.ViewController.mountOrUnmountInsightButton()};function O(t){return new Promise(function(e,r){w&&!0===w.backoffRequired?GH.Poller.addPollerWithBackoff("WorkPoller",function(){return GH.WorkController.checkForUpdates(!1,GH.WorkDataLoader.LOAD_INITIATOR.POLLING)},GH.WorkDataLoader.NEW_DATA_WITH_CHANGES,w):GH.Poller.addPoller("WorkPoller",function(){return GH.WorkController.checkForUpdates(!1,GH.WorkDataLoader.LOAD_INITIATOR.POLLING)});var o=GH.WorkController.checkForUpdates(t);o.done(function(){GH.WorkController.hasDataChanged(GH.WorkDataLoader.currentData.data)&&GH.WorkController.applyLoadedData(),GH.WorkController.latestBoardRefreshedTime=Date.now(),e()}),o.fail(r)})}function D(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"boardScreen";GH.WorkController.latestBoardRefreshedTime=Date.now();var o=document.querySelector("#ghx-refresh-board");o&&G.then(function(e){e.render(o,{getLatestBoardRefreshedTime:function(){return GH.WorkController.latestBoardRefreshedTime},getUpdates:O,onError:GH.RapidBoard.ViewController.showErrorRefreshBoard},r)}).catch(function(e){console.log("RefreshBoardButton render failed",e)})}GH.RapidBoard.ViewController.setMode=function(e,r){if(d=a("jira-agile/rapid/ui/SPConfigController"),r=!!r,function(e){var r=GH.ECX.INTERACTION_TYPE.UNKNOWN_DESTINATION;switch(e){case i.PLAN:r=GH.ECX.INTERACTION_TYPE.BACKLOG;break;case i.WORK:r=GH.ECX.INTERACTION_TYPE.BOARD;break;case i.REPORT:r=GH.ECX.INTERACTION_TYPE.REPORT}GH.RapidBoard.State.isFirstLoad()?GH.ECX.markUserInteraction(r.INITIAL_LOAD_FULL,!1):GH.ECX.markUserInteraction(r.INITIAL_LOAD_SPA,!0)}(e),GH.SprintRetrospectiveView&&GH.SprintRetrospectiveView.clearDialog(),GH.RapidBoard.ViewController.validModes[e]){var o,t;if(e=GH.RapidBoard.ViewController.chooseApplicableMode(e),GH.RapidBoard.ViewController.displayedMode!==e){if(GH.RapidBoard.ViewController.trigger("before:navigate",{mode:e}),GH.RapidBoard.State.setMode(e),GH.RapidBoard.ViewController.mountOrUnmountInsightButton(!0),d&&d.isOpen())return d.closeConfig(),void GH.RapidBoard.refreshBoardData(!0);switch(GH.RapidBoard.ViewController.updateSelector(),GH.Notification.clearBoardUpdatedMessage(),GH.LinkedPagesController&&GH.LinkedPagesController.hideCurrentDialog(),GH.RapidBoard.ViewController.hasSideBar&&GH.RapidBoard.ViewController.sidebarController.setSidebarState(e),e){case i.PLAN:GH.RapidBoard.ViewController.clearSkeletons(),GH.WorkController&&GH.WorkController.hide(),GH.ReleaseVersionTrigger&&GH.ReleaseVersionTrigger.remove(),GH.ReportController&&GH.ReportController.hide(),AJS.$("#ghx-report,#ghx-controls-report").hide(),AJS.$("#ghx-quick-filters").hide(),AJS.$("#ghx-plan,#ghx-controls-plan").show(),m("#ghx-controls-plan"),AJS.$("body").addClass("ghx-loading-backlog"),AJS.$(".adg-throbber").show(),require("jira-agile/rapid/wrm-spa-utils").sendSpinnerShowEvent("plan"),AJS.$("#ghx-work,#ghx-controls-work,.ghx-sprint-meta,#ghx-modes-tools .favourite-btn").hide(),h.triggerOnDemandResourceLoadWithCondition(!GH.PlanController,["wrc!gh-rapid-lwf-board-deferred"],"backlog",function(){GH.PlanController.init(),GH.WorkController&&GH.WorkController.hide(),require("jira/inline-issue-create/agile/initialiser").init(),GH.ReleaseVersionTrigger&&GH.ReleaseVersionTrigger.remove(),AJS.$("#ghx-work,#ghx-controls-work,.ghx-sprint-meta,#ghx-modes-tools .favourite-btn").hide(),GH.PlanController.show()});break;case i.REPORT:GH.RapidBoard.ViewController.clearSkeletons(),GH.ReportController.init(),GH.PlanController.hide(),GH.WorkController.hide(),AJS.$("#ghx-plan,#ghx-controls-plan").hide(),AJS.$("#ghx-work,#ghx-controls-work,.ghx-sprint-meta,#ghx-modes-tools .favourite-btn").hide(),AJS.$("#ghx-quick-filters").hide(),AJS.$("#ghx-report,#ghx-controls-report").show(),GH.ReportController.show();break;default:i.WORK;R.startSpan("plan-controller-hide"),GH.PlanController&&GH.PlanController.hide(),R.endSpan("plan-controller-hide"),R.startSpan("report-controller-hide"),GH.ReportController&&GH.ReportController.hide(),R.endSpan("report-controller-hide"),AJS.$("#ghx-plan,#ghx-controls-plan").hide(),AJS.$("#ghx-report,#ghx-controls-report").hide(),AJS.$("#ghx-work,#ghx-controls-work,.ghx-sprint-meta,#ghx-modes-tools .favourite-btn").show(),AJS.$("#ghx-quick-filters").hide(),R.startSpan("init-quick-filter"),m("#ghx-controls-work"),R.endSpan("init-quick-filter"),h.triggerOnDemandResourceLoadWithCondition(!GH.WorkController,["wrc!gh-rapid-lwf-board-deferred"],"backlog",function(){R.startSpan("work-controller-init"),GH.WorkController.init(),R.endSpan("work-controller-init"),AJS.$("#ghx-work,#ghx-controls-work,.ghx-sprint-meta,#ghx-modes-tools .favourite-btn").show(),GH.WorkController.show(),"enabled-without-text"===f&&D()})}e===i.REPORT?(o=GH.ReportController.getCurrentChart())&&o.name&&o.id&&b(o.name,"report",o.id):(o=GH.RapidViewConfig.currentData)&&o.data&&o.data.name&&(b(o.data.name,"board"),C&&p(document.querySelector("#ghx-change-management-menu"))),e===i.WORK?function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"boardScreen",o=document.querySelector("#ghx-automation");o&&(AJS.Meta.get("cloud-id"),u.then(function(e){e.render(o,r,GH.WorkSelectionController.getSelectedIssueKeys())}).catch(function(e){console.log("AutomationButton render failed",e)}))}():(t=document.querySelector("#ghx-automation"))&&u.then(function(e){e.unmount(t)}),"enabled-without-text"===f&&h.handleDeferredResourceImport(!GH.WorkController,function(){var r;e===i.WORK?D():(r=document.querySelector("#ghx-refresh-board"))&&G.then(function(e){e.unmount(r)})}),r?GH.RapidBoard.State.replaceState():GH.RapidBoard.State.pushState()}}},GH.RapidBoard.ViewController.preload=function(o){switch(GH.RapidBoard.ViewController.getMode()){case i.PLAN:case i.REPORT:return Promise.resolve();default:return GH.RapidBoard.State.isConfigOpen()&&!GH.RapidBoard.State.isFirstLoad()?Promise.resolve():new Promise(function(e,r){GH.WorkController.preload(o).done(e,r)})}},GH.RapidBoard.ViewController.updateSelector=function(){AJS.$(".js-mode-selector .aui-button").removeClass("active");var e=GH.RapidBoard.State.getMode();AJS.$("#"+e+"-toggle").addClass("active")},GH.RapidBoard.ViewController.viewByMode={work:"detail",plan:"planning",report:"reporting"},GH.RapidBoard.ViewController.updateModeUrls=function(){var t=GH.RapidBoard.State.getRapidViewId();_.forEach(GH.RapidBoard.ViewController.validModes,function(e,r){var o=GH.RapidBoard.getRapidBoardPageUrl(t,GH.RapidBoard.ViewController.viewByMode[r]);AJS.$("#"+r+"-toggle").attr("href",o)})},GH.RapidBoard.ViewController.updateContentContainer=function(){GH.RapidBoard.ViewController.handleResizeEvent()},GH.RapidBoard.ViewController.handleResizeEvent=function(){GH.RapidBoard.ViewController.updateContentAreaHeight(),GH.PlanView&&GH.PlanView.updateFixedElementPositioning(),GH.WorkView&&GH.WorkView.updateFixedElementPositioning(),GH.RapidBoard.ViewController.hasSideBar&&JIRA.API.getSidebar().then(function(e){e.reflow(!0)})},GH.RapidBoard.ViewController.updateContentAreaHeight=function(){var e,r,o=GH.RapidBoard.ViewController.contentContainers();o.size()&&(e=GH.Layout.getWindowHeight()-2,(r=o.offset())&&r.top&&(e-=r.top),o.css({height:e}))},GH.RapidBoard.ViewController.contentContainers=function(){return AJS.$("#ghx-work, #ghx-plan, #ghx-report, #ghx-plan-group").filter(function(){return"none"!==this.style.display})},GH.RapidBoard.ViewController.collectPrintablePlanIssues=function(){return GH.PlanController.collectPrintableIssues()},GH.RapidBoard.ViewController.collectPrintableWorkIssues=function(){return GH.WorkController.collectPrintableIssues()},GH.RapidBoard.ViewController.hasTransitionedToAnotherRoute=function(e){return!H.isRapidboardsActive()||new RegExp("[?&]config=([^&#]+)").test(e.href)},GH.RapidBoard.ViewController.clearSkeletons=function(){AJS.$("#ghx-header .gh-skeleton").remove(),AJS.$("#ghx-content-main .gh-skeleton").remove()}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/SidebarController.js' */
GH.RapidBoard.SidebarController=function(n){"use strict";var a=require("jira/analytics"),t=require("jira-agile/rapid/const/PageMode"),e=require("jira/container-api").APIs.getNavigationAPI;function r(){}var i={"com.pyxis.greenhopper.jira:project-sidebar-work-scrum":"work","com.pyxis.greenhopper.jira:project-sidebar-work-kanban":"work","com.pyxis.greenhopper.jira:global-sidebar-work-scrum":"work","com.pyxis.greenhopper.jira:global-sidebar-work-kanban":"work","com.pyxis.greenhopper.jira:user-container-sidebar-work-kanban":"work","com.pyxis.greenhopper.jira:user-container-sidebar-work-scrum":"work","com.pyxis.greenhopper.jira:project-sidebar-plan-scrum":"plan","com.pyxis.greenhopper.jira:project-sidebar-plan-kanban":"plan","com.pyxis.greenhopper.jira:global-sidebar-plan-scrum":"plan","com.pyxis.greenhopper.jira:global-sidebar-plan-kanban":"plan","com.pyxis.greenhopper.jira:user-container-sidebar-plan-scrum":"plan","com.pyxis.greenhopper.jira:user-container-sidebar-plan-kanban":"plan","com.pyxis.greenhopper.jira:global-sidebar-report":"report","com.atlassian.jira.jira-projects-plugin:report-page":"report","com.pyxis.greenhopper.jira:user-container-sidebar-report":"report"},o={plan:["com.pyxis.greenhopper.jira:project-sidebar-plan-scrum","com.pyxis.greenhopper.jira:global-sidebar-plan-scrum","com.pyxis.greenhopper.jira:project-sidebar-plan-kanban","com.pyxis.greenhopper.jira:global-sidebar-plan-kanban","com.pyxis.greenhopper.jira:user-container-sidebar-plan-scrum","com.pyxis.greenhopper.jira:user-container-sidebar-plan-kanban","com.pyxis.greenhopper.jira:project-sidebar-simple-backlog"],work:["com.pyxis.greenhopper.jira:project-sidebar-work-scrum","com.pyxis.greenhopper.jira:project-sidebar-work-kanban","com.pyxis.greenhopper.jira:global-sidebar-work-scrum","com.pyxis.greenhopper.jira:global-sidebar-work-kanban","com.pyxis.greenhopper.jira:user-container-sidebar-work-scrum","com.pyxis.greenhopper.jira:user-container-sidebar-work-kanban"],report:["com.atlassian.jira.jira-projects-plugin:report-page","com.pyxis.greenhopper.jira:global-sidebar-report","com.pyxis.greenhopper.jira:user-container-sidebar-report","com.pyxis.greenhopper.jira:project-sidebar-simple-reports"]},p="report_agile_sidebar_links",s="report_agile_sidebar_links_without_label",c="uc_report_agile_sidebar_links";function d(r,e){var a=(o[e]||[]).some(function(e){e=r.getItem(e,!0);if(e)return e.select(),!0});"report"!==e||a||function(n){var e=n.getGroup(p,!0)||n.getGroup(s,!0);e=e||n.getGroup(c,!0);e&&e.links&&e.links.length&&e.links.some(function(e){if(e.url){var r=l(e.url),a=l(window.location.href.replace(/^.*\/\/[^\/]+/,""));if(a.chart&&r.chart===a.chart){e=n.getItem(e.id,!0);if(e)return e.select(),!0}}})}(r)}function l(e){e=e.split("?");try{return 1===e.length?{}:JSON.parse('{"'+e[1].replace(/#.*$/,"").replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,r){return""===e?r:decodeURIComponent(r)})}catch(e){return{}}}function u(e,r){d(e,r)}function g(e){e.on(e.events.BEFORE_NAVIGATE,function(e){var r=e.target.getId(),a=AJS.$(document.getElementById(r)),r=i[r];!function(e,r){switch(e){case"plan":case"work":return 1;case"report":return-1<r.find("a").attr("href").indexOf("RapidBoard.jspa");default:return}}(r,a)||(n.setMode(r),e.preventDefault())},!0)}return r.prototype={constructor:r,interceptSidebarItems:function(){JIRA.API.getSidebar().done(function(e){var r;g(e),e.on(e.events.SCOPE_SWITCHER_BEFORE_NAVIGATE,function(e,r){r=r.id;e.preventDefault(),a.send({name:"jira.frontend.fe.navigation.scope-switcher.link.click",properties:{pageMode:GH.RapidBoard.State.getMode()}}),GH.RapidBoard.loadNewBoard(r)},!0),(r=e).on(r.events.DATA,function(){var e=GH.RapidBoard.State.getMode();u(r,e)},!0)})},reselectSidebarItem:function(){JIRA.API.getSidebar().done(function(e){d(e,GH.RapidBoard.State.getMode())})},setSidebarState:function(o){JIRA.API.getSidebar().done(function(e){u(e,o)}),e().then(function(e){if("function"==typeof e.setView){var r=e.isInProjectContext(),a=e.viewIds,n=r?a.SOFTWARE:a.USER,i=r?a.SOFTWARE_REPORTS:a.USER_REPORTS;switch(o){case t.WORK:case t.PLAN:e.setView(n);break;case t.REPORT:e.setView(i)}}})},reactToSidebarSizeChange:function(){JIRA.API.getSidebar().then(function(e){GH.Layout.fireDelayedWindowResize(),e.on("expand-end",function(){GH.Layout.fireDelayedWindowResize()},!0),e.on("collapse-end",function(){GH.Layout.fireDelayedWindowResize()},!0)}),e().then(function(e){GH.Layout.fireDelayedWindowResize(),e.onExpandEnd(function(){GH.Layout.fireDelayedWindowResize()}),e.onCollapseEnd(function(){GH.Layout.fireDelayedWindowResize()})})},removePlanMenuItem:function(e){this.updateSidebar(e)},updateSidebar:function(r){JIRA.API.getSidebar().then(function(e){return e.updateData({rapidView:r},!0)}),e().then(function(e){return e.updateData()})}},r}(GH.RapidBoard.ViewController);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/ViewController.soy' */
// This file was automatically generated from ViewController.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.viewcontroller.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.viewcontroller == 'undefined') { GH.tpl.viewcontroller = {}; }


GH.tpl.viewcontroller.renderOperationsBar = function(opt_data, opt_ignored) {
  return '<div id="ghx-controls"><div id="ghx-controls-plan" class="ghx-controls-plan ghx-controls-list"></div><div id="ghx-controls-work" class="ghx-controls-work ghx-controls-list"></div><div id="ghx-quick-filters"></div><div id="ghx-controls-report" class="ghx-controls-report"></div></div><div id="ghx-controls-buttons"></div>';
};
if (goog.DEBUG) {
  GH.tpl.viewcontroller.renderOperationsBar.soyTemplateName = 'GH.tpl.viewcontroller.renderOperationsBar';
}


GH.tpl.viewcontroller.renderErrors = function(opt_data, opt_ignored) {
  var output = '<div class="aui-message error"><p class="title"><span class="aui-icon icon-error"></span><strong>' + soy.$$escapeHtml('There was an error loading this page') + '</strong></p><ul>';
  var errorList8 = opt_data.errors;
  var errorListLen8 = errorList8.length;
  for (var errorIndex8 = 0; errorIndex8 < errorListLen8; errorIndex8++) {
    var errorData8 = errorList8[errorIndex8];
    output += '<li>' + soy.$$filterNoAutoescape(errorData8.message) + '</li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.viewcontroller.renderErrors.soyTemplateName = 'GH.tpl.viewcontroller.renderErrors';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/work/IssueListUtil.js' */
GH.IssueListUtil={},GH.IssueListUtil.calculateGroupData=function(e){var a={fakeParents:{},beginGroups:{},endGroups:{}};return _.each(e,function(e){GH.IssueListUtil._calculateGroupData(a,e)}),a},GH.IssueListUtil.issueListToTree=function(t){var s=[];return t=t.map(function(e){return Object.assign({},e)}),_.each(t,function(a,e){var n=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();(!n||-1===a.typeHierarchyLevel)&&(n||a.parentKey)?((n=(n=s.find(function(e){return e.key===a.parentKey}))||t.find(function(e){return e.key===a.parentKey}))||(n={key:a.parentKey,fakeParent:!0},s.push(n)),n.subTasks||(n.subTasks=[]),n.subTasks.push(a)):s.push(a)}),s},GH.IssueListUtil.applyExpandedState=function(e,a){e.forEach(function(e){a.includes(e.key)&&(e.expanded=!0)})},GH.IssueListUtil._calculateGroupData=function(a,e){var n=null,t=null,s=e[e.length-1],i=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();_.each(e,function(e){i&&-1===e.typeHierarchyLevel||!i&&e.parentId?(n?n.parentId!==e.parentId?(a.endGroups[n.id]=!0,a.beginGroups[e.id]=!0,a.fakeParents[e.id]=!0):e.id===s.id?(a.endGroups[e.id]=!0,a.fakeParents[e.id]=!0):a.fakeParents[n.id]&&(a.fakeParents[e.id]=!0):(t&&t.id===e.parentId?a.beginGroups[t.id]=!0:a.fakeParents[e.id]=!0,a.beginGroups[e.id]=!0),n=e):n&&(a.endGroups[n.id]=!0,n=null),t=e})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/WindowActivityNotifier.js' */
!function(n,a,i){function o(){i(this),this._bindFocusBlur()}o.prototype={_bindFocusBlur:function(){var o=this,r=!1,i=a.debounce(function(i){r||(i?o.trigger("focus"):o.trigger("blur"))},200),t=a.partial(i,!0),i=a.partial(i,!1);n(window).on({"focus.rapidboardSpa":t,"blur.rapidboardSpa":i,"unload.rapidboardSpa":function(){r=!0,o.trigger("unload")}})}},GH.WindowActivityNotifier=o,GH.windowActivityNotifier=new o}(AJS.$,_,GH.Events);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ops/KeyboardShortcuts.js' */
!function(){"use strict";function r(e,o){var t="unknown";GH.ReportController&&GH.ReportController.visible?t=GH.ReportController.getCurrentChart().id+"Screen":GH.PlanController&&GH.PlanController.isActive()?t="backlogScreen":GH.WorkController&&GH.WorkController.isActive()&&(t="boardScreen");var r="keyboardShortcut";n.sendUIEvent({source:t,action:"pressed",actionSubject:r,actionSubjectId:o+((r=r).charAt(0).toUpperCase()+r.slice(1)),attributes:{key:e}})}var o=require("jquery"),t=require("jira-agile/rapid/const/PageMode"),i=require("jira-agile/rapid/ui/bento/bento-features"),n=require("jira/analytics/web-client"),e=require("jira/featureflags/feature-manager").isFeatureEnabled("jira-backlog-global-search-analytics_y8sui");GH.Shortcut={focusBoardSearch:function(e){},newIssue:function(e){l()||o("#create_link").click()},toggleBox:function(e){},editIssuePriority:function(e){},projector:function(e){r(e,"projector"),GH.PresentationMode.iterateThroughPresentationModes(GH.PresentationMode.allModes)},viewIssue:function(e){u(GH.IssueOperationShortcuts.viewSelectedIssue,null,{key:e,type:"viewIssue"})},editIssue:function(e){u(GH.IssueOperationShortcuts.editSelectedIssue,null,{key:e,type:"editIssue"})},assignIssue:function(e){u(GH.IssueOperationShortcuts.assignSelectedIssue,{type:"EDIT_FIELD",payload:{fieldId:"assignee"}},{key:e,type:"assignIssue"})},assignIssueToMe:function(e){a()||(r(e,"assignToMe"),GH.IssueOperationShortcuts.assignSelectedIssueToMe())},commentIssue:function(e){u(GH.IssueOperationShortcuts.commentSelectedIssue,{type:"ADD_COMMENT"},{key:e,type:"commentIssue"})},editIssueLabels:function(e){u(GH.IssueOperationShortcuts.editSelectedIssueLabels,{type:"EDIT_FIELD",payload:{fieldId:"labels"}},{key:e,type:"editIssueLabels"})},showOperationsDialog:function(e){var o=require("jira-agile/rapid/deferred-resources-loader");require("jira/featureflags/feature-manager");l()||(r(e,"showOperationsDialog"),o.handleDeferredResourceImport(!GH.IssueOperationShortcuts,function(){GH.IssueOperationShortcuts.showOperationsDialog()}))},sendToTop:function(e,o){GH.WorkController.isActive()?l()||(r(o,"sendToTop"),GH.WorkKBShortcuts.sendToTop(e)):GH.PlanController.isActive()&&(r(o,"sendToTop"),GH.PlanKBShortcuts.sendToTop(e))},sendToBottom:function(e,o){GH.WorkController.isActive()?l()||(r(o,"sendToBottom"),GH.WorkKBShortcuts.sendToBottom(e)):GH.PlanController.isActive()&&(r(o,"sendToBottom"),GH.PlanKBShortcuts.sendToBottom(e))},nextIssue:function(e){GH.WorkController.isActive()?l()||(r(e,"nextIssue"),GH.WorkKBNavigation.selectNextIssue()):GH.PlanController.isActive()&&(r(e,"nextIssue"),GH.BacklogSelectionController.selectNextIssue())},previousIssue:function(e){GH.WorkController.isActive()?l()||(r(e,"previousIssue"),GH.WorkKBNavigation.selectPreviousIssue()):GH.PlanController.isActive()&&(r(e,"previousIssue"),GH.BacklogSelectionController.selectPreviousIssue())},nextBox:function(e){GH.WorkController.isActive()&&(l()||(r(e,"nextColumn"),GH.WorkKBNavigation.selectNextColumn()))},previousBox:function(e){GH.WorkController.isActive()&&(l()||(r(e,"previousColumn"),GH.WorkKBNavigation.selectPreviousColumn()))},toggleSwimlanes:function(e){GH.WorkController.isActive()&&(r(e,"toggleSwimlanes"),GH.WorkKBNavigation.toggleSwimlanes())},planMode:function(e){c()||(GH.RapidBoard.State.isPlanModeAvailable()?l()||(r(e,"setPlanMode"),GH.RapidBoard.ViewController.setMode(t.PLAN)):this.workMode())},workMode:function(e){c()||l()||(r(e,"setWorkMode"),GH.RapidBoard.ViewController.setMode(t.WORK))},reportMode:function(e){c()||l()||(r(e,"setReportMode"),GH.RapidBoard.ViewController.setMode(t.REPORT))},toggleIssue:function(e){r(e,"toggleDetailsView"),GH.WorkController.isActive()?GH.WorkController.toggleDetailsView():GH.PlanController.isActive()&&GH.PlanController.toggleDetailsView()}};var s=/^Mac/.test(navigator.platform);e&&o(document).on("keydown",function(e){GH.RapidBoard.ViewController.getMode()===t.PLAN&&70===e.keyCode&&(e.ctrlKey&&!s||e.metaKey&&s)&&(e=GH.RapidViewConfig.currentData.data,n.sendTrackEvent({containerType:e.locationType,containerId:JIRA.API&&JIRA.API.Projects&&JIRA.API.Projects.getCurrentProjectId(!0),objectType:"backlog",objectId:e.id,source:"backlogScreen",actionSubject:"globalSearch",actionSubjectId:e.id,action:"triggered",attributes:{boardId:e.id,projectType:"software",boardType:"Classic"}}))});var l=function(){return GH.WorkController.isActive()&&GH.RapidBoard.State.isNewIssueViewEnabled()&&GH.WorkView.isIssueModalOpened()},a=function(){var e=GH.WorkController.isActive()&&GH.RapidBoard.State.isNewIssueViewEnabled()&&GH.WorkController.isDetailsViewOpened(),o=GH.PlanController.isActive()&&i.isBentoInBacklogEnabled()&&GH.PlanController.isDetailsViewOpened();return e||o},c=function(){return GH.RapidBoard.State.isAgilityBoard()},u=function(e,o,t){GH.WorkController.isActive()&&GH.RapidBoard.State.isNewIssueViewEnabled()?!GH.WorkController.isDetailsViewOpened()&&GH.WorkSelectionController.getSelectedIssueKey()&&(GH.WorkController.toggleDetailsView(o),r(t.key,t.type)):GH.PlanController.isActive()&&i.isBentoInBacklogEnabled()?!GH.PlanController.isDetailsViewOpened()&&GH.IssueOperationShortcuts.getSelectedIssueKey()&&(GH.PlanController.toggleDetailsView(o),r(t.key,t.type)):(e(),r(t.key,t.type))}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ops/IssueOperationShortcuts.js' */
!function(){"use strict";var t=require("jira-agile/rapid/analytics-tracker"),s=require("jira/container-api");GH.IssueOperationShortcuts={},GH.IssueOperationShortcuts.overrideSelectedIssue=void 0,GH.IssueOperationShortcuts.analytics=function(e){return new t("gh.issueaction."+e)},GH.IssueOperationShortcuts.init=function(){GH.IssueOperationShortcuts.bindEnter(),AJS.$(document).delegate(".js-issueaction-container-dot .js-issueaction","click",function(e){e=AJS.$(e.currentTarget).attr("id");GH.IssueOperationShortcuts.trackKeyboardShortcuts(e)}),AJS.$(document).delegate("#issueactions-suggestions a.aui-list-item-link","click",function(e){var e=AJS.$(e.currentTarget).attr("class");0<=e.indexOf("issueaction-")&&(e=e.replace(/.*issueaction-([a-z0-9_-]+).*/,"$1"),GH.IssueOperationShortcuts.trackDotDialogAction(e))}),AJS.bind("remove.dialog",function(){GH.IssueOperationShortcuts.bindEnter()})},GH.IssueOperationShortcuts.bindEnter=function(){AJS.$(document).bind("keydown",function(e){"13"===e.keyCode&&(void 0!==(e=e.target)&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&e!==document||GH.IssueOperationShortcuts.viewSelectedIssue())})},GH.IssueOperationShortcuts.setOverrideSelectedIssue=function(e){GH.IssueOperationShortcuts.overrideSelectedIssue=e},GH.IssueOperationShortcuts.clearOverrideSelectedIssue=function(){GH.IssueOperationShortcuts.overrideSelectedIssue=void 0},GH.IssueOperationShortcuts.isOverrideSelectedIssueActive=function(){return!!GH.IssueOperationShortcuts.overrideSelectedIssue},GH.IssueOperationShortcuts.getSelectedIssueKey=function(){return GH.IssueOperationShortcuts.overrideSelectedIssue?GH.IssueOperationShortcuts.overrideSelectedIssue.key:GH.WorkController&&GH.WorkController.isActive()?GH.WorkSelectionController.getSelectedIssueKey():GH.PlanController&&GH.PlanController.isActive()?GH.BacklogSelectionController.getSelectedIssueKey():void 0},GH.IssueOperationShortcuts.getSelectedIssueId=function(){if(GH.IssueOperationShortcuts.overrideSelectedIssue)return GH.IssueOperationShortcuts.overrideSelectedIssue.id;if(GH.WorkController.isActive()){var e=GH.WorkSelectionController.getSelectedIssueKey();if(e)return(t=GH.GridDataController.getModel())&&t.getIssueIdForKey(e)}else if(GH.PlanController.isActive()){var t,e=GH.BacklogSelectionController.getSelectedIssueKey();if(e)return(t=GH.BacklogModel)&&t.getIssueIdForKey(e)}},GH.IssueOperationShortcuts.viewSelectedIssue=function(){var e,t=GH.IssueOperationShortcuts.getSelectedIssueKey();t&&(GH.IssueOperationShortcuts.trackKeyboardShortcuts("open-issue"),e=GH.Ajax.CONTEXT_PATH+"/browse/"+t,s.navigate(e,function(){window.location.href=e}))},GH.IssueOperationShortcuts.editSelectedIssue=function(){GH.IssueOperationShortcuts.getSelectedIssueId()&&AJS.$("a.issueaction-edit-issue").trigger("click")},GH.IssueOperationShortcuts.assignSelectedIssue=function(){GH.IssueOperationShortcuts.getSelectedIssueKey()&&AJS.$(".js-issueaction-container-dot a.issueaction-assign-issue").trigger("click")},GH.IssueOperationShortcuts.assignSelectedIssueToMe=function(){GH.IssueOperationShortcuts.getSelectedIssueKey()&&AJS.$(".js-issueaction-container-dot a.issueaction-assign-to-me").trigger("click")},GH.IssueOperationShortcuts.commentSelectedIssue=function(){var e;GH.IssueOperationShortcuts.getSelectedIssueKey()&&(0<(e=AJS.$("#ghx-detail-view #addcomment a[name=add-comment]")).length?e:AJS.$(".js-issueaction-container-dot a.issueaction-comment-issue")).trigger("click")},GH.IssueOperationShortcuts.attachFilesSelectedIssue=function(){GH.IssueOperationShortcuts.getSelectedIssueKey()&&AJS.$(".js-issueaction-container-dot a.issueaction-attach-file").trigger("click")},GH.IssueOperationShortcuts.editSelectedIssueLabels=function(){GH.IssueOperationShortcuts.getSelectedIssueKey()&&AJS.$(".js-issueaction-container-dot a.issueaction-edit-labels").trigger("click")},GH.IssueOperationShortcuts.copyIssueLink=function(){var e,t,s=GH.IssueOperationShortcuts.getSelectedIssueKey();s&&(e=window.location.protocol+"//"+window.location.host,(t=document.getElementById("gh-ctx-menu-copy-to-clipboard")).value=e+GH.Ajax.CONTEXT_PATH+"/browse/"+s,s=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0),t.select(),document.execCommand("copy"),s&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(s)),t.value="")},GH.IssueOperationShortcuts.deleteSelectedIssue=function(){GH.IssueOperationShortcuts.getSelectedIssueId()&&AJS.$(".js-issueaction-container-dot a.issueaction-delete-issue").trigger("click")},GH.IssueOperationShortcuts.linkSelectedIssue=function(){GH.IssueOperationShortcuts.getSelectedIssueId()&&AJS.$(".js-issueaction-container-dot a.issueaction-link-issue").trigger("click")},GH.IssueOperationShortcuts.createSubtask=function(){var e=AJS.$("#atlassian-token").attr("content"),e=GH.Ajax.CONTEXT_PATH+"/secure/CreateSubTaskIssue!default.jspa?parentIssueId={0}&atl_token="+e+"&returnUrl=",e=AJS.$('<a href="'+e+'" class="issueaction-create-subtask" style="display:none"></a>');AJS.$("#gh").append(e),e.click(),e.remove()},GH.IssueOperationShortcuts.logWorkOnSelectedIssue=function(){GH.IssueOperationShortcuts.getSelectedIssueKey()&&AJS.$(".js-issueaction-container-dot a.issueaction-log-work").trigger("click")},GH.IssueOperationShortcuts.showOperationsDialog=function(){var e=require("jira/dialog/dialog-register");GH.IssueOperationShortcuts.getSelectedIssueKey()&&e.issueActions.show()},GH.IssueOperationShortcuts.trackKeyboardShortcuts=function(e){GH.IssueOperationShortcuts.analytics("keyboardshortcuts").trigger(e)},GH.IssueOperationShortcuts.trackDotDialogAction=function(e){GH.IssueOperationShortcuts.analytics("dotdialog").trigger(e)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkKBShortcuts.js' */
GH.WorkKBShortcuts={},GH.WorkKBShortcuts.sendToTop=function(o){GH.WorkRanking.sendToTop(o)},GH.WorkKBShortcuts.sendToBottom=function(o){GH.WorkRanking.sendToBottom(o)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/component/ContextMenu.js' */
!function(){"use strict";GH.ContextMenu=function(t){this.actionGroups=t.actionGroups,this.dropdown=null},GH.ContextMenu.menuSelector="#gh-ctx-menu",GH.ContextMenu.contentSelector="#gh-ctx-menu-content",GH.ContextMenu.triggerSelector="#gh-ctx-menu-trigger",GH.ContextMenu.prototype._executeContextAction=function(t){this._findActionById(t).actionFn()},GH.ContextMenu.prototype._findActionById=function(e){var n=[];return _.each(this.actionGroups,function(t){n=n.concat(t.actions)}),_.find(n,function(t){return t.id===e})},GH.ContextMenu.prototype.showAt=function(t){var e,n;_.isUndefined(t)||_.isNull(t)||(this._initDropdown(),e=t.pageX,n=t.pageY,t=AJS.$(GH.ContextMenu.contentSelector).height(),GH.Util.UI.isVisibleY(n+t)||(n-=t),this._positionDropdownAt(e,n),this.dropdown.show())},GH.ContextMenu.prototype._positionDropdownAt=function(t,e){AJS.$(GH.ContextMenu.triggerSelector).offset({left:t,top:e})},GH.ContextMenu.prototype._initDropdown=function(){var t=require("jira/ajs/dropdown/dropdown");AJS.$(GH.ContextMenu.menuSelector).remove();var e=GH.tpl.contextmenu.renderContextMenu({ctxActionGroups:this.actionGroups});AJS.$("#gh").append(e);var n=this,e=AJS.$(GH.ContextMenu.contentSelector);e.click(function(t){var e=AJS.$(t.target).closest(".js-context-menu-action").attr("data-ctx-action");_.isUndefined(e)||!1===e||(n._executeContextAction(e),t.preventDefault())});e={content:e,trigger:AJS.$(GH.ContextMenu.triggerSelector),alignment:AJS.LEFT};this.dropdown=t.create(e)[0];var o=this.dropdown.layerController._validateClickToClose;this.dropdown.layerController._validateClickToClose=function(t){return 2!==t.button&&(!o||o.apply(this,arguments))}},GH.ContextMenu.prototype.hide=function(){this.dropdown&&this.dropdown.hide(),AJS.$(GH.ContextMenu.menuSelector).remove(),AJS.$(GH.ContextMenu.contentSelector).remove(),AJS.$(GH.ContextMenu.triggerSelector).remove(),AJS.$(GH.ContextMenu.triggerSelector+"_drop").remove()}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/component/ContextMenu.soy' */
// This file was automatically generated from ContextMenu.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.contextmenu.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.contextmenu == 'undefined') { GH.tpl.contextmenu = {}; }


GH.tpl.contextmenu.renderContextMenu = function(opt_data, opt_ignored) {
  var output = '<div id="gh-ctx-menu" class="aui-dd-parent"><div id="gh-ctx-menu-trigger" class="aui-dd-trigger" style="width:1px; height:1px; position:absolute;"></div><div id="gh-ctx-menu-content" class="aui-list">';
  var ctxActionGroupList4 = opt_data.ctxActionGroups;
  var ctxActionGroupListLen4 = ctxActionGroupList4.length;
  for (var ctxActionGroupIndex4 = 0; ctxActionGroupIndex4 < ctxActionGroupListLen4; ctxActionGroupIndex4++) {
    var ctxActionGroupData4 = ctxActionGroupList4[ctxActionGroupIndex4];
    output += GH.tpl.contextmenu.renderContextActionGroup({ctxActionGroup: ctxActionGroupData4, isLast: ctxActionGroupIndex4 == ctxActionGroupListLen4 - 1});
  }
  output += '</div><textarea id="gh-ctx-menu-copy-to-clipboard" value="" readonly></textarea></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.contextmenu.renderContextMenu.soyTemplateName = 'GH.tpl.contextmenu.renderContextMenu';
}


GH.tpl.contextmenu.renderContextActionGroup = function(opt_data, opt_ignored) {
  var output = ((opt_data.ctxActionGroup.label) ? '<h5>' + soy.$$escapeHtml(opt_data.ctxActionGroup.label) + '</h5>' : '') + '<ul class="aui-list-section aui-first ' + ((opt_data.isLast) ? 'aui-last' : '') + '">';
  var ctxActionList21 = opt_data.ctxActionGroup.actions;
  var ctxActionListLen21 = ctxActionList21.length;
  for (var ctxActionIndex21 = 0; ctxActionIndex21 < ctxActionListLen21; ctxActionIndex21++) {
    var ctxActionData21 = ctxActionList21[ctxActionIndex21];
    output += GH.tpl.contextmenu.renderContextAction({ctxAction: ctxActionData21});
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.contextmenu.renderContextActionGroup.soyTemplateName = 'GH.tpl.contextmenu.renderContextActionGroup';
}


GH.tpl.contextmenu.renderContextAction = function(opt_data, opt_ignored) {
  var output = '<li id="' + soy.$$escapeHtml(opt_data.ctxAction.id) + '-container" class="aui-list-item"><a  data-ctx-action="' + soy.$$escapeHtml(opt_data.ctxAction.id) + '" id="' + soy.$$escapeHtml(opt_data.ctxAction.id) + '" class="aui-list-item-link js-context-menu-action" title="' + soy.$$escapeHtml(opt_data.ctxAction.label) + '"' + ((opt_data.ctxAction.href != null) ? 'href="' + soy.$$escapeHtml(opt_data.ctxAction.href) + '"' : 'href="#"') + '>' + soy.$$escapeHtml(opt_data.ctxAction.label);
  if (opt_data.ctxAction.shortcut) {
    output += '<span class="ghx-shortcut">';
    var keyList48 = opt_data.ctxAction.shortcut.keys;
    var keyListLen48 = keyList48.length;
    for (var keyIndex48 = 0; keyIndex48 < keyListLen48; keyIndex48++) {
      var keyData48 = keyList48[keyIndex48];
      output += (keyIndex48 == 0) ? soy.$$escapeHtml(keyData48) : '<span class="ghx-separator">' + soy.$$escapeHtml(opt_data.ctxAction.shortcut.separator) + '</span><span class="ghx-monospace">' + soy.$$escapeHtml(keyData48) + '</span>';
    }
    output += '</span>';
  }
  output += '</a></li>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.contextmenu.renderContextAction.soyTemplateName = 'GH.tpl.contextmenu.renderContextAction';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/state/RapidBoardState.js' */
!function(){"use strict";function a(){return d.isFeatureEnabled("jsw.classic.board.api-calls.modern-frontend")}var e=require("jira-agile/rapid/const/PageMode"),t=require("jira-agile/rapid/ui/SPConfig"),d=require("jira/featureflags/feature-manager"),i=require("jira-agile/rapid/ajax"),r=require("wrm/data"),o=require("jira-agile/rapid/deferred-resources-loader"),n="ISSUE_BOARD_EXPANDED_LIST_KEY",s="activeQuickFilters",p="planQuickFilters",u="workSprintFilters";GH.RapidBoard.State={},GH.RapidBoard.State.data={};var S=!0;GH.RapidBoard.State._storedMode=null,GH.RapidBoard.State._storedBoardSettings=null,GH.RapidBoard.State.setDataValue=function(t,a){_.isUndefined(a)||_.isNull(a)?delete GH.RapidBoard.State.data[t]:GH.RapidBoard.State.data[t]=a},GH.RapidBoard.State.getDataValue=function(t){return GH.RapidBoard.State.data[t]},GH.RapidBoard.State.getMode=function(){return GH.RapidBoard.State.getDataValue("mode")||e.WORK},GH.RapidBoard.State.getStoredMode=function(){var t;return GH.RapidBoard.State._storedMode||(t=r.claim("stored-mode"),GH.RapidBoard.State._storedMode=t?t.mode:e.WORK),GH.RapidBoard.State._storedMode},GH.RapidBoard.State.isPlanMode=function(){return GH.RapidBoard.State.getMode()===e.PLAN},GH.RapidBoard.State.isWorkMode=function(){return GH.RapidBoard.State.getMode()===e.WORK},GH.RapidBoard.State.setMode=function(t){a()&&GH.RapidBoard.State.getMode()!==t&&GH.RapidBoard.State.setLoadDataClaimed(!0),GH.RapidBoard.State.setDataValue("mode",t),GH.storage.put("gh.mode",t),GH.RapidBoard.State._storedMode!==t&&GH.RapidBoard.State._submitUpdateStoreMode(t)},GH.RapidBoard.State._submitUpdateStoreMode=function(t){i.put({url:"/userData/storeMode?mode="+t}),GH.RapidBoard.State._storedMode=t},GH.RapidBoard.State.getLastCardPrintingSize=function(){return GH.storage.get("gh.card.printing.size")||"small"},GH.RapidBoard.State.setLastCardPrintingSize=function(t){GH.storage.put("gh.card.printing.size",t)},GH.RapidBoard.State.isNewIssueViewEnabled=function(){return!!d.isFeatureEnabled("return-new-issue-view-as-default-for-board-and-backlog_f2ewt")||"true"===AJS.$('meta[name="ghx-user-bento-enabled"]').attr("content")},GH.RapidBoard.State.setNewIssueViewEnabled=function(t){GH.RapidBoard.State.setDataValue("newIssueViewEnabled",t)},GH.RapidBoard.State.getProjectKey=function(){return GH.RapidBoard.State.getDataValue("projectKey")||void 0},GH.RapidBoard.State.setProjectKey=function(t){GH.RapidBoard.State.setDataValue("projectKey",t)},GH.RapidBoard.State.setEpicLevelName=function(t){GH.RapidBoard.State.setDataValue("nameForEpicLevel",t)},GH.RapidBoard.State.getEpicLevelName=function(){return GH.RapidBoard.State.getDataValue("nameForEpicLevel")||"Epic"};function l(a){return{key:a,set:function(t){return GH.RapidBoard.State.setDataValue(a,t)},get:function(){var t=GH.RapidBoard.State.getDataValue(a);return null==t?void 0:t},reset:function(){return GH.RapidBoard.State.setDataValue(a,null)}}}GH.RapidBoard.State.numberOfIssues=l("numberOfIssues"),GH.RapidBoard.State.numberOfVersions=l("numberOfVersions"),GH.RapidBoard.State.numberOfEpics=l("numberOfEpics"),GH.RapidBoard.State.numberOfProjects=l("numberOfProjects"),GH.RapidBoard.State.numberOfCustomFields=l("numberOfCustomFields"),GH.RapidBoard.State.numberOfSubtasks=l("numberOfSubtasks"),GH.RapidBoard.State.oldDoneIssuesCutoff=l("oldDoneIssuesCutoff"),GH.RapidBoard.State.numberOfBacklogIssues=l("numberOfBacklogIssues"),GH.RapidBoard.State.isDetailsViewOpened=function(){return GH.RapidBoard.State.getDataValue("detailViewWork")||!1},GH.RapidBoard.State.isIssueModalOpened=function(){return GH.RapidBoard.State.getDataValue("issueModalWork")||!1},GH.RapidBoard.State.isDetailsViewPlanOpened=function(){return GH.RapidBoard.State.getBoardSetting(null,"detailViewPlan",!0)||!1},GH.RapidBoard.State.getStoredDetailViewOpened=function(){return GH.storage.get("gh.detailViewWork")||!1},GH.RapidBoard.State.setWorkViewDetailsViewOpened=function(t){GH.RapidBoard.State.setDataValue("detailViewWork",t||!1),GH.storage.put("gh.detailViewWork",t||!1)},GH.RapidBoard.State.setWorkIssueModalOpened=function(t){GH.RapidBoard.State.setDataValue("issueModalWork",t||!1)},GH.RapidBoard.State.setPlanViewDetailsViewOpened=function(t){GH.RapidBoard.State.setBoardSetting("detailViewPlan",t||!1)},GH.RapidBoard.State.setEpicShownOnRapidBoard=function(t){GH.storage.put("gh.epicShownOnRapidBoard."+GH.RapidBoard.State.getRapidViewId(),t)},GH.RapidBoard.State.getEpicShownOnRapidBoard=function(){var t=GH.storage.get("gh.epicShownOnRapidBoard."+GH.RapidBoard.State.getRapidViewId());return!!_.isNull(t)||t},GH.RapidBoard.State.setNonWorkingDaysShown=function(t,a){GH.storage.put("gh.nonWorkingDaysShown."+t,a)},GH.RapidBoard.State.getNonWorkingDaysShown=function(t){t=GH.storage.get("gh.nonWorkingDaysShown."+t);return!!_.isNull(t)||t},GH.RapidBoard.State.setQuickFiltersExpanded=function(t){GH.storage.put("gh.quickFiltersExpanded",t)},GH.RapidBoard.State.getQuickFiltersExpanded=function(){var t=GH.storage.get("gh.quickFiltersExpanded");return!_.isNull(t)&&t},GH.RapidBoard.State.setDetailViewWidth=function(t){GH.storage.put("gh.detailViewWidth",t)},GH.RapidBoard.State.getDetailViewWidth=function(){var t=GH.storage.get("gh.detailViewWidth");return _.isNull(t)?0:t},GH.RapidBoard.State.getCycleTimeCalculationType=function(){var t=GH.RapidBoard.State.getDataValue("cycleTimeCalculationType");return _.isUndefined(t)&&(t=GH.storage.get("gh.cycleTimeCalculationType"),_.isNull(t))?(GH.RapidBoard.State.setCycleTimeCalculationType(GH.ControlChart.CYCLE_TIME_CALCULATION_TOTAL),GH.ControlChart.CYCLE_TIME_CALCULATION_TOTAL):t},GH.RapidBoard.State.setCycleTimeCalculationType=function(t){GH.RapidBoard.State.setDataValue("cycleTimeCalculationType",t),GH.storage.put("gh.cycleTimeCalculationType",t)},GH.RapidBoard.State.getStoredChartIntroState=function(){return!1!==GH.storage.get("gh.charts.intro")},GH.RapidBoard.State.setChartIntroState=function(t){GH.storage.put("gh.charts.intro",t)},GH.RapidBoard.State.isChartViewOpened=function(){return GH.RapidBoard.State.getMode()===e.REPORT},GH.RapidBoard.State.getRapidViewId=function(){var t=GH.RapidBoard.State.getDataValue("rapidViewId");return t=_.isUndefined(t)?GH.RapidBoard.State.getMostRecentRapidViewId():t},GH.RapidBoard.State.getRapidViewIdWithInfo=function(){var t={};return t.viewId=GH.RapidBoard.State.getDataValue("rapidViewId"),t.fromLocalStorage=!1,_.isUndefined(t.viewId)&&(t.viewId=GH.RapidBoard.State.getMostRecentRapidViewId(),t.fromLocalStorage=!0),t},GH.RapidBoard.State.getMostRecentRapidViewId=function(){return GH.storage.get("gh.latestRapidViewId")},GH.RapidBoard.State.setRapidViewId=function(t){a()&&GH.RapidBoard.State.getRapidViewId()!==t&&GH.RapidBoard.State.setLoadDataClaimed(!0),GH.RapidBoard.State.setDataValue("rapidViewId",t),GH.storage.put("gh.latestRapidViewId",t)},GH.RapidBoard.State.getSelectedIssueKey=function(){return GH.RapidBoard.State.getDataValue("selectedIssueKey")||null},GH.RapidBoard.State.getStoredSelectedIssueKey=function(){return GH.storage.get("gh.selectedIssueKey")||null},GH.RapidBoard.State.setSelectedIssueKey=function(t){GH.RapidBoard.State.setDataValue("selectedIssueKey",t),GH.storage.put("gh.selectedIssueKey",t)},GH.RapidBoard.State.setLoadDataClaimed=function(t){GH.RapidBoard.State.setDataValue("claimLoadData",t)},GH.RapidBoard.State.isLoadDataClaimed=function(){return GH.RapidBoard.State.getDataValue("claimLoadData")||!1},GH.RapidBoard.State.setRapidViewIdForEventuallyConsistentBoard=function(t){GH.RapidBoard.State.setDataValue("eventuallyConsistentRapidViewId",t)},GH.RapidBoard.State.getRapidViewIdForEventuallyConsistentBoard=function(){return GH.RapidBoard.State.getDataValue("eventuallyConsistentRapidViewId")},GH.RapidBoard.State.setActiveSprintIdsForEventuallyConsistentBoard=function(t){GH.RapidBoard.State.setDataValue("activeSprintIdsForEventuallyConsistentBoard",t)},GH.RapidBoard.State.getActiveSprintIdsForEventuallyConsistentBoard=function(){return GH.RapidBoard.State.getDataValue("activeSprintIdsForEventuallyConsistentBoard")};function B(){return!GH.RapidBoard.State.isAgilityBoard()&&GH.RapidBoard.State.getDataValue("selectedConfigTab")||null}GH.RapidBoard.State.isConfigOpen=function(){return Boolean(B())},GH.RapidBoard.State.getSelectedConfigTab=B,GH.RapidBoard.State.getSelectedInsightsConfigTab=function(){return!GH.RapidBoard.State.isAgilityBoard()&&GH.RapidBoard.State.getDataValue("selectedInsightsConfigTab")||null};function H(){return GH.storage.get("selectedConfigTab")||t.INITIAL_TAB}GH.RapidBoard.State.getStoredSelectedConfigTab=H,GH.RapidBoard.State.setStoredSelectedConfigTab=function(t){GH.storage.put("selectedConfigTab",t)};function G(){return GH.storage.get("selectedInsightsConfigTab")||"board"}GH.RapidBoard.State.getStoredSelectedInsightsConfigTab=G,GH.RapidBoard.State.setStoredSelectedInsightsConfigTab=function(t){GH.storage.put("selectedInsightsConfigTab",t)};function R(t){return GH.RapidBoard.State.setDataValue("selectedConfigTab",t)}function g(t){return GH.RapidBoard.State.setDataValue("selectedInsightsConfigTab",t)}GH.RapidBoard.State.openConfig=function(){R(H()),g(G())},GH.RapidBoard.State.setSelectedConfigTab=R,GH.RapidBoard.State.closeConfig=function(){return R(null)},GH.RapidBoard.State.setSelectedInsightsConfigTab=g,GH.RapidBoard.State.setChartType=function(t){var a=GH.RapidBoard.State.getBoardSettings();_.isUndefined(t)||_.isNull(t)?delete a.chartType:a.chartType=t,GH.RapidBoard.State.setBoardSettings(a)},GH.RapidBoard.State.getChartType=function(){return GH.RapidBoard.State.getBoardSettings().chartType||""},GH.RapidBoard.State.getRetrospectiveSprintId=function(){return GH.RapidBoard.State.getBoardSettings().retrospectiveSprintId||!1},GH.RapidBoard.State.setRetrospectiveSprintId=function(t){return GH.RapidBoard.State.setBoardSetting("retrospectiveSprintId",t)},GH.RapidBoard.State.addIssueKeyToExpanded=function(t){var a=GH.RapidBoard.State.getBoardSetting(null,n)||[];return a.includes(t)||a.push(t),GH.RapidBoard.State.setBoardSetting(n,a)},GH.RapidBoard.State.removeIssueKeyFromExpanded=function(t){var a=GH.RapidBoard.State.getBoardSetting(null,n)||[];return a.includes(t)&&a.splice(a.indexOf(t),1),GH.RapidBoard.State.setBoardSetting(n,a)},GH.RapidBoard.State.getExpandedIssueKeys=function(){return GH.RapidBoard.State.getBoardSetting(null,n)||[]},GH.RapidBoard.State.setTimeFrame=function(t){var a=GH.RapidBoard.State.getBoardSettings();_.isUndefined(t)||_.isNull(t)?delete a.timeFrame:a.timeFrame=t,GH.RapidBoard.State.setBoardSettings(a)},GH.RapidBoard.State.getTimeFrame=function(){var t=GH.RapidBoard.State.getBoardSettings().timeFrame;return _.isUndefined(t)||_.isNull(t)?7:t},GH.RapidBoard.State.getBoardSettings=function(t){t=(t=_.isUndefined(t)||_.isNull(t)?GH.RapidBoard.State.getRapidViewId():t)||"00000";return GH.RapidBoard.State.getDataValue("boardSettings."+t)||c(t)};var c=function(t){var a=GH.storage.get("gh.boardSettings."+t);return(a=a||{})||(a={},GH.RapidBoard.State.setDataValue("boardSettings."+t,a)),GH.RapidBoard.State._storedBoardSettings||(GH.RapidBoard.State._storedBoardSettings=r.claim("stored-board-settings"),GH.RapidBoard.State._storedBoardSettings=GH.RapidBoard.State._storedBoardSettings||{}),_.extend(a,f(GH.RapidBoard.State._storedBoardSettings))};GH.RapidBoard.State.setBoardSettings=function(t,a){var e=GH.RapidBoard.State.getRapidViewId();e&&(GH.RapidBoard.State.setDataValue("boardSettings."+e,t),GH.storage.put("gh.boardSettings."+e,t),a&&(t={activeQuickFilters:t[s],workSprintFilters:t[u],planQuickFilters:t[p]},_.isEqual(t,GH.RapidBoard.State._storedBoardSettings)||GH.RapidBoard.State._submitBoardSettingsRequest(t)))},GH.RapidBoard.State._submitBoardSettingsRequest=function(t){i.put({url:"/userData/boardSettings?rapidViewId="+GH.RapidBoard.State.getRapidViewId(),data:t}),GH.RapidBoard.State._storedBoardSettings=f(t)};var f=function(t){return JSON.parse(JSON.stringify(t))};GH.RapidBoard.State.isSwimlaneCollapsed=function(t){return-1<(GH.RapidBoard.State.getBoardSettings().collapsedSwimlanes||[]).indexOf(t)},GH.RapidBoard.State.setSwimlaneCollapsed=function(t,a){var e=GH.RapidBoard.State.getBoardSettings(),d=e.collapsedSwimlanes||[];if(a)d.indexOf(t)<0&&(d.push(t),e.collapsedSwimlanes=d);else{t=d.indexOf(t);if(t<0)return;d.splice(t,1),0<d.length?e.collapsedSwimlanes=d:delete e.collapsedSwimlanes}GH.RapidBoard.State.setBoardSettings(e)},GH.RapidBoard.State.getBoardSetting=function(t,a,e){a=GH.RapidBoard.State.getBoardSettings(t)[a];return void 0!==a?a:e},GH.RapidBoard.State.setBoardSetting=function(t,a){var e=GH.RapidBoard.State.getBoardSettings();void 0!==a?e[t]=a:delete e[t];t=[s,p,u].includes(t);GH.RapidBoard.State.setBoardSettings(e,t)},GH.RapidBoard.State.getNumberArrayBoardSetting=function(t,a,e){e=GH.RapidBoard.State.getBoardSettings(t)[a]||e;return _.isArray(e)?e:[]},GH.RapidBoard.State.setNumberArrayBoardSetting=function(t,a){var e=GH.RapidBoard.State.getBoardSettings();if(void 0!==a){if(!_.isArray(a))return;e[t]=a}else delete e[t];GH.RapidBoard.State.setBoardSettings(e)},GH.BoardState={},GH.BoardState.setGlobalValue=function(t,a){GH.RapidBoard.State.setDataValue(t,a),GH.storage.put("gh."+t,a)},GH.BoardState.getGlobalValue=function(t,a){return GH.RapidBoard.State.getDataValue(t)||GH.storage.get("gh."+t)||a},GH.BoardState.setPerViewValue=function(t,a){GH.RapidBoard.State.setBoardSetting(t,a)},GH.BoardState.getPerViewValue=function(t,a){return GH.RapidBoard.State.getBoardSetting(null,t,a)},GH.RapidBoard.State.pushState=function(){GH.RapidBoard.UrlState.pushState()},GH.RapidBoard.State.replaceState=function(){GH.RapidBoard.UrlState.replaceState()},GH.RapidBoard.State.initializeState=function(){GH.RapidBoard.State.setSelectedIssueKey(GH.RapidBoard.State.getStoredSelectedIssueKey()),GH.RapidBoard.State.setWorkViewDetailsViewOpened(GH.RapidBoard.State.getStoredDetailViewOpened());var t=GH.RapidBoard.State.getStoredMode();t!==e.PLAN||GH.RapidBoard.State.isPlanModeAvailable()||(t=e.WORK),GH.RapidBoard.State.setMode(t),GH.RapidBoard.State.setChartIntroState(GH.RapidBoard.State.getStoredChartIntroState());var a=[GH.RapidBoardUrlState];o.handleDeferredResourceImport(!GH.WorkUrlState,function(){a.push(GH.WorkUrlState),GH.RapidBoard.UrlState.setHandlers(a)}),o.handleDeferredResourceImport(!GH.PlanUrlState,function(){a.push(GH.PlanUrlState),GH.RapidBoard.UrlState.setHandlers(a)}),o.handleDeferredResourceImport(!GH.ReportUrlState,function(){a.push(GH.ReportUrlState),GH.RapidBoard.UrlState.setHandlers(a)}),GH.RapidBoard.UrlState.setHandlers(a),GH.RapidBoard.UrlState.hasUrlState()&&GH.RapidBoard.UrlState.loadState();t=GH.RapidBoard.State.isLoadingKanPlanWhileItDisabled();GH.RapidBoard.UrlState.replaceState(t),GH.RapidBoard.UrlState.init()},GH.RapidBoard.State.isPlanModeAvailable=function(){return!GH.RapidBoard.State.isIssueListBacklog()&&(GH.RapidBoard.State.isScrumBoard()||GH.RapidViewConfig.kanPlanEnabled)},GH.RapidBoard.State.isLoadingKanPlanWhileItDisabled=function(t){var a=GH.RapidBoard.UrlState.getCurrentUrlState();return t=t||GH.RapidBoard.UrlState.normalizeStringParam(a.mode,""),!!_.isString(t)&&(-1<t.indexOf("planning")&&!GH.RapidBoard.State.isPlanModeAvailable())},GH.RapidBoard.State.isScrumBoard=function(){return GH.RapidViewConfig.currentData.data&&GH.RapidViewConfig.currentData.data.sprintSupportEnabled},GH.RapidBoard.State.isIssueListBacklog=function(){return GH.RapidViewConfig.currentData.data&&GH.RapidViewConfig.currentData.data.isIssueListBacklog},GH.RapidBoard.State.isKanbanBoard=function(){return GH.RapidViewConfig.currentData.data&&!GH.RapidViewConfig.currentData.data.sprintSupportEnabled},GH.RapidBoard.State.isAgilityBoard=function(){return GH.RapidViewConfig.currentData.data&&GH.RapidViewConfig.currentData.data.isSimpleBoard},GH.RapidBoard.State.isAgilityReportsEnabled=function(){return GH.RapidBoard.State.isAgilityBoard()&&GH.RapidViewConfig.currentData.data&&GH.RapidViewConfig.currentData.data.isReportsEnabled},GH.RapidBoard.State.getBoardType=function(){return GH.RapidBoard.State.isAgilityBoard()?"simple":GH.RapidBoard.State.isScrumBoard()?"scrum":GH.RapidBoard.State.isKanbanBoard()?"kanban":void 0},GH.RapidBoard.State.getBoardTypeForAnalytics=function(){return GH.RapidBoard.State.isAgilityBoard()?"Agility":GH.RapidBoard.State.isScrumBoard()?"Scrum":GH.RapidBoard.State.isKanbanBoard()?"Kanban":void 0},GH.RapidBoard.State.showEpicAsPanel=function(){return!!_.isUndefined(GH.RapidViewConfig.currentData.data.showEpicAsPanel)||GH.RapidViewConfig.currentData.data.showEpicAsPanel},GH.RapidBoard.State.changeFirstLoadState=function(){S=!1},GH.RapidBoard.State.isFirstLoad=function(){return S},GH.RapidBoard.State.shouldShowFlexibleNomenclatureEpicText=function(){return d.isFeatureEnabled("safe.migrate-strings-in-cbb")&&"Epic"!==GH.RapidBoard.State.getEpicLevelName()},GH.RapidBoard.State.shouldShowFlexibleNomenclatureEpicTextReports=function(){return"Epic"!==GH.RapidBoard.State.getEpicLevelName()},GH.RapidBoard.State.shouldUseTypeHierarchyLevel=function(){return d.isFeatureEnabled("safe.return-hierarchy-level-in-cbb")}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-keto-common-resources-set-2', location = 'jira-agile-module/includes/js/rapid/ui/print/CardPrintingController.js' */
define("jira-agile/rapid/ui/print/card-printing-controller",["require"],function(){"use strict";var n=require("underscore"),r=(require("jquery"),require("jira-agile/rapid/ui/plan/backlog-model"),require("jira/featureflags/feature-manager"),require("jira-agile/rapid/deferred-resources-loader")),i=require("jira-agile/rapid/const/PageMode");function t(r,e){return n.map(e,function(e){return n.extend({cardPrintingCategory:r},e)})}return{printSelectedIssues:function(e){r.handleDeferredResourceImport(GH.RapidBoard.State.getMode()===i.PLAN,function(){require("jira-agile/rapid/ui/print/card-printing-view").showPrintScreen({issues:e.issues,epics:e.epics,actionContext:{triggeredFrom:"contextMenu",viewMode:e.viewMode,boardType:e.boardType}})})},printBoardPlanView:function(e){var r,i;require("jira-agile/rapid/ui/print/card-printing-view").showPrintScreen({issues:(r=e,i=[],n.each(r.sprintIssues,function(e){i.push.apply(i,t("sprint-"+e.sprintId,e.issues))}),i.push.apply(i,t("backlog",r.backlogIssues)),i),filterItems:function(e){var r=[],i=n.filter(e.sprintIssues,function(e){return 0<n.size(e.issues)}),i=n.map(i,function(e){return{id:e.sprintId.toString(),label:e.sprintName}});(1<n.size(i)||1===n.size(i)&&!n.isEmpty(e.backlogIssues))&&(r.push([{id:"backlog",label:"Backlog"},{id:"all",label:"All issues"}]),r.push(i));return r}(e),selectedItem:"all",epics:e.epics,actionContext:{triggeredFrom:"boardMenu",viewMode:e.viewMode,boardType:e.boardType}})},printBoardWorkView:function(e){require("jira-agile/rapid/ui/print/card-printing-view").showPrintScreen({issues:e.issues,actionContext:{triggeredFrom:"boardMenu",viewMode:e.viewMode,boardType:e.boardType}})}}});;
;
/* module-key = 'com.atlassian.plugin.jslibs:browser-storage-controls-1.0.4', location = 'atlassian-jslibs/libs/@atlassian/browser-storage-controls/dist/cookie-controls-min.js' */
/////////// Modified by Atlassian ///////////
define("atlassian/libs/browser-storage-controls",["analytics-web-client"],(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){var n,o;
/////////// Modified by Atlassian ///////////
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var c=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=c,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(r);/^[\{\[]/.test(c)&&(r=c)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=t+"="+r+s}}function c(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var s=i[c].split("="),a=s.slice(1).join("=");r||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var u=t(s[0]);if(a=(n.read||n)(a,u)||t(a),r)try{a=JSON.parse(a)}catch(e){}if(o[u]=a,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return c(e,!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(t,r){t.exports=e},,function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return d}));var n=r(4);const o="__PLATFORM_FEATURE_FLAGS__",i=void 0!==e&&!0,c=!!i&&"true"===Object({NODE_ENV:"production"}).ENABLE_PLATFORM_FF,s=!!i&&"true"===Object({NODE_ENV:"production"}).STORYBOOK_ENABLE_PLATFORM_FF,a=c||s,u={earlyResolvedFlags:new Map,booleanResolver:function(e){return!1}},l="undefined"!=typeof window?window:globalThis;function f(e){l[o].booleanResolver=e}function d(e){if(a)return Object(n.a)('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',"@atlaskit/platform-feature-flags",e),!0;try{var t;const r=null===(t=l[o])||void 0===t?void 0:t.booleanResolver(e);return"boolean"!=typeof r?(console.warn(e+" resolved to a non-boolean value, returning false for safety"),!1):r}catch(e){return!1}}l[o]=l[o]||u}).call(this,r(5))},function(e,t,r){"use strict";var n,o,i;r.d(t,"a",(function(){return s}));const c=!(null!==(n=void 0!==(null===globalThis||void 0===globalThis||null===(o=globalThis.process)||void 0===o||null===(o=o.env)||void 0===o?void 0:o.JEST_WORKER_ID))&&void 0!==n&&n)&&"production"!==(null===globalThis||void 0===globalThis||null===(i=globalThis.process)||void 0===i||null===(i=i.env)||void 0===i?void 0:i.NODE_ENV),s=(...e)=>{c&&console.debug(...e)}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:c}catch(e){n=c}}();var a,u=[],l=!1,f=-1;function d(){l&&a&&(l=!1,a.length?u=a.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new y(e,t)),1!==u.length||l||s(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";r.r(t),r.d(t,"deleteCookie",(function(){return h})),r.d(t,"getCookie",(function(){return w})),r.d(t,"loadStorageControlsData",(function(){return E})),r.d(t,"setCookie",(function(){return j})),r.d(t,"setStrictlyNecessaryCookie",(function(){return A})),r.d(t,"packUserPreferences",(function(){return T})),r.d(t,"unpackUserPreferencesCookie",(function(){return S})),r.d(t,"initializeControls",(function(){return k}));var n=r(0),o=r.n(n),i=r(3);function c(e){return Object(i.a)(e)}var s=r(1),a=r.n(s);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=()=>{const{hostname:e}=window.location;return e.includes(".dev.")||e.includes(".stg.")?s.envType.STAGING:e.includes("localhost")||e.includes("ngrok")||e.includes("atlastunnel")?s.envType.DEV:s.envType.PROD},p=()=>{const{origin:e,pathname:t}=window.location,r=(e=>{let t="";if(!e)return t;const r=t=>new RegExp(`^${t}(/|$)`).test(String(e));return r("/wiki")&&(t="/wiki"),r("/jira")&&(t="/jira"),r("/compass")&&(t="/compass"),r("/canvas")&&(t="/canvas"),(r("/servicedesk")||r("/jira/servicedesk"))&&(t="/servicedesk"),t})(t);return{domain:`${e}${r}`,product:r.slice(1)}},y=e=>l(l({featureFlagOn:c("platform.moonjelly.browser-storage-controls")},p()),e&&e),g=(()=>{let e;return()=>(e||(e=new a.a({env:d(),product:"atlassianCookies"},{useLegacyUrl:!1,disableCookiePersistence:!0})),e)})();function v(e,t){g().sendOperationalEvent({source:"package",actionSubject:"package",action:e,attributes:y(t)})}const m="[browser-storage-controls]";const b=new class{info(e,t){console.log(`${m}: ${e}`,t?JSON.stringify(t):"")}error(e,t){console.error(`${m}: ${e}`,t?JSON.stringify(t):"")}errorWithOperationalEvent({action:e,attributes:t={},message:r,metadata:n}){try{v(e,t)}catch(t){this.error(`Failed to send operational event on error: ${e}. ${t.message||""}`)}this.error(r,n?JSON.stringify(n):"")}warn(e,t){console.warn(`${m}: ${e}`,t?JSON.stringify(t):"")}},h=(e,t)=>{try{c("platform.moonjelly.browser-storage-controls")&&v("usedDeleteCookie",{cookieKey:e}),o.a.remove(e,t)}catch(t){b.errorWithOperationalEvent({action:"usedDeleteCookieError",attributes:{cookieKey:e},message:"Failed to use delete cookie. "+(t.message||"")})}};function w(e){try{return c("platform.moonjelly.browser-storage-controls")&&v("usedGetCookie",{cookieKey:e}),e?o.a.get(e):o.a.get()}catch(t){b.errorWithOperationalEvent({action:"usedGetCookieError",attributes:{cookieKey:e},message:"Failed to use get cookie. "+(t.message||"")})}}const O=async(e=2e3,t=0)=>{if(t>3e5)return Promise.resolve(!1);if(!c("platform.moonjelly.browser-storage-controls")){const r=2*e,n=Math.min(r,3e5);return new Promise(e=>{setTimeout(async()=>{const r=t+n,o=await O(n,r);e(o)},n)})}return Promise.resolve(!0)},k=async()=>{try{await(async()=>{const e=!("undefined"!=typeof document&&"undefined"!=typeof window&&Document&&Document.prototype&&Object&&Object.defineProperty),t=!c||!a.a;if(e||t)return void b.warn("Browser context is not available.");if(!await O())return;const r=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),n=null==r?void 0:r.set,o=null==r?void 0:r.get;n&&o?Object.defineProperty(document,"cookie",{get:o,set:function(e){try{v("usedDocumentCookie",{cookieKey:e.slice(0,e.indexOf("="))||""})}catch(t){b.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"Failed to send document.cookie setter event. "+(t.message||""),attributes:{cookieKey:e}})}return n.apply(document,[e])},configurable:!0}):b.warn("No document.cookie capabilities found")})()}catch(e){b.errorWithOperationalEvent({action:"initializeControlsError",message:"Failed to initialize browser storage controls. "+(e.message||"")})}},E=async()=>{try{const e=await fetch("https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories.json");if(!e.ok)throw new Error("Failed to fetch Cookies Cache! status: "+e.status);return await e.json()}catch(e){b.errorWithOperationalEvent({action:"loadStorageControlsError",message:e.message||""})}};let C=function(e){return e.StrictlyNecessary="STRICTLY_NECESSARY",e.Functional="FUNCTIONAL",e.Marketing="MARKETING",e.Analytics="ANALYTICS",e.Unknown="UNKNOWN",e}({});function S(e){if(e.length<3)return;return"001"===e[0]+e[1]+e[2]&&7===e.length?{STRICTLY_NECESSARY:!0,FUNCTIONAL:"1"===e[3],ANALYTICS:"1"===e[4],MARKETING:"1"===e[5],UNKNOWN:"1"===e[6]}:void 0}function T(e){return["001",!0===e.FUNCTIONAL?"1":"0",!0===e.ANALYTICS?"1":"0",!0===e.MARKETING?"1":"0",!0===e.UNKNOWN?"1":"0"].join("")}let N=function(e){return e.SUCCESS="SUCCESS",e.BLOCKED="BLOCKED",e.FAILED="FAILED",e}({});const j=async(e,t,r)=>{if(!c("platform.moonjelly.browser-storage-controls")){const n={wasRejected:!1,cookieKey:e};try{return o.a.set(e,t,r),N.SUCCESS}catch(e){return b.errorWithOperationalEvent({action:"usedSetCookieError",attributes:n,message:"Failed to use set cookie. "+(e.message||"")}),N.FAILED}}let n=!1;const i=await(async e=>{const t=await E();if(!t)return null;let r=null;const{keys:n,categories:o,patterns:i}=t;r=e in Object(n)?n[e]:((e,{startsWith:t})=>{let r=t,n=0;for(;n<e.length;){const t=r[e[n]];if(void 0===t)return null;if("number"==typeof t)return t;r=t,n++}return null})(e,i);const c={[o.STRICTLY_NECESSARY]:C.StrictlyNecessary,[o.FUNCTIONAL]:C.Functional,[o.ANALYTICS]:C.Analytics,[o.MARKETING]:C.Marketing,[o.UNKNOWN]:C.Unknown};return null!==r?c[r]:null})(e);if(i===C.StrictlyNecessary)n=!0;else{const e=await async function(){const e=w("atl-gdpr-consent");if(e)return S(e)}();let t=!1;e&&i&&(t=e[i]),n=t}const s={wasRejected:!n,cookieKey:e};try{return v("usedSetCookie",s),n?(o.a.set(e,t,r),N.SUCCESS):N.BLOCKED}catch(e){return b.errorWithOperationalEvent({action:"usedSetCookieError",attributes:s,message:"Failed to use set cookie. "+(e.message||"")}),N.BLOCKED}},A=(e,t,r)=>{try{c("platform.moonjelly.browser-storage-controls")&&v("usedSetStrictlyNecessaryCookie",{cookieKey:e}),o.a.set(e,t,r)}catch(t){b.errorWithOperationalEvent({action:"usedSetStrictlyNecessaryCookieError",attributes:{cookieKey:e},message:"Failed to use set strictly necessary cookie. "+(t.message||"")})}}}])}));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/TraceUtilsHelper.js' */
define("jira-agile/rapid/trace-utils-helper",["require"],function(e){var n={},r=new Set;return n.hasUserChangedRoute=function(){return 1<r.size},n.flushTrace=function(){r.clear()},n.additionalDebugAttributesForWorkControllerWithoutUpdatingUniquePaths=function(){var e=AJS.$("#ghx-work"),n=e.find(".ghx-sad-columns .ghx-column"),t=e.find(".ghx-no-active-sprint-message"),e=e.find(".ghx-issue");return{issueNumBackend:null==GH.RapidBoard.State.numberOfIssues?0:GH.RapidBoard.State.numberOfIssues.get(),numEmptyBoards:t.length,numEmptyColumns:n.length,numIssues:e.length,url:window.location.href}},n.additionalDebugAttributesForWorkController=function(){var e=AJS.$("#ghx-work"),n=e.find(".ghx-sad-columns .ghx-column"),t=e.find(".ghx-no-active-sprint-message"),e=e.find(".ghx-issue");return r.add(window.location.href),{issueNumBackend:null==GH.RapidBoard.State.numberOfIssues?0:GH.RapidBoard.State.numberOfIssues.get(),numEmptyBoards:t.length,numEmptyColumns:n.length,numIssues:e.length,url:window.location.href}},n.additionalDebugAttributesForPlanController=function(){var e=AJS.$("#ghx-plan"),n=e.find(".ghx-backlog-header.js-marker-backlog-header"),t=e.find(".ghx-onboarding-fillyourbacklog-group"),e=e.find(".ghx-issue");return r.add(window.location.href),{issueNumBackend:null==GH.RapidBoard.State.numberOfIssues?0:GH.RapidBoard.State.numberOfIssues.get(),backlogHeader:n.length,emptyBacklog:t.length,numIssues:e.length,url:window.location.href}},n});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/ReleaseExistingVersionDialog.soy' */
// This file was automatically generated from ReleaseExistingVersionDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.dialogs.ReleaseExistingVersionDialog.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.dialogs == 'undefined') { GH.tpl.dialogs = {}; }
if (typeof GH.tpl.dialogs.ReleaseExistingVersionDialog == 'undefined') { GH.tpl.dialogs.ReleaseExistingVersionDialog = {}; }


GH.tpl.dialogs.ReleaseExistingVersionDialog.invisibleIssuePartial = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml(AJS.format('{0,choice,1#This issue|1\x3cThese issues} will no longer be visible on your board if you release \x3cstrong\x3e{1}\x3c/strong\x3e.',typeof (opt_data.issuesCount) === 'number' ? opt_data.issuesCount : soy.$$escapeHtml(opt_data.issuesCount),typeof (opt_data.versionName) === 'number' ? opt_data.versionName : soy.$$escapeHtml(opt_data.versionName)))) + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.ReleaseExistingVersionDialog.invisibleIssuePartial.soyTemplateName = 'GH.tpl.dialogs.ReleaseExistingVersionDialog.invisibleIssuePartial';
}


GH.tpl.dialogs.ReleaseExistingVersionDialog.issueUnreleasedVersionVisible = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('Note that any issues in other unreleased versions will still be visible on your board.') + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.ReleaseExistingVersionDialog.issueUnreleasedVersionVisible.soyTemplateName = 'GH.tpl.dialogs.ReleaseExistingVersionDialog.issueUnreleasedVersionVisible';
}


GH.tpl.dialogs.ReleaseExistingVersionDialog.mayRemoveUnresolvedIssues = function(opt_data, opt_ignored) {
  return '<div class="description">' + soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml(AJS.format('Releasing \x3cstrong\x3e{0}\x3c/strong\x3e may remove {1,choice,1#this issue|1\x3cthese issues} from your board.',typeof (opt_data.versionName) === 'number' ? opt_data.versionName : soy.$$escapeHtml(opt_data.versionName),typeof (opt_data.issuesCount) === 'number' ? opt_data.issuesCount : soy.$$escapeHtml(opt_data.issuesCount)))) + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.ReleaseExistingVersionDialog.mayRemoveUnresolvedIssues.soyTemplateName = 'GH.tpl.dialogs.ReleaseExistingVersionDialog.mayRemoveUnresolvedIssues';
}


GH.tpl.dialogs.ReleaseExistingVersionDialog.willRemoveUnresolvedIssues = function(opt_data, opt_ignored) {
  return '<div class="description">' + soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml(AJS.format('Releasing \x3cstrong\x3e{0}\x3c/strong\x3e will remove these issues from your board.',typeof (opt_data.versionName) === 'number' ? opt_data.versionName : soy.$$escapeHtml(opt_data.versionName)))) + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.ReleaseExistingVersionDialog.willRemoveUnresolvedIssues.soyTemplateName = 'GH.tpl.dialogs.ReleaseExistingVersionDialog.willRemoveUnresolvedIssues';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/BoardDataCacheService.js' */
define("jira-agile/rapid/ui/board-data-cache-service",["require"],function(){"use strict";var a={storeData:function(e,r){r.createdTime=(new Date).getTime();r=LZString.compressToUTF16(JSON.stringify(r));return lscache.flushExpired(),lscache.set(e,r,1440)},getData:function(e){try{var r=LZString.decompressFromUTF16(lscache.get(e)),t=JSON.parse(r);return a._isDataExpired(t)?null:t}catch(e){return null}},_isDataExpired:function(e){return!e.createdTime||864e5<=(new Date).getTime()-e.createdTime}};return a});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/SwimlaneStalker.js' */
!function(){GH.SwimlaneStalker={};var h=require("jira/featureflags/feature-manager").isFeatureEnabled("jsw.classic.board.horizontal-scroll");GH.SwimlaneStalker._poolStalker=function(){var e,a,l=AJS.$("#ghx-column-header-group");0<l.length&&(e=AJS.$("#ghx-pool"),a=t(l),GH.SwimlaneView.withStickyHeaders||e.css({"padding-top":a}),a=o(e,l,a),e.off("scroll.swimlaneStalker").on("scroll.swimlaneStalker",a),a(S))},GH.SwimlaneStalker.poolStalker=GH.SwimlaneStalker._poolStalker;var S="positionImmediately",t=function(e){var a=AJS.$("#ghx-swimlane-header-stalker"),e=e.outerHeight();return!GH.SwimlaneView.withStickyHeaders&&a.is(":visible")?e-a.outerHeight():e};GH.SwimlaneStalker.repositionColumnHeaders=function(){var e=AJS.$("#ghx-pool"),a=AJS.$("#ghx-column-header-group"),l=t(a);o(e,a,l)(S)},GH.SwimlaneStalker.createPoolStalker=function(e,a){var l,t,o=AJS.$("#ghx-swimlane-header-stalker"),i=AJS.$("#ghx-pool .ghx-swimlane .ghx-swimlane-header");c(a),i.length&&(l=AJS.$("#ghx-swimlane-header-stalker").outerHeight(),t=void 0,_.each(i,function(e,a){return e=AJS.$(e),(0===a||e.position().top<=l)&&void(t=e)}),t&&(a=t.clone(),i=t.parent(),o.toggleClass("ghx-closed",i.hasClass("ghx-closed")),o.empty().append(a)))};var o=function(t,o,i){var r=AJS.$("#ghx-swimlane-header-stalker"),n=AJS.$("#ghx-pool .ghx-swimlane-header"),s=t.find(".ghx-columns");return function(e){var a,l;GH.SwimlaneView.withStickyHeaders?(GH.SwimlaneStalker.createPoolStalker(t,o),0!==t.scrollTop()&&r.trigger("test.show.swimlane.stalker"),h||AJS.$("#ghx-pool").addClass("ghx-hide-first-swimlane-header")):(e===S?(c(o,t),w(o,t,s)):g(o,t,s),d(o,t),0!==t.scrollTop()?(r.show(),r.trigger("test.show.swimlane.stalker"),n.length&&(a=void 0,_.each(n,function(e){return(e=AJS.$(e)).position().top<=i&&void(a=e)}),a&&(l=a.clone(),e=a.parent(),r.toggleClass("ghx-closed",e.hasClass("ghx-closed")),r.empty().append(l)))):r.hide())}};GH.SwimlaneStalker._createPoolScrollHandler=o;var c=function(e,a){GH.SwimlaneView.withStickyHeaders?e.addClass("ghx-sticky"):e.css({position:"absolute",top:a.scrollTop()+"px",left:0,width:"auto"})},d=_.debounce(c,400),w=function(e,a,l){GH.SwimlaneView.withStickyHeaders||(l=l.width(),a=a.offset(),e.css({position:"fixed",top:a.top,left:a.left,width:l}))},g=_.debounce(w,400,!0)}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/ActiveSprintEmptyView.js' */
define("jira-agile/rapid/ui/work/ActiveSprintEmptyView",["require","jquery","jira-agile/rapid/ui/SPConfigController"],function(r,l,p){"use strict";function c(e){e.preventDefault(),GH.WorkController.trigger(GH.WorkController.EVENT_NAMES.ON_PLAN_MODE)}function u(e){e.preventDefault(),GH.WorkController.trigger(GH.WorkController.EVENT_NAMES.ON_ALL_FILTERS_CLEARING)}function f(i){i.preventDefault();var e=r("jira/featureflags/feature-manager"),t=r("jira-agile/rapid/deferred-resources-loader");e.isFeatureEnabled("project.config.pce.modern.global-issue-create.trigger")?t.handleDeferredResourceImport(t.isResourceAvailable("jira/util/events"),function(){var e=new CustomEvent("openIssueCreateDialog",{detail:{payload:{target:i.target},triggerPointKey:"create-issue-active-sprint-empty-view-trigger"}});document.dispatchEvent(e)}):t.handleDeferredResourceImport(t.isResourceAvailable("quick-edit/init/create"),function(){r("quick-edit/init/create").initIssueDialog({target:i.target})})}var e=AJS.contextPath(),g=e+"/secure/RapidBoard.jspa?rapidView={0}&view=planning.nodetail",v=e+"/secure/RapidBoard.jspa?rapidView={0}",w=e+"/secure/CreateIssue!default.jspa",i="hidden",t="dashboard-mode",a="no-mapped-columns-mode";function n(e,i,t,r,a,n){var o,s,d;a?(s=GH.RapidBoard.getRapidViewConfigurationUrl(t,"filter"),o=GH.tpl.rapid.activesprintemptyview.tooManyIssues):r?(s=GH.RapidBoard.getRapidViewConfigurationUrl(t,"columns"),o=GH.tpl.rapid.activesprintemptyview.noMappedColumns):d=e?(s=AJS.format(g,t),o=GH.tpl.rapid.activesprintemptyview.noActiveSprint,c):i?(s=AJS.format(v,t),o=GH.tpl.rapid.activesprintemptyview.clearAllFilters,u):(s=AJS.format(w,t),o=GH.tpl.rapid.activesprintemptyview.noIssue,f),this.linkAddr=s,this.view=l(o({linkAddr:s,boardSettingClass:"board-settings-link"})),this.secondLineView=this.view.find("p"),this.ctaLink=this.secondLineView.find("a:not(.board-settings-link)").click(d),this.rapidViewId=t,this.secondLineView.find("a.board-settings-link").click(function(e){e.preventDefault(),p.openConfig("columns")}.bind(this)),this.ctaLinkHandler=d,GH.WorkController.on(GH.WorkController.EVENT_NAMES.ON_RELOAD_EMPTY_STATE_VIEW,this._reloadView,this),l(n).append(this.view)}return n.prototype.handleOnDashboardMode=function(){this.view.addClass(t)},n.prototype.handleNoMappedColumnsMode=function(){this.view.addClass(a)},n.prototype._reloadView=function(e){e&&this.secondLineView.removeClass(i)},n});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/ActiveSprintEmptyView.soy' */
// This file was automatically generated from ActiveSprintEmptyView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.activesprintemptyview.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.activesprintemptyview == 'undefined') { GH.tpl.rapid.activesprintemptyview = {}; }


GH.tpl.rapid.activesprintemptyview.noMappedColumns = function(opt_data, opt_ignored) {
  return '' + GH.tpl.rapid.activesprintemptyview.emptyMessage({heading: 'Statuses are not mapped to the board columns', contentHtml: AJS.format('Check the \x3ca href\x3d\x22{0}\x22 class\x3d\x22{1}\x22\x3eboard settings\x3c/a\x3e',opt_data.linkAddr,opt_data.boardSettingClass)});
};
if (goog.DEBUG) {
  GH.tpl.rapid.activesprintemptyview.noMappedColumns.soyTemplateName = 'GH.tpl.rapid.activesprintemptyview.noMappedColumns';
}


GH.tpl.rapid.activesprintemptyview.tooManyIssues = function(opt_data, opt_ignored) {
  return '<div class="ghx-no-active-sprint-message"><div class="ghx-no-active-sprint-content ghx-too-many-issues"><div class="ghx-issue-limit-exceeded-icon"></div><h3>' + soy.$$escapeHtml('Too many issues are trying to load') + '</h3><p class="hidden">' + soy.$$escapeHtml('It will take you eons to scroll through mountains of issues.') + ' <a href="' + soy.$$escapeHtml(opt_data.linkAddr) + '" class="' + soy.$$escapeHtml(opt_data.boardSettingClass) + '">' + soy.$$escapeHtml('Update board filter') + '</a></p></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.activesprintemptyview.tooManyIssues.soyTemplateName = 'GH.tpl.rapid.activesprintemptyview.tooManyIssues';
}


GH.tpl.rapid.activesprintemptyview.noActiveSprint = function(opt_data, opt_ignored) {
  return '' + GH.tpl.rapid.activesprintemptyview.emptyMessage({heading: 'There are no active sprints', contentHtml: AJS.format('Start sprints in the \x3ca href\x3d\x22{0}\x22\x3eBacklog\x3c/a\x3e',opt_data.linkAddr)});
};
if (goog.DEBUG) {
  GH.tpl.rapid.activesprintemptyview.noActiveSprint.soyTemplateName = 'GH.tpl.rapid.activesprintemptyview.noActiveSprint';
}


GH.tpl.rapid.activesprintemptyview.clearAllFilters = function(opt_data, opt_ignored) {
  return '' + GH.tpl.rapid.activesprintemptyview.emptyMessage({heading: 'Issues are currently filtered', contentHtml: AJS.format('\x3ca href\x3d\x22{0}\x22\x3eClear all filters\x3c/a\x3e',opt_data.linkAddr)});
};
if (goog.DEBUG) {
  GH.tpl.rapid.activesprintemptyview.clearAllFilters.soyTemplateName = 'GH.tpl.rapid.activesprintemptyview.clearAllFilters';
}


GH.tpl.rapid.activesprintemptyview.noIssue = function(opt_data, opt_ignored) {
  return '' + GH.tpl.rapid.activesprintemptyview.emptyMessage({heading: 'No issues here', contentHtml: AJS.format('\x3ca href\x3d\x22{0}\x22\x3eCreate an issue\x3c/a\x3e or check the \x3ca class\x3d\x22{1}\x22\x3eboard settings\x3c/a\x3e',opt_data.linkAddr,opt_data.boardSettingClass)});
};
if (goog.DEBUG) {
  GH.tpl.rapid.activesprintemptyview.noIssue.soyTemplateName = 'GH.tpl.rapid.activesprintemptyview.noIssue';
}


GH.tpl.rapid.activesprintemptyview.emptyMessage = function(opt_data, opt_ignored) {
  return '<div class="ghx-no-active-sprint-message"><div class="ghx-no-active-sprint-content"><div class="ghx-no-active-sprint-icon"></div><h3>' + soy.$$escapeHtml(opt_data.heading) + '</h3><p class="hidden">' + soy.$$filterNoAutoescape(opt_data.contentHtml) + '</p></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.activesprintemptyview.emptyMessage.soyTemplateName = 'GH.tpl.rapid.activesprintemptyview.emptyMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/DevInfoIconRender.js' */
define('jira-agile/rapid/work/dev-info-icon-render', [
    'underscore',
    'jira/analytics/web-client',
    'jira-agile/rapid/ui/dev-info-icon/api'],
    function (_, AnalyticsClient, DevInfoIconApi) {
        const logger = require("jira/util/safe-logger");
        const DevInfoType = require('jira-agile/rapid/const/DevInfoType');
        const FeatureManager = require('jira/featureflags/feature-manager');

        const DevInfoIconRender = {};

        DevInfoIconRender.renderDevInfoIconForIssues = (source, placeholderWrapperClassName, placeholderIdPrefix, issues, unmountIssues) => {
            const container = document.getElementsByClassName(placeholderWrapperClassName);
            if (container) {
                DevInfoIconApi
                    .then(api => {
                            _.each(_.keys(issues), (id) => {
                                if (issues[id] && issues[id].devInfoActivityState) {
                                    if (DevInfoType[issues[id].devInfoActivityState] == null) {
                                        AnalyticsClient.sendOperationalEvent({
                                            source: 'gh-dev-info-icon-devInfoActivityState',
                                            actionSubject: 'devInfoActivityState',
                                            action: 'failed',
                                            attributes: {
                                                devInfoActivityState: issues[id].devInfoActivityState
                                            }
                                        });
                                        logger.safeError("rapidboard", "Unexpected map value", issues[id].devInfoActivityState);
                                    }
                                    const placeholder = document.getElementById(placeholderIdPrefix + id);
                                    api.render(placeholder, {
                                        sourceComponent: source,
                                        devInfoType: DevInfoType[issues[id].devInfoActivityState],
                                        issueId: id,
                                        deploymentDetails: {
                                            deploymentState: issues[id].properties?.state,
                                            deploymentEnvironment: issues[id].properties?.environment?.type,
                                        },
                                    });
                                } else {
                                    throw new Error('Invalid dev info icon data');
                                }
                                });
                            _.each(unmountIssues, (issue) => {
                                if (issue && issue.id ) {
                                    const placeholder = document.getElementById(placeholderIdPrefix + issue.id);
                                    api.unmount(placeholder);
                                }
                                });
                        })
                    .catch(function (err) {
                        logger.safeError("rapidboard", "Failed to render the dev info icon", err);

                        AnalyticsClient.sendOperationalEvent({
                            source: 'gh-dev-info-icon',
                            actionSubject: 'loadDevInfoIcon',
                            action: 'failed'
                        });
                    });
            }
        };

        return DevInfoIconRender;
    }
);
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/SwimlaneView.js' */
var _slicedToArray=function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,a){var i=[],l=!0,s=!1,t=void 0;try{for(var n,r=e[Symbol.iterator]();!(l=(n=r.next()).done)&&(i.push(n.value),!a||i.length!==a);l=!0);}catch(e){s=!0,t=e}finally{try{!l&&r.return&&r.return()}finally{if(s)throw t}}return i}(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")};!function(){"use strict";var e,c=require("jira-agile/tooltip"),a=require("jira-agile/browser-metrics/browser-metrics-util"),i=require("jira-agile/rapid/deferred-resources-loader"),l=require("jira-agile/rapid/const/PageMode"),S=require("jira-agile/rapid/trace-utils"),p=require("jira-agile/rapid/trace-utils-helper"),H=require("jira/featureflags/feature-manager"),h=H.isFeatureEnabled("jsw.classic.board.horizontal-scroll");GH.SwimlaneView={},GH.SwimlaneView.visible=!1,GH.SwimlaneView.detailViewColumnId=!1,GH.SwimlaneView.rapidViewData={},GH.SwimlaneView.NARROW_CARD_WIDTH=200,GH.SwimlaneView.XTRA_NARROW_CARD_WIDTH=150,GH.SwimlaneView.init=function(){AJS.$(document).on("click keydown","#ghx-pool .ghx-swimlane .ghx-swimlane-header .js-expander",GH.SwimlaneView.toggleCollapsedHandler),AJS.$(document).on("click","#ghx-swimlane-header-stalker .ghx-swimlane-header .js-expander",GH.SwimlaneView.floatingDockToggleCollapsedHandler),AJS.$(document).on("click",".js-view-action-expand-all",function(e){GH.SwimlaneView.expandAll(e),AJS.trigger("analyticsEvent",{name:"jira-software."+(GH.RapidBoard.State.getMode()||"board")+".boardmenu.click.expand-all-swimlanes"})}),AJS.$(document).on("click",".js-view-action-collapse-all",function(e){GH.SwimlaneView.collapseAll(e),AJS.trigger("analyticsEvent",{name:"jira-software."+(GH.RapidBoard.State.getMode()||"board")+".boardmenu.click.collapse-all-swimlanes"})}),GH.RapidBoard.State.getMode()===l.WORK?i.actionOnDeferParsingComplete(function(){AJS.$(GH).bind(GH.Dialogs.ReleaseVersionDialog.EVENT_VERSION_RELEASED,function(){GH.WorkDataLoader.clearEtag(),GH.WorkController.reload()})}):AJS.$(GH).bind(GH.Dialogs.ReleaseVersionDialog.EVENT_VERSION_RELEASED,function(){GH.WorkDataLoader.clearEtag(),GH.WorkController.reload()}),AJS.$(document).on("click","button.js-sync",function(){GH.WorkController.analytics.trigger("movetodonebutton.clicked");var e=AJS.$(this).closest(".ghx-swimlane-header").attr("data-issue-key"),e=GH.GridDataController.getModel().getIssueDataByKey(e);GH.WorkController.resolveParentTask(e)}),AJS.$(document).delegate(".ghx-show-old-link","click",GH.SwimlaneView.handleShowOldDoneIssuesClick)},GH.SwimlaneView.show=function(){S.startSpan("swimlane-view-show",{start:p.additionalDebugAttributesForWorkController()}),GH.SwimlaneView.visible=!0,GH.SwimlaneView.renderSwimlanes(),S.endSpan("swimlane-view-show",{end:p.additionalDebugAttributesForWorkController()})},GH.SwimlaneView.hide=function(){GH.SwimlaneView.visible=!1},GH.SwimlaneView.setRapidView=function(e){GH.SwimlaneView.rapidViewData=e},GH.SwimlaneView.setRapidViewConfig=function(e){GH.SwimlaneView.rapidViewConfig=e},GH.SwimlaneView.setColumnLastClass=function(){AJS.$(".ghx-swimlane").last().find(".ghx-columns").addClass("ghx-last")},GH.SwimlaneView.withStickyHeaders=((e=document.createElement("a").style).cssText="position:sticky;position:-webkit-sticky;position:-ms-sticky;",-1!==e.position.indexOf("sticky")),GH.SwimlaneView.withStickyHeaders?GH.SwimlaneView.renderSwimlanes=h?function(){S.startSpan("swimlane-view-render-swimlanes",{start:p.additionalDebugAttributesForWorkController(),withStickyHeaders:!0});var s,t,i,n,e,r,o,d,w,u,m,a,l=AJS.$("#ghx-pool-wrapper"),g=AJS.$("#ghx-pool");l.length<1||(g.hide(),s=GH.GridDataController.getModel(),(t=s.hasSwimlanes())?g.addClass("ghx-has-swimlanes"):g.removeClass("ghx-has-swimlanes"),(i=s.isParentChildStrategy())?g.addClass("ghx-parent-child"):g.removeClass("ghx-parent-child"),n=s.getColumns(),a=GH.tpl.rapid.swimlane.renderColumnsHeader({columns:n,statistics:GH.GridDataController.getStatistics(),isHorizontalScrollEnabled:h}),l.find("#ghx-column-header-group").remove(),l.prepend(a),e=AJS.$("#ghx-column-header-group"),r=[],o=GH.SwimlaneView.getCalculatedDisplayIssueKeys(),a=s.getSwimlanes(),d=s.getCells(),w=s.getIssues(),u=s.getGroupData(),m=_.filter(a,function(e){var a=s.getSwimlaneIssueCount(e.id);return i&&!e.defaultSwimlane||0<a}),_.each(m,function(e,a){var i=s.getSwimlaneIssueCount(e.id),l=t&&GH.RapidBoard.State.isSwimlaneCollapsed(e.id);r.push(GH.tpl.rapid.swimlane.renderSwimlane({columns:n,swimlane:e,swimlaneStrategy:s.getSwimlaneStrategy(),swimlaneTitle:GH.SwimlaneView.getSwimlaneTitle(e,i),cells:d,issues:w,index:a,collapsed:l,issueCount:i,groupData:u,displayIssueKeys:o,selectedIssueKeys:GH.SwimlaneView.getSelectedKeysMap(),mainSelectedIssue:GH.WorkSelectionController.getSelectedIssueKey(),statLabel:GH.SwimlaneView.getStatisticLabel(),isRankable:GH.RankingModel.canUserRank(),showEpic:GH.RapidBoard.State.getEpicShownOnRapidBoard(),isLastSwimlane:a===m.length-1,isMigrateEpicFieldToIssueFieldEnabled:H.isFeatureEnabled("safe.migrate-epic-fields-to-issue-fields.read-path.fe"),isUseIssueHierarchyEnabled:H.isFeatureEnabled("safe.return-hierarchy-level-in-cbb"),isHideEpicLabelForIssuesAboveBaseEnabled:H.isFeatureEnabled("safe.hide-epic-label-for-epic-level"),isDevopsFeatureDisabledInFedRamp:GH.RapidViewConfig.isDevopsFeatureDisabledInFedRamp}))}),a=0===m.length,l.toggleClass("ghx-no-issues",a),a&&r.push(GH.tpl.rapid.swimlane.renderEmptySwimlaneColumns({columns:n})),r.push(GH.tpl.rapid.swimlane.renderEndOfPool({rendered:(new Date).getTime()})),g[0].innerHTML=r.join(""),m.length||GH.SwimlaneView.renderActiveSprintEmptyMsg(g),GH.SwimlaneView.setBusted(g),GH.SwimlaneView.setBusted(l),GH.SwimlaneView.registerReleaseActionEvents(),GH.SwimlaneView.setColumnLastClass(),c.tipsify({context:g,selector:".ghx-column-headers .ghx-xtra-narrow-card h2"}),e.addClass("ghx-sticky"),g.show(),S.endSpan("swimlane-view-render-swimlanes",{end:p.additionalDebugAttributesForWorkController(),hasNoIssues:a}))}:function(){S.startSpan("swimlane-view-render-swimlanes",{start:p.additionalDebugAttributesForWorkController(),withStickyHeaders:!0});var s,t,e,n,a,r,i,o,d,w,u,m,l,g=AJS.$("#ghx-pool-column");g.length<1||(g.hide(),s=GH.GridDataController.getModel(),g.css({position:"relative"}),t=s.getColumns(),l=GH.tpl.rapid.swimlane.renderColumnsHeader({columns:t,statistics:GH.GridDataController.getStatistics(),isHorizontalScrollEnabled:h}),e=AJS.$("#ghx-column-header-group"),(n=[]).push(l),a=AJS.$("#ghx-pool"),GH.SwimlaneStalker.createPoolStalker(a,e),GH.SwimlaneStalker.poolStalker(),(r=s.hasSwimlanes())?a.addClass("ghx-has-swimlanes"):a.removeClass("ghx-has-swimlanes"),(i=s.isParentChildStrategy())?a.addClass("ghx-parent-child"):a.removeClass("ghx-parent-child"),o=GH.SwimlaneView.getCalculatedDisplayIssueKeys(),l=s.getSwimlanes(),d=s.getCells(),w=s.getIssues(),u=s.getGroupData(),m=_.filter(l,function(e){var a=s.getSwimlaneIssueCount(e.id);return i&&!e.defaultSwimlane||0<a}),_.each(m,function(e,a){var i=s.getSwimlaneIssueCount(e.id),l=r&&GH.RapidBoard.State.isSwimlaneCollapsed(e.id);n.push(GH.tpl.rapid.swimlane.renderSwimlane({columns:t,swimlane:e,swimlaneStrategy:s.getSwimlaneStrategy(),swimlaneTitle:GH.SwimlaneView.getSwimlaneTitle(e,i),cells:d,issues:w,index:a,collapsed:l,issueCount:i,groupData:u,displayIssueKeys:o,selectedIssueKeys:GH.SwimlaneView.getSelectedKeysMap(),mainSelectedIssue:GH.WorkSelectionController.getSelectedIssueKey(),statLabel:GH.SwimlaneView.getStatisticLabel(),isRankable:GH.RankingModel.canUserRank(),showEpic:GH.RapidBoard.State.getEpicShownOnRapidBoard(),isLastSwimlane:a===m.length-1,isMigrateEpicFieldToIssueFieldEnabled:H.isFeatureEnabled("safe.migrate-epic-fields-to-issue-fields.read-path.fe"),isUseIssueHierarchyEnabled:H.isFeatureEnabled("safe.return-hierarchy-level-in-cbb"),isHideEpicLabelForIssuesAboveBaseEnabled:H.isFeatureEnabled("safe.hide-epic-label-for-epic-level"),isDevopsFeatureDisabledInFedRamp:GH.RapidViewConfig.isDevopsFeatureDisabledInFedRamp}))}),l=0===m.length,a.toggleClass("ghx-no-issues",l),l&&n.push(GH.tpl.rapid.swimlane.renderEmptySwimlaneColumns({columns:t})),n.push(GH.tpl.rapid.swimlane.renderEndOfPool({rendered:(new Date).getTime()})),a[0].innerHTML=n.join(""),m.length||GH.SwimlaneView.renderActiveSprintEmptyMsg(a),GH.SwimlaneView.setBusted(a),GH.SwimlaneView.registerReleaseActionEvents(),c.tipsify({context:a,selector:".ghx-column-headers .ghx-xtra-narrow-card h2"}),e.addClass("ghx-sticky"),a.addClass("ghx-hide-first-swimlane-header"),g.show(),S.endSpan("swimlane-view-render-swimlanes",{end:p.additionalDebugAttributesForWorkController(),hasNoIssues:l}))}:GH.SwimlaneView.renderSwimlanes=function(){S.startSpan("swimlane-view-render-swimlanes");var s,t,i,n,r,o,d,w,u,m,e,a=AJS.$("#ghx-pool");a.length<1||(GH.SwimlaneStalker.poolStalker(),a.hide(),s=GH.GridDataController.getModel(),(t=s.hasSwimlanes())?a.addClass("ghx-has-swimlanes"):a.removeClass("ghx-has-swimlanes"),(i=s.isParentChildStrategy())?a.addClass("ghx-parent-child"):a.removeClass("ghx-parent-child"),n=s.getColumns(),r=[GH.tpl.rapid.swimlane.renderColumnsHeader({columns:n,statistics:GH.GridDataController.getStatistics(),isHorizontalScrollEnabled:h})],o=GH.SwimlaneView.getCalculatedDisplayIssueKeys(),e=s.getSwimlanes(),d=s.getCells(),w=s.getIssues(),u=s.getGroupData(),m=_.filter(e,function(e){var a=s.getSwimlaneIssueCount(e.id);return i&&!e.defaultSwimlane||0<a}),_.each(m,function(e,a){var i=s.getSwimlaneIssueCount(e.id),l=t&&GH.RapidBoard.State.isSwimlaneCollapsed(e.id);r.push(GH.tpl.rapid.swimlane.renderSwimlane({columns:n,swimlane:e,swimlaneStrategy:s.getSwimlaneStrategy(),swimlaneTitle:GH.SwimlaneView.getSwimlaneTitle(e,i),cells:d,issues:w,index:a,collapsed:l,issueCount:i,groupData:u,displayIssueKeys:o,selectedIssueKeys:GH.SwimlaneView.getSelectedKeysMap(),mainSelectedIssue:GH.WorkSelectionController.getSelectedIssueKey(),statLabel:GH.SwimlaneView.getStatisticLabel(),isRankable:GH.RankingModel.canUserRank(),showEpic:GH.RapidBoard.State.getEpicShownOnRapidBoard(),isLastSwimlane:a===m.length-1,isMigrateEpicFieldToIssueFieldEnabled:H.isFeatureEnabled("safe.migrate-epic-fields-to-issue-fields.read-path.fe"),isUseIssueHierarchyEnabled:H.isFeatureEnabled("safe.return-hierarchy-level-in-cbb"),isHideEpicLabelForIssuesAboveBaseEnabled:H.isFeatureEnabled("safe.hide-epic-label-for-epic-level"),isDevopsFeatureDisabledInFedRamp:GH.RapidViewConfig.isDevopsFeatureDisabledInFedRamp}))}),e=0===m.length,a.toggleClass("ghx-no-issues",e),e&&r.push(GH.tpl.rapid.swimlane.renderEmptySwimlaneColumns({columns:n})),r.push(GH.tpl.rapid.swimlane.renderEndOfPool({rendered:(new Date).getTime()})),a[0].innerHTML=r.join(""),m.length||GH.SwimlaneView.renderActiveSprintEmptyMsg(a),GH.SwimlaneView.setBusted(a),GH.SwimlaneView.registerReleaseActionEvents(),a.show(),c.tipsify({context:a,selector:".ghx-column-headers .ghx-xtra-narrow-card h2"}),S.endSpan("swimlane-view-render-swimlanes",{end:p.additionalDebugAttributesForWorkController(),hasNoIssues:e}))},GH.SwimlaneView.renderActiveSprintEmptyMsg=function(e){var a=GH.UserData.hasUser(),i=GH.SwimlaneView.rapidViewData.sprintSupportEnabled&&!GH.WorkControls.hasSprints(),l=GH.WorkControls.getActiveQuickFilterCount(),s=GH.RapidBoard.State.getRapidViewId(),t=GH.GridDataController.isIssueLimitExceeded(),e=new(require("jira-agile/rapid/ui/work/ActiveSprintEmptyView"))(i,l,s,!1,t,e);a&&(i||l?GH.WorkController.trigger(GH.WorkController.EVENT_NAMES.ON_RELOAD_EMPTY_STATE_VIEW,!0):GH.RapidViewConfig.fetchConfiguration(s).done(function(e){GH.WorkController.trigger(GH.WorkController.EVENT_NAMES.ON_RELOAD_EMPTY_STATE_VIEW,e.canEdit)})),GH.WorkController.setActiveSprintEmptyMsg(e)},GH.SwimlaneView.rerenderCellOfIssue=function(e){e=GH.GridDataController.getModel().getIssuePositionByKey(e);e&&GH.SwimlaneView.rerenderCell(e.swimlaneId,e.columnId)},GH.SwimlaneView.rerenderCell=function(e,a){var i=GH.GridDataController.getModel(),i={swimlane:i.getSwimlaneById(e),column:i.getColumnById(a),cells:i.getCells(),issues:i.getIssues(),groupData:i.getGroupData(),displayIssueKeys:GH.SwimlaneView.getCalculatedDisplayIssueKeys(),selectedIssueKeys:GH.SwimlaneView.getSelectedKeysMap(),mainSelectedIssue:GH.WorkSelectionController.getSelectedIssueKey(),statLabel:GH.SwimlaneView.getStatisticLabel(),isRankable:GH.RankingModel.canUserRank(),showEpic:GH.RapidBoard.State.getEpicShownOnRapidBoard(),isMigrateEpicFieldToIssueFieldEnabled:H.isFeatureEnabled("safe.migrate-epic-fields-to-issue-fields.read-path.fe"),isUseIssueHierarchyEnabled:H.isFeatureEnabled("safe.return-hierarchy-level-in-cbb"),isHideEpicLabelForIssuesAboveBaseEnabled:H.isFeatureEnabled("safe.hide-epic-label-for-epic-level")},i=GH.tpl.rapid.swimlane.renderIssueColumn(i),i=AJS.$(i);AJS.$("#ghx-pool").find('.ghx-swimlane[swimlane-id="'+e+'"]').find(".ghx-columns").find('.ghx-column[data-column-id="'+a+'"]').replaceWith(i),GH.WorkDragAndDrop.initDraggables(AJS.$("#ghx-pool"))},GH.SwimlaneView.getSelectedKeysMap=function(){var e=GH.WorkSelectionController.getSelectedIssueKeys(),a={};return _.each(e,function(e){a[e]=!0}),a},GH.SwimlaneView.getIssueCountLabel=function(e,a){return e.parentKey?AJS.format("{0,choice,0#0 sub-tasks|1#1 sub-task|1\u003c{0,number} sub-tasks}",a):AJS.format("{0,choice,0#0 issues|1#1 issue|1\u003c{0,number} issues}",a)},GH.SwimlaneView.getSwimlaneTitle=function(e,a){var i=GH.SwimlaneView.getIssueCountLabel(e,a);return e.parentKey?(a=GH.GridDataController.getModel().getIssueDataByKey(e.parentKey))&&(i+=" - "+a.summary):e.description?i+=" - "+e.description:e.query&&(i+=" - "+e.query),i},GH.SwimlaneView.registerReleaseActionEvents=_.once(function(){GH.UserData.hasUser()&&(GH.SwimlaneView.rapidViewData.sprintSupportEnabled||GH.ReleaseVersionTrigger.on(GH.ReleaseVersionTrigger.RELEASE_VERSION,function(e){e?require("jira-agile/rapid/ui/dialog/release-existing-version-dialog").show(e):GH.SwimlaneView.openReleaseVersionDialog()},GH.SwimlaneView))}),GH.SwimlaneView.openReleaseVersionDialog=function(){var e=GH.RapidBoard.State.getRapidViewId(),a=GH.GridDataController.getModel().getDoneColumn();GH.RapidBoard.State.getMode()!==l.WORK||i.getDeferBatchParsed()?GH.Dialogs.ReleaseVersionDialog.showDialog(e,a.id):i.actionOnDeferParsingComplete(function(){GH.Dialogs.ReleaseVersionDialog.showDialog(e,a.id)})},GH.SwimlaneView.setBusted=function(e){GH.GridDataController.hasBustedColumns()?AJS.$(e).addClass("ghx-busted"):AJS.$(e).removeClass("ghx-busted")},GH.SwimlaneView.getCalculatedDisplayIssueKeys=function(e){function a(e){return e=e.split("-"),{pkey:(e=_slicedToArray(e,2))[0],number:e[1]}}var i=GH.GridDataController.getModel(),l={};return e?l[e]=a(e):Object.keys(i.getIssues()).forEach(function(e){l[e]=a(e)}),l},GH.SwimlaneView.rerenderIssue=function(e){var a=GH.GridDataController.getModel().getIssueDataByKey(e);a&&(GH.SwimlaneView.rerenderIssueCard(a),GH.SwimlaneView.updateSwimlaneHeader(a),GH.SwimlaneView.rerenderFakeParents(a),a=(e=AJS.$('.ghx-issue[data-issue-key="'+a.key+'"]')).parents(".ghx-column"),GH.SwimlaneView.updateIssueLayoutAccording2Size(e,a.width()))},GH.SwimlaneView.rerenderFakeParents=function(e){var a=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();a&&e.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL||!a&&e.parentKey||((a=AJS.$('.js-fake-parent[data-issue-key="'+e.key+'"]')).length<1||((a=a.find(".ghx-parent-stub")).attr("title",e.key+" — "+e.summary),a.find(".ghx-summary").text(e.summary)))},GH.SwimlaneView.rerenderIssueCard=function(e){var a,i=AJS.$('.js-issue[data-issue-key="'+e.key+'"]');0<i.length&&(a=GH.SwimlaneView.getCalculatedDisplayIssueKeys(e.key),a=AJS.$(GH.tpl.rapid.card.card({issue:e,displayIssueKey:a[e.key],selectedIssueKeys:GH.SwimlaneView.getSelectedKeysMap(),statLabel:GH.SwimlaneView.getStatisticLabel(),showEpic:GH.RapidBoard.State.getEpicShownOnRapidBoard(),isMigrateEpicFieldToIssueFieldEnabled:H.isFeatureEnabled("safe.migrate-epic-fields-to-issue-fields.read-path.fe"),isUseIssueHierarchyEnabled:H.isFeatureEnabled("safe.return-hierarchy-level-in-cbb"),isHideEpicLabelForIssuesAboveBaseEnabled:H.isFeatureEnabled("safe.hide-epic-label-for-epic-level")})),i.replaceWith(a).ready(function(){GH.WorkController.afterIssueUpdated(e.id)}),GH.WorkDragAndDrop.registerSingleCardDraggable(a))},GH.SwimlaneView.columnWidthChanged=function(){var e=AJS.$("#ghx-pool").find(":not(.ghx-collapsed-column).ghx-column"),a=e.width();GH.SwimlaneView.updateIssueLayoutAccording2Size(e,a),JIRA.trace("gh.column.width.changed")},GH.SwimlaneView.updateIssueLayoutAccording2Size=function(e,a){var i=a<=GH.SwimlaneView.NARROW_CARD_WIDTH,a=a<=GH.SwimlaneView.XTRA_NARROW_CARD_WIDTH;e.toggleClass("ghx-narrow-card",i),e.toggleClass("ghx-xtra-narrow-card",a)},GH.SwimlaneView.updateSwimlaneHeader=function(l){var s=GH.GridDataController.getModel(),t=s.getParentSwimlaneByIssueKey(l.key);t&&(AJS.$(".ghx-swimlane").each(function(){var e,a,i=AJS.$(this);i.attr("swimlane-id")===t.id&&(a=s.getSwimlaneIssueCount(t.id),e=GH.SwimlaneView.getSwimlaneTitle(t,a),a=GH.tpl.rapid.swimlane.renderSwimlaneHeaderContent({swimlane:t,swimlaneTitle:e,swimlaneStrategy:s.getSwimlaneStrategy(),parent:l,issueCount:a}),(i=i.find(".ghx-swimlane-header")).html(a),l.flagged?i.addClass("ghx-flagged"):i.removeClass("ghx-flagged"))}),GH.SwimlaneStalker.repositionColumnHeaders())},GH.SwimlaneView.handleResizeEvent=function(){GH.SwimlaneView.visible&&GH.SwimlaneView.columnWidthChanged()},GH.SwimlaneView.getFloatingHeader=function(){return AJS.$("#ghx-swimlane-header-stalker .ghx-swimlane-header")},GH.SwimlaneView.floatingDockToggleCollapsedHandler=function(e){var a,i;i=GH.SwimlaneView.withStickyHeaders?(i=(a=GH.SwimlaneView.getFloatingHeader()).data("swimlane-id"),AJS.$("#ghx-pool").find(".ghx-swimlane [data-swimlane-id="+i+"] .js-expander")):(i=(a=GH.SwimlaneView.getFloatingHeader()).data("swimlane-id"),a.parents("#ghx-pool").find(".ghx-swimlane [data-swimlane-id="+i+"] .js-expander")),GH.SwimlaneView.toggleCollapsedHandler.call(i,e)},GH.SwimlaneView.toggleCollapsedHandler=function(e){if("keydown"===e.type){if(13!==e.keyCode&&32!==e.keyCode)return;e.preventDefault()}var a=AJS.$(this),i=a.closest(".ghx-swimlane"),e=!i.hasClass("ghx-closed");a.attr("aria-expanded",!e),GH.SwimlaneView.setCollapsed(i,e)},GH.SwimlaneView.setCollapsed=function(e,a){var i=parseInt(e.attr("swimlane-id"),10),l=GH.SwimlaneView.getFloatingHeader();e.toggleClass("ghx-closed",a),i===l.data("swimlane-id")&&l.parents("#ghx-swimlane-header-stalker").toggleClass("ghx-closed",a),GH.SwimlaneView.setCollapsedState(i,a),GH.Layout.fireDelayedWindowResize()},GH.SwimlaneView.setCollapsedById=function(a,i){AJS.$(".ghx-swimlane").each(function(){var e=AJS.$(this);e.attr("swimlane-id")===a&&e.hasClass("ghx-closed")!==i&&GH.SwimlaneView.setCollapsed(e,i)})},GH.SwimlaneView.collapseAll=function(e){if(a.triggerBefore("before:collapseAllSwimlanes","collapseAllSwimlanes"),e&&AJS.$(e.target).closest("li").hasClass("disabled"))return!1;AJS.$(".ghx-swimlane").addClass("ghx-closed").each(function(){GH.SwimlaneView.setCollapsed(AJS.$(this),!0)}),a.triggerAfter("after:collapseAllSwimlanes","collapseAllSwimlanes")},GH.SwimlaneView.expandAll=function(e){if(a.triggerBefore("before:expandAllSwimlanes","expandAllSwimlanes"),e&&AJS.$(e.target).closest("li").hasClass("disabled"))return!1;AJS.$(".ghx-swimlane").removeClass("ghx-closed").each(function(){GH.SwimlaneView.setCollapsed(AJS.$(this),!1)}),a.triggerAfter("after:expandAllSwimlanes","expandAllSwimlanes")},GH.SwimlaneView.toggleAllSwimlanes=function(){var e=GH.GridDataController.getModel();if(!e.hasSwimlanes())return!1;var e=e.getSwimlanes(),a=!0;_.any(e,function(e){if(!GH.RapidBoard.State.isSwimlaneCollapsed(e.id)&&(!e.issueIds||0<e.issueIds.length))return!(a=!1)}),a?GH.SwimlaneView.expandAll():GH.SwimlaneView.collapseAll()},GH.SwimlaneView.ensureSwimlaneExpandedForIssueKey=function(e){var a=GH.GridDataController.getModel(),e=a.getSwimlaneIdByIssueKey(e);return!(!a.hasSwimlanes()||!GH.RapidBoard.State.isSwimlaneCollapsed(e))&&(GH.SwimlaneView.setCollapsedById(e,!1),!0)},GH.SwimlaneView.setSwimlaneCollapsedStateForIssueKey=function(e,a){var i=GH.GridDataController.getModel(),e=i.getSwimlaneIdByIssueKey(e);(i.hasSwimlanes()&&GH.RapidBoard.State.isSwimlaneCollapsed(e))!==a&&GH.SwimlaneView.setCollapsedState(e,a)},GH.SwimlaneView.setCollapsedState=function(e,a){GH.RapidBoard.State.setSwimlaneCollapsed(e,a)},GH.SwimlaneView.getStatisticLabel=function(){return(GH.SwimlaneView.rapidViewConfig.trackingStatistic&&GH.SwimlaneView.rapidViewConfig.trackingStatistic.isEnabled?GH.SwimlaneView.rapidViewConfig.trackingStatistic:GH.SwimlaneView.rapidViewConfig.estimationStatistic).name},GH.SwimlaneView.handleShowOldDoneIssuesClick=function(){AJS.trigger("analytics",{name:"gh.workmode.fast.kanban.old.issue.link.click",data:{boardId:GH.RapidBoard.State.data.rapidViewId}})}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/SwimlaneView.soy' */
// This file was automatically generated from SwimlaneView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.swimlane.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.swimlane == 'undefined') { GH.tpl.rapid.swimlane = {}; }


GH.tpl.rapid.swimlane.renderSwimlane = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-swimlane' + ((opt_data.index == 0) ? ' ghx-first' : '') + ((opt_data.collapsed) ? ' ghx-closed' : '') + '" swimlane-id="' + soy.$$escapeHtml(opt_data.swimlane.id) + '" >';
  if (! (opt_data.index == 0 && opt_data.swimlane.defaultSwimlane)) {
    var parent__soy15 = opt_data.issues[opt_data.swimlane.parentKey];
    var lastColumn__soy16 = opt_data.columns[opt_data.columns.length - 1];
    var parentOutOfSync__soy17 = opt_data.swimlane.parentOutOfSync;
    output += '<div class="ghx-swimlane-header' + ((opt_data.swimlane.defaultSwimlane) ? ' ghx-swimlane-default' : '') + ((parent__soy15 && parent__soy15.done) ? ' ghx-done' : '') + ((parent__soy15 && parent__soy15.flagged) ? ' ghx-flagged' : '') + ((parent__soy15 && parentOutOfSync__soy17) ? ' ghx-out-of-sync' : '') + ((opt_data.selectedIssueKeys[opt_data.swimlane.parentKey]) ? ' ghx-selected' : '') + '"' + ((parent__soy15) ? 'data-issue-key="' + soy.$$filterNoAutoescape(parent__soy15.key) + '" data-issue-id="' + soy.$$filterNoAutoescape(parent__soy15.id) + '" aria-label="' + soy.$$escapeHtml(AJS.format('Swimlane for {0}',opt_data.swimlaneStrategy + ': ' + parent__soy15.key + ' ' + parent__soy15.summary)) + '" role="group"' : 'aria-label="' + soy.$$escapeHtml(AJS.format('Swimlane for {0}',opt_data.swimlaneStrategy + ': ' + opt_data.swimlane.name)) + '"') + ((opt_data.swimlaneStrategy == 'story') ? 'tabindex="0"' : '') + ' data-swimlane-id="' + soy.$$escapeHtml(opt_data.swimlane.id) + '" >' + GH.tpl.rapid.swimlane.renderSwimlaneHeaderContent({swimlane: opt_data.swimlane, swimlaneTitle: opt_data.swimlaneTitle, swimlaneStrategy: opt_data.swimlaneStrategy, parent: parent__soy15, issueCount: opt_data.issueCount}) + ((parent__soy15 && parentOutOfSync__soy17) ? ' <div class="ghx-bandaid"><button class="aui-button js-sync">' + soy.$$escapeHtml(AJS.format('Move to {0}',lastColumn__soy16.name)) + '</button></div>' : '') + '</div>';
  }
  output += GH.tpl.rapid.swimlane.renderIssueColumns(opt_data) + '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderSwimlane.soyTemplateName = 'GH.tpl.rapid.swimlane.renderSwimlane';
}


GH.tpl.rapid.swimlane.renderSwimlaneHeaderContent = function(opt_data, opt_ignored) {
  return '<div role="button" tabindex="0" class="ghx-expander js-expander" aria-expanded="true" title="' + soy.$$escapeHtml('Toggle swimlane visibility') + '"><span class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-expanded"></span></div><div class="ghx-heading" data-tooltip="' + soy.$$escapeHtml(opt_data.swimlaneTitle) + '">' + ((opt_data.swimlane.avatarUrl) ? '<span class="ghx-swimlane-avatar" title="' + soy.$$escapeHtml(opt_data.swimlane.name) + '"><img src="' + soy.$$escapeHtml(opt_data.swimlane.avatarUrl) + '"></span>' : '') + ((opt_data.parent) ? '<a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.parent.key) + '" role="button" class="ghx-parent-key js-detailview">' + soy.$$escapeHtml(opt_data.swimlane.name) + '</a>' : (opt_data.swimlaneStrategy == 'project') ? '<a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.swimlane.name) + '" role="button">' + soy.$$escapeHtml(opt_data.swimlane.name) + '</a>' : '<span role="button">' + soy.$$escapeHtml(opt_data.swimlane.name) + '</span>') + '<span class="ghx-info">' + ((opt_data.parent) ? GH.tpl.status.renderText({status: opt_data.parent.status}) : '') + '<span class="ghx-description">' + ((opt_data.swimlane.parentKey) ? soy.$$escapeHtml(AJS.format('{0,choice,0#0 sub-tasks|1#1 sub-task|1\x3c{0,number} sub-tasks}',opt_data.issueCount)) : soy.$$escapeHtml(AJS.format('{0,choice,0#0 issues|1#1 issue|1\x3c{0,number} issues}',opt_data.issueCount))) + '</span></span>' + ((opt_data.parent) ? '<span class="ghx-summary"><span class="aui-lozenge aui-lozenge-current">' + soy.$$escapeHtml('Flagged') + '</span>' + soy.$$escapeHtml(opt_data.parent.summary) + '</span>' : (opt_data.swimlaneStrategy == 'project') ? '<span>' + soy.$$escapeHtml(opt_data.swimlane.description) + '</span>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderSwimlaneHeaderContent.soyTemplateName = 'GH.tpl.rapid.swimlane.renderSwimlaneHeaderContent';
}


GH.tpl.rapid.swimlane.renderStalkerSwimlane = function(opt_data, opt_ignored) {
  return '<div id="ghx-swimname"><b class="ghx-flip"></b><b class="ghx-flop"></b><h2><span class="ghx-swimlane-icon"></span><span class="ghx-name"></span><span class="ghx-qty"></span><span class="ghx-summary"></span></h2></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderStalkerSwimlane.soyTemplateName = 'GH.tpl.rapid.swimlane.renderStalkerSwimlane';
}


GH.tpl.rapid.swimlane.renderEmptySwimlaneColumns = function(opt_data, opt_ignored) {
  var output = '<ul class="ghx-columns ghx-sad-columns">';
  var columnList148 = opt_data.columns;
  var columnListLen148 = columnList148.length;
  for (var columnIndex148 = 0; columnIndex148 < columnListLen148; columnIndex148++) {
    var columnData148 = columnList148[columnIndex148];
    output += '<li class="ghx-column' + ((columnData148.minBusted) ? ' ghx-busted ghx-busted-min' : '') + ((columnData148.maxBusted) ? ' ghx-busted ghx-busted-max' : '') + '" data-id="' + soy.$$escapeHtml(columnData148.id) + '" ></li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderEmptySwimlaneColumns.soyTemplateName = 'GH.tpl.rapid.swimlane.renderEmptySwimlaneColumns';
}


GH.tpl.rapid.swimlane.renderColumnsHeader = function(opt_data, opt_ignored) {
  var output = '<div id="ghx-column-header-group" class="ghx-column-header-group' + ((opt_data.statistics.fieldConfigured) ? ' ghx-has-stats' : '') + ' ghx-fixed"><ul id="ghx-column-headers" class="ghx-column-headers">';
  var columnList167 = opt_data.columns;
  var columnListLen167 = columnList167.length;
  for (var columnIndex167 = 0; columnIndex167 < columnListLen167; columnIndex167++) {
    var columnData167 = columnList167[columnIndex167];
    output += '<li class="ghx-column' + ((columnData167.minBusted) ? ' ghx-busted ghx-busted-min' : '') + ((columnData167.maxBusted) ? ' ghx-busted ghx-busted-max' : '') + '" data-id="' + soy.$$escapeHtml(columnData167.id) + '" title="' + soy.$$escapeHtml(columnData167.name) + '" ><div class="ghx-column-header-flex"><div class="ghx-column-header-flex-1"><h2 data-tooltip="' + soy.$$escapeHtml(columnData167.name) + '">' + soy.$$escapeHtml(columnData167.name) + '</h2>' + ((opt_data.statistics.fieldConfigured) ? GH.tpl.rapid.swimlane.renderColumnCount({column: columnData167}) : '') + '</div>' + ((opt_data.statistics.fieldConfigured) ? '<div class="ghx-limits">' + GH.tpl.rapid.swimlane.renderColumnConstraints({column: columnData167}) + '</div>' : '') + '</div></li>';
  }
  output += '</ul>' + ((! opt_data.isHorizontalScrollEnabled) ? '<div id="ghx-swimlane-header-stalker"></div>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderColumnsHeader.soyTemplateName = 'GH.tpl.rapid.swimlane.renderColumnsHeader';
}


GH.tpl.rapid.swimlane.renderColumnCount = function(opt_data, opt_ignored) {
  return '<div class="ghx-qty">' + ((opt_data.column.stats.hidden > 0) ? soy.$$escapeHtml(AJS.format('{0} of {1}',opt_data.column.stats.visible,opt_data.column.stats.visible + opt_data.column.stats.hidden)) : soy.$$escapeHtml(opt_data.column.stats.visible)) + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderColumnCount.soyTemplateName = 'GH.tpl.rapid.swimlane.renderColumnCount';
}


GH.tpl.rapid.swimlane.renderColumnConstraints = function(opt_data, opt_ignored) {
  return '' + ((opt_data.column.min || opt_data.column.min == 0) ? '<span class="ghx-constraint ghx-busted ghx-busted-min" title="' + soy.$$escapeHtml('Minimum Constraint') + '">' + soy.$$escapeHtml('Min') + ' ' + soy.$$escapeHtml(opt_data.column.min) + '</span>' : '') + ((opt_data.column.max || opt_data.column.max == 0) ? '<span class="ghx-constraint ghx-busted ghx-busted-max" title="' + soy.$$escapeHtml('Maximum Constraint') + '">' + soy.$$escapeHtml('Max') + ' ' + soy.$$escapeHtml(opt_data.column.max) + '</span>' : '');
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderColumnConstraints.soyTemplateName = 'GH.tpl.rapid.swimlane.renderColumnConstraints';
}


GH.tpl.rapid.swimlane.renderIssueColumns = function(opt_data, opt_ignored) {
  var output = '<ul class="ghx-columns">';
  var columnList231 = opt_data.columns;
  var columnListLen231 = columnList231.length;
  for (var columnIndex231 = 0; columnIndex231 < columnListLen231; columnIndex231++) {
    var columnData231 = columnList231[columnIndex231];
    output += GH.tpl.rapid.swimlane.renderIssueColumn({swimlane: opt_data.swimlane, column: columnData231, cells: opt_data.cells, issues: opt_data.issues, groupData: opt_data.groupData, displayIssueKeys: opt_data.displayIssueKeys, selectedIssueKeys: opt_data.selectedIssueKeys, mainSelectedIssue: opt_data.mainSelectedIssue, statLabel: opt_data.statLabel, isRankable: opt_data.isRankable, showEpic: opt_data.showEpic, isLastSwimlane: opt_data.isLastSwimlane, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled, isUseIssueHierarchyEnabled: opt_data.isUseIssueHierarchyEnabled, isHideEpicLabelForIssuesAboveBaseEnabled: opt_data.isHideEpicLabelForIssuesAboveBaseEnabled, isDevopsFeatureDisabledInFedRamp: opt_data.isDevopsFeatureDisabledInFedRamp});
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderIssueColumns.soyTemplateName = 'GH.tpl.rapid.swimlane.renderIssueColumns';
}


GH.tpl.rapid.swimlane.renderIssueColumn = function(opt_data, opt_ignored) {
  return '<li class="ghx-column' + ((opt_data.column.minBusted) ? ' ghx-busted ghx-busted-min' : '') + ((opt_data.column.maxBusted) ? ' ghx-busted ghx-busted-max' : '') + '" data-column-id="' + soy.$$escapeHtml(opt_data.column.id) + '" ><div class="ghx-wrap-issue">' + GH.tpl.rapid.swimlane.renderIssues({issueKeys: opt_data.cells[opt_data.swimlane.id][opt_data.column.id], issues: opt_data.issues, groupData: opt_data.groupData, displayIssueKeys: opt_data.displayIssueKeys, selectedIssueKeys: opt_data.selectedIssueKeys, mainSelectedIssue: opt_data.mainSelectedIssue, statLabel: opt_data.statLabel, isRankable: opt_data.isRankable, showEpic: opt_data.showEpic, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled, isUseIssueHierarchyEnabled: opt_data.isUseIssueHierarchyEnabled, isHideEpicLabelForIssuesAboveBaseEnabled: opt_data.isHideEpicLabelForIssuesAboveBaseEnabled, isDevopsFeatureDisabledInFedRamp: opt_data.isDevopsFeatureDisabledInFedRamp}) + ((opt_data.isLastSwimlane && ((opt_data.column == null) ? null : opt_data.column.limitJql)) ? GH.tpl.rapid.swimlane.renderShowOldIssuesPanel({searchUrl: opt_data.column.limitJql}) : '') + '</div></li>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderIssueColumn.soyTemplateName = 'GH.tpl.rapid.swimlane.renderIssueColumn';
}


GH.tpl.rapid.swimlane.renderShowOldIssuesPanel = function(opt_data, opt_ignored) {
  return '<div class="ghx-show-old"><p class="ghx-show-old-description">' + soy.$$escapeHtml('We\x27re only showing recently modified issues.') + '</p><a class="ghx-show-old-link" href="' + soy.$$escapeHtml(opt_data.searchUrl) + '"><span class="aui-icon aui-icon-small aui-iconfont-search">Search</span>' + soy.$$escapeHtml('Looking for an older issue?') + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderShowOldIssuesPanel.soyTemplateName = 'GH.tpl.rapid.swimlane.renderShowOldIssuesPanel';
}


GH.tpl.rapid.swimlane.renderIssues = function(opt_data, opt_ignored) {
  var output = '';
  var issueKeyList290 = opt_data.issueKeys;
  var issueKeyListLen290 = issueKeyList290.length;
  for (var issueKeyIndex290 = 0; issueKeyIndex290 < issueKeyListLen290; issueKeyIndex290++) {
    var issueKeyData290 = issueKeyList290[issueKeyIndex290];
    var issue__soy291 = opt_data.issues[issueKeyData290];
    if (opt_data.groupData.beginGroups[issue__soy291.id]) {
      if (! opt_data.isUseIssueHierarchyEnabled && ! issue__soy291.parentId || opt_data.isUseIssueHierarchyEnabled && issue__soy291.typeHierarchyLevel != -1) {
        output += '<div class="ghx-parent-group js-parent-drag" role="listitem" tabindex="0" aria-label="' + soy.$$escapeHtml(issue__soy291.key) + ' ' + soy.$$escapeHtml(issue__soy291.summary) + '" data-issue-id="' + soy.$$filterNoAutoescape(issue__soy291.id) + '" data-issue-key="' + soy.$$filterNoAutoescape(issue__soy291.key) + '">';
      } else {
        var parentIssue__soy308 = opt_data.issues[issue__soy291.parentKey];
        output += ((opt_data.groupData.fakeParents[issue__soy291.id] && parentIssue__soy308) ? '<div class="ghx-parent-group js-fake-parent js-parent-drag" data-issue-key="' + soy.$$filterNoAutoescape(parentIssue__soy308.key) + '">' + ((opt_data.groupData.drawFakeParents) ? '<div class="ghx-parent-stub" title="' + soy.$$filterNoAutoescape(parentIssue__soy308.key) + ' &mdash; ' + soy.$$escapeHtml(parentIssue__soy308.summary) + '"><div class="ghx-group"><span class="ghx-key">' + soy.$$filterNoAutoescape(parentIssue__soy308.key) + '</span><span class="ghx-summary">' + soy.$$escapeHtml(parentIssue__soy308.summary) + '</span></div></div>' : '') : '') + '<div class="ghx-subtask-group">';
      }
    }
    output += GH.tpl.rapid.card.card({issue: issue__soy291, displayIssueKey: opt_data.displayIssueKeys[issue__soy291.key], selectedIssueKeys: opt_data.selectedIssueKeys, mainSelectedIssue: opt_data.mainSelectedIssue, statLabel: opt_data.statLabel, isRankable: opt_data.isRankable, showEpic: opt_data.showEpic, isMigrateEpicFieldToIssueFieldEnabled: opt_data.isMigrateEpicFieldToIssueFieldEnabled, isUseIssueHierarchyEnabled: opt_data.isUseIssueHierarchyEnabled, isHideEpicLabelForIssuesAboveBaseEnabled: opt_data.isHideEpicLabelForIssuesAboveBaseEnabled, isDevopsFeatureDisabledInFedRamp: opt_data.isDevopsFeatureDisabledInFedRamp});
    if (opt_data.groupData.endGroups[issue__soy291.id]) {
      output += '</div>';
      var parentIssue__soy344 = opt_data.issues[issue__soy291.parentKey];
      output += (! opt_data.groupData.fakeParents[issue__soy291.id] || parentIssue__soy344) ? '</div>' : '';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderIssues.soyTemplateName = 'GH.tpl.rapid.swimlane.renderIssues';
}


GH.tpl.rapid.swimlane.renderEndOfPool = function(opt_data, opt_ignored) {
  return '<span id="js-pool-end" data-rendered="' + soy.$$escapeHtml(opt_data.rendered) + '"></span>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.swimlane.renderEndOfPool.soyTemplateName = 'GH.tpl.rapid.swimlane.renderEndOfPool';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/SprintTrigger.js' */
define("jira-agile/rapid/ui/work/sprint-meta-trigger",["jquery","jira-agile/rapid/work/work-controls"],function(t,n){var o={},r=require("jira-agile/rapid/deferred-resources-loader"),a=require("jira-agile/rapid/const/PageMode"),p=void 0;return o.remove=function(){t(".ghx-sprint-meta").remove()},o.mapState=function(t){r.handleDeferredResourceImport(GH.RapidBoard.State.getMode()===a.WORK,function(){p=require("jira-agile/rapid/ui/plan/backlog-model")});var e=1===t.sprints.length?t.sprints[0].id:t.getActiveSprintFilters()[0],i=t.getSprintById(e);return{activeSprintId:e,activeSprint:i,isDisabled:!t.hasSprints()||!e||!i.canUpdateSprint,tooltipText:t.getTooltipCompleteSprintBtn(i,p&&p.complexQuery())}},o.render=function(){var t=n.sprintfilters,e=o.mapState(t),i=e.activeSprintId,r=e.activeSprint,t=e.isDisabled,e=e.tooltipText,e=AJS.$(GH.tpl.component.sprintfilters.renderSprintMeta({sprint:r,isDisabled:t,tooltipText:e}));return e.find(".time").tooltip({html:!0,title:function(){return GH.tpl.component.sprintfilters.renderSprintDatesTooltip({sprint:r})}}),e.find(".complete-sprint-container").tooltip({html:!0,title:"data-tooltip"}),e.find(".js-complete-sprint").on("click",function(t){t.preventDefault(),GH.Dialogs.CompleteSprintDialog.showDialog(GH.RapidBoard.State.getRapidViewId(),i)}),e},o});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/ModeToolTriggers.js' */
define("jira-agile/rapid/ui/work/mode-tools-controller",["require","jquery","jira-agile/rapid/ui/work/release-version-trigger","jira-agile/rapid/ui/work/sprint-meta-trigger","jira/featureflags/feature-manager","jira-agile/rapid/work/work-controls","jira-agile/rapid/deferred-resources-loader"],function(d,r,a,t,e,i,u){var s,l,p,c,f="sprint",v="kanban";return{render:function(e){var o=e.workMode,e=e.hasUser;if(t.remove(),a.remove(),p&&u.clearDeferredBatchCompleteListener(p),c&&u.clearDeferredBatchCompleteListener(c),s&&s.remove(),e){var n=r("#ghx-header-dynamic-append-zone");switch(p=function(){var e,r,a,t,i;e=n,r=o,i=GH.RapidBoard.State.getRapidViewId(),e.find(".favourite-btn").length&&i===l||(a=d("jira/favourite-button/constants"),t=d("jira/favourite-button/favourite-button"),(s=i!==l?new t({entityId:i,entityType:a.FAVOURITE_ITEM_TYPES.BOARDS}):s).setAnalyticsEventProps({attributes:{boardType:r}}),e.prepend(s.render()),l=i)},c=function(){n.prepend(t.render())},o){case v:n.prepend(a.render());break;case f:u.handleDeferredResourceImport(!0,c)}u.handleDeferredResourceImport(!u.isResourceAvailable("jira/favourite-button/constants")&&!u.isResourceAvailable("jira/favourite-button/favourite-button"),p)}},SPRINT:f,KANBAN:v}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/CompleteSprintDialog.js' */
define("jira-agile/rapid/ui/dialog/complete-sprint-dialog",["require"],function(n){"use strict";var s=n("jquery"),a=n("jira-agile/rapid/const/PageMode"),o=n("jira-agile/rapid/ajax"),l=n("jira-agile/rapid/deferred-resources-loader"),r=GH.Dialog,p=GH.Notification,d=GH.tpl,u={};function c(e){return 0<e.incompleteIssues+e.partiallyCompleteIssues&&(e.hasDestinationSprints||e.canCreateSprint)}return u.sprintSelect=null,u.EVENT_SPRINT_COMPLETED="sprintCompleted",u.BACKLOG_ID=-1,u.NEW_SPRINT_ID=-2,u.NEW_SPRINT_MESSAGE_TIMEOUT=1e4,u.analyticsMetaData=function(e){AJS.trigger("analyticsEvent",{name:"gh.sprint.complete",data:e}),GH&&GH.ECX&&GH.ECX.fireReadEvent&&GH.ECX.fireReadEvent("boardScreen","completeSprintDialog",e)},u.showDialog=function(e,t){GH.Dialog.dim(),o.get({url:"/sprint/"+t+"/complete",data:{rapidViewId:e,sprintId:t}},"completesprintdialog").done(u.renderDialog).fail(GH.Dialog.undim)},u.renderDialog=function(e){var t=void 0!==e.finishedParentsWithUnfinishedSubtasks&&0<e.finishedParentsWithUnfinishedSubtasks.length,i=r.create({width:630,height:300,id:"ghx-dialog-complete-sprint",analyticsPageName:"completeSprintModal"});i.addHeader(AJS.format("Complete sprint: {0}",e.sprint.name)),i.addPanel("","panel"),t?i.getCurrentPanel().html(d.dialogs.completesprint.renderCanNotCompleteSprintDialog({issues:e.finishedParentsWithUnfinishedSubtasks})):(new Calendar,i.getCurrentPanel().html(d.dialogs.completesprint.renderCompleteSprintDialog({model:{completeIssues:(t=e).completeIssues,totalIncompleteIssues:t.incompleteIssues+t.partiallyCompleteIssues,unfinishedParentsWithFinishedSubtasks:t.unfinishedParentsWithFinishedSubtasks?t.unfinishedParentsWithFinishedSubtasks.length:0,hasDestinationSprints:t.hasDestinationSprints,incompleteIssueDestinations:t.incompleteIssueDestinations,shouldShowSprintSelector:c(t),defaultIncompleteIssueDestination:t.defaultIncompleteIssueDestination}})),i.addButton("Complete",function(){i.disableControls(),i.showSpinner(),u.complete(i,e)},"aui-button ghx-complete-button"),u.$completeButton=s("#ghx-dialog-complete-sprint").find(".ghx-complete-button"),c(e)&&function(e){var t=n("jira-agile/rapid/ui/component/sprint-select");e.defaultIncompleteIssueDestination&&(e.incompleteIssuesDestination=e.defaultIncompleteIssueDestination.id);u.sprintSelect=new t,u.sprintSelect.initDropdown(),u.sprintSelect.on("change",function(e,t){t?(e.incompleteIssuesDestination=t,u.$completeButton.enable(!0)):u.$completeButton.enable(!1)}.bind(null,e))}(e)),r.addCancelButton(i),s(".aui-dialog").addClass("ghx-dialog"),i.show(),GH.Dialog.Spinner.hide(),s("#ghx-release-name").focus()},u.complete=function(t,i){o.put({url:"/sprint/"+i.sprint.id+"/complete",data:{rapidViewId:i.rapidViewId,sprintId:i.sprint.id,incompleteIssuesDestination:i.incompleteIssuesDestination},errorContextMap:{name:"#ghx-release-name",releaseDate:"#ghx-release-date"}}).done(function(e){GH.RapidBoard.State.setRapidViewIdForEventuallyConsistentBoard(null),u.analyticsMetaData({sprintId:i.sprint.id,completeIssueCount:i.completeIssues,incompleteIssueCount:i.incompleteIssues,partiallyCompleteIssueCount:i.partiallyCompleteIssues}),t.dispose(),GH.Dialog.triggerHideEvent(),function(e,t){var i=t.success,t=Boolean(e.incompleteIssuesDestination===String(u.NEW_SPRINT_ID)),e={};t&&(e.timeout=u.NEW_SPRINT_MESSAGE_TIMEOUT);p.showSuccess(d.dialogs.completesprint.renderSuccessMessage(i),e),t&&AJS.$("#gh-complete-new-sprint-link").click(function(){GH.RapidBoard.ViewController.setMode(a.PLAN),p.clear()})}(i,e),GH.RapidBoard.State.getMode()===a.WORK?l.triggerOnDemandResourceLoad(["wrc!gh-rapid-lwf-board-deferred"],"completeSprint",function(){s(GH).trigger(u.EVENT_SPRINT_COMPLETED,i.sprint.id)}):s(GH).trigger(u.EVENT_SPRINT_COMPLETED,i.sprint.id)}).fail(function(){t.hideSpinner(),t.enableControls()})},u}),AJS.namespace("GH.Dialogs.CompleteSprintDialog",null,require("jira-agile/rapid/ui/dialog/complete-sprint-dialog"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/CompleteSprintDialog.soy' */
// This file was automatically generated from CompleteSprintDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.dialogs.completesprint.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.dialogs == 'undefined') { GH.tpl.dialogs = {}; }
if (typeof GH.tpl.dialogs.completesprint == 'undefined') { GH.tpl.dialogs.completesprint = {}; }


GH.tpl.dialogs.completesprint.renderCompleteSprintDialog = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$filterNoAutoescape(AJS.format('{1,choice,0#{0} issues were |1#{0} issue was|2#{0} issues were} done','<strong>' + opt_data.model.completeIssues + '</strong>',opt_data.model.completeIssues)) + ((opt_data.model.totalIncompleteIssues > 0 && opt_data.model.unfinishedParentsWithFinishedSubtasks > 0) ? '<br/>' + ((opt_data.model.totalIncompleteIssues == opt_data.model.unfinishedParentsWithFinishedSubtasks) ? soy.$$filterNoAutoescape(AJS.format('{0} {1,choice,1#issue was|2#issues were} incomplete (and had all of {1,choice,1#its|2#their} sub-tasks complete)','<strong>' + opt_data.model.totalIncompleteIssues + '</strong>',opt_data.model.totalIncompleteIssues)) : soy.$$filterNoAutoescape(AJS.format('{0} {1,choice,1#issue was|2#issues were} incomplete ({2} of which had all of {3,choice,1#its|2#their} sub-tasks complete)','<strong>' + opt_data.model.totalIncompleteIssues + '</strong>',opt_data.model.totalIncompleteIssues,'<strong>' + opt_data.model.unfinishedParentsWithFinishedSubtasks + '</strong>',opt_data.model.unfinishedParentsWithFinishedSubtasks))) : (opt_data.model.totalIncompleteIssues > 0) ? '<br/>' + soy.$$filterNoAutoescape(AJS.format('{0} {1,choice,0#issues were|1#issue was|2#issues were} incomplete','<strong>' + opt_data.model.totalIncompleteIssues + '</strong>',opt_data.model.totalIncompleteIssues)) : '') + '</p><p>' + ((opt_data.model.shouldShowSprintSelector) ? soy.$$escapeHtml('Select where all the incomplete issues should be moved:') : soy.$$escapeHtml('Incomplete issues will be moved to the backlog')) + '</p>' + ((opt_data.model.shouldShowSprintSelector) ? GH.tpl.component.sprintselect.renderSingleSelect({items: opt_data.model.incompleteIssueDestinations, selectedItem: opt_data.model.defaultIncompleteIssueDestination}) : '') + '<p class="ghx-description">' + soy.$$escapeHtml('Sub-tasks are not included in the total(s) above, and are always included in the same sprint as their parent issue.') + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.completesprint.renderCompleteSprintDialog.soyTemplateName = 'GH.tpl.dialogs.completesprint.renderCompleteSprintDialog';
}


GH.tpl.dialogs.completesprint.renderCanNotCompleteSprintDialog = function(opt_data, opt_ignored) {
  var output = '<div><p>' + soy.$$escapeHtml('Sprint cannot be completed as there are incomplete subtasks on the following issues:') + '</p><ul>';
  var issueKeyList39 = opt_data.issues;
  var issueKeyListLen39 = issueKeyList39.length;
  for (var issueKeyIndex39 = 0; issueKeyIndex39 < issueKeyListLen39; issueKeyIndex39++) {
    var issueKeyData39 = issueKeyList39[issueKeyIndex39];
    output += '<li>' + soy.$$escapeHtml(issueKeyData39) + '</li>';
  }
  output += '<ul></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.dialogs.completesprint.renderCanNotCompleteSprintDialog.soyTemplateName = 'GH.tpl.dialogs.completesprint.renderCanNotCompleteSprintDialog';
}


GH.tpl.dialogs.completesprint.renderSuccessMessage = function(opt_data, opt_ignored) {
  return '<span>' + ((opt_data.newSprintName) ? soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml(AJS.format('\x27\x27{0}\x27\x27 successfully completed and new \x3ca id\x3d\x22gh-complete-new-sprint-link\x22\x3e\x27\x27{1}\x27\x27\x3c/a\x3e created in the backlog',typeof (opt_data.completedSprintName) === 'number' ? opt_data.completedSprintName : soy.$$escapeHtml(opt_data.completedSprintName),typeof (opt_data.newSprintName) === 'number' ? opt_data.newSprintName : soy.$$escapeHtml(opt_data.newSprintName)))) : soy.$$escapeHtml('Sprint successfully completed')) + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.completesprint.renderSuccessMessage.soyTemplateName = 'GH.tpl.dialogs.completesprint.renderSuccessMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/ReopenSprintDialog.js' */
GH.Dialogs.ReopenSprintDialog={},GH.Dialogs.ReopenSprintDialog.EVENT_SPRINT_REOPENED="sprintReopened",GH.Dialogs.ReopenSprintDialog.analyticsMetaData=function(e){AJS.trigger("analyticsEvent",{name:"gh.sprint.reopen",data:e})},GH.Dialogs.ReopenSprintDialog.showDialog=function(e,i){GH.Dialog.dim(),GH.Ajax.get({url:"/sprint/"+i+"/reopen",data:{rapidViewId:e,sprintId:i}},"reopensprintdialog").done(GH.Dialogs.ReopenSprintDialog.renderDialog).fail(GH.Dialog.undim)},GH.Dialogs.ReopenSprintDialog.renderDialog=function(e){var i=GH.Dialog.create({width:630,height:270,id:"ghx-dialog-reopen-sprint",analyticsPageName:"reopenSprintModal"});i.addHeader("Reopen sprint"),i.addPanel("","panel"),0!==e.issuesMovedBack?(new Calendar,i.getCurrentPanel().html(GH.tpl.dialogs.reopensprint.renderReopenSprintDialog({model:e})),i.addButton("Reopen",function(){i.disableControls(),i.showSpinner(),GH.Dialogs.ReopenSprintDialog.complete(i,e)},"aui-button")):i.getCurrentPanel().html(GH.tpl.dialogs.reopensprint.renderCanNotReopenSprintDialog({model:e})),GH.Dialog.addCancelButton(i),AJS.$(".aui-dialog").addClass("ghx-dialog"),i.show(),GH.Dialog.Spinner.hide(),AJS.$("#ghx-release-name").focus()},GH.Dialogs.ReopenSprintDialog.complete=function(i,n){GH.Ajax.put({url:"/sprint/"+n.sprint.id+"/reopen",data:{rapidViewId:n.rapidViewId,sprintId:n.sprint.id},errorContextMap:{name:"#ghx-release-name",releaseDate:"#ghx-release-date"}}).done(function(e){GH.Dialogs.ReopenSprintDialog.analyticsMetaData({sprintId:n.sprint.id,issuesMovedBack:n.issuesMovedBack,completedIssuesNotMovedBack:n.completedIssuesNotMovedBack,incompleteIssuesNotMovedBack:n.incompleteIssuesNotMovedBack}),i.dispose(),GH.Dialog.triggerHideEvent(),GH.Notification.showSuccess(e.success.message),AJS.$(GH).trigger(GH.Dialogs.ReopenSprintDialog.EVENT_SPRINT_REOPENED,n.sprint.id)}).fail(function(){i.hideSpinner(),i.enableControls()})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/ReopenSprintDialog.soy' */
// This file was automatically generated from ReopenSprintDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.dialogs.reopensprint.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.dialogs == 'undefined') { GH.tpl.dialogs = {}; }
if (typeof GH.tpl.dialogs.reopensprint == 'undefined') { GH.tpl.dialogs.reopensprint = {}; }


GH.tpl.dialogs.reopensprint.renderReopenSprintDialog = function(opt_data, opt_ignored) {
  return '<h4>' + soy.$$escapeHtml(opt_data.model.sprint.name) + '</h4><div class="issue-moved-back">' + soy.$$filterNoAutoescape(AJS.format('{1,choice,0#{0} issues|1#{0} issue|2#{0} issues} will be moved back to the sprint you\x27\x27re reopening.','<strong>' + opt_data.model.issuesMovedBack + '</strong>',opt_data.model.issuesMovedBack)) + '</div>' + GH.tpl.dialogs.reopensprint.reopenDetails_(opt_data) + '<p class="ghx-description">' + soy.$$escapeHtml('Sub-tasks are not included in the total(s) above, and are always included in the same sprint as their parent issue.') + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.reopensprint.renderReopenSprintDialog.soyTemplateName = 'GH.tpl.dialogs.reopensprint.renderReopenSprintDialog';
}


GH.tpl.dialogs.reopensprint.reopenDetails_ = function(opt_data, opt_ignored) {
  return '' + ((opt_data.model.completedIssuesNotMovedBack > 0) ? '<div class="completed-issue-not-moved-back">' + soy.$$filterNoAutoescape(AJS.format('{1,choice,0#{0} issues are|1#{0} issue is|2#{0} issues are} already completed in another sprint, and cannot be moved back.','<strong>' + opt_data.model.completedIssuesNotMovedBack + '</strong>',opt_data.model.completedIssuesNotMovedBack)) + '</div>' : '') + ((opt_data.model.incompleteIssuesNotMovedBack > 0) ? '<div class="incompleted-issue-not-moved-back">' + soy.$$filterNoAutoescape(AJS.format('{1,choice,0#{0} issues are|1#{0} issue is|2#{0} issues are} part of another active sprint, and cannot be moved back.','<strong>' + opt_data.model.incompleteIssuesNotMovedBack + '</strong>',opt_data.model.incompleteIssuesNotMovedBack)) + '</div>' : '');
};
if (goog.DEBUG) {
  GH.tpl.dialogs.reopensprint.reopenDetails_.soyTemplateName = 'GH.tpl.dialogs.reopensprint.reopenDetails_';
}


GH.tpl.dialogs.reopensprint.renderCanNotReopenSprintDialog = function(opt_data, opt_ignored) {
  return '<div><p>' + soy.$$escapeHtml('Reopening the sprint is not possible because there are no issues in this sprint.') + '</p><p>' + GH.tpl.dialogs.reopensprint.reopenDetails_(opt_data) + '</p></div>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.reopensprint.renderCanNotReopenSprintDialog.soyTemplateName = 'GH.tpl.dialogs.reopensprint.renderCanNotReopenSprintDialog';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/CompleteParentDialog.js' */
GH.Dialogs.CompleteParentDialog={},GH.Dialogs.CompleteParentDialog.EVENT_PARENT_COMPLETED="parentCompleted",GH.Dialogs.CompleteParentDialog.showDialog=function(e,t,o){GH.Dialog.dim(),GH.Dialogs.CompleteParentDialog.renderDialog(e,t,o.name)},GH.Dialogs.CompleteParentDialog.renderDialog=function(e,t,o){var a=GH.Dialog.create({width:500,height:250,id:"ghx-dialog-complete-parent"});a.addHeader(AJS.format("Update Parent Issue",e.key)),a.addPanel("","panel"),a.getCurrentPanel().html(GH.tpl.dialogs.completeparent.renderCompleteParentDialog({issue:e,transitions:t,columnName:AJS.escapeHTML(String(o))})),0<t.length?(a.addButton("Update",function(){a.disableControls(),1===t.length?GH.Dialogs.CompleteParentDialog.complete(a,e,t[0].id):GH.Dialogs.CompleteParentDialog.complete(a,e,AJS.$(".js-complete-parent").find("input:checked").val())},"aui-button"),GH.Dialog.addCancelButton(a)):a.addButton("Acknowledge",function(){a.disableControls(),a.dispose(),GH.Dialog.triggerHideEvent()},"aui-button"),AJS.$(".aui-dialog").addClass("ghx-dialog"),a.show(),GH.Dialog.Spinner.hide(),AJS.$("#ghx-release-name").focus()},GH.Dialogs.CompleteParentDialog.complete=function(e,t,o){GH.IssueOperationShortcuts.setOverrideSelectedIssue(t),e.dispose(),GH.Dialog.triggerHideEvent(),GH.WorkDragAndDrop.executeWorkflowTransition(t.id,o)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/CompleteParentDialog.soy' */
// This file was automatically generated from CompleteParentDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.dialogs.completeparent.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.dialogs == 'undefined') { GH.tpl.dialogs = {}; }
if (typeof GH.tpl.dialogs.completeparent == 'undefined') { GH.tpl.dialogs.completeparent = {}; }


GH.tpl.dialogs.completeparent.renderCompleteParentDialog = function(opt_data, opt_ignored) {
  var output = '<form class="aui">';
  if (opt_data.transitions.length > 1) {
    output += '<p>' + soy.$$filterNoAutoescape(AJS.format('All sub-tasks for parent issue \x3cstrong\x3e{0}\x3c/strong\x3e are now \x3cstrong\x3e{1}\x3c/strong\x3e.',opt_data.issue.key,opt_data.columnName)) + '<br/>' + soy.$$escapeHtml('To update this parent issue to match, select a transition:') + '</p><fieldset class="group js-complete-parent">';
    var transitionList12 = opt_data.transitions;
    var transitionListLen12 = transitionList12.length;
    for (var transitionIndex12 = 0; transitionIndex12 < transitionListLen12; transitionIndex12++) {
      var transitionData12 = transitionList12[transitionIndex12];
      output += '<div class="radio"><input type="radio" name="transition" id="' + soy.$$escapeHtml(transitionData12.id) + '" value="' + soy.$$escapeHtml(transitionData12.id) + '" ' + ((transitionIndex12 == 0) ? 'checked="checked"' : '') + '><label for="' + soy.$$escapeHtml(transitionData12.id) + '">' + soy.$$escapeHtml(transitionData12.name) + '</label></div>';
    }
    output += '</fieldset>';
  } else if (opt_data.transitions.length == 1) {
    output += '<p>' + soy.$$filterNoAutoescape(AJS.format('All sub-tasks for parent issue \x3cstrong\x3e{0}\x3c/strong\x3e are now \x3cstrong\x3e{1}\x3c/strong\x3e.',opt_data.issue.key,opt_data.columnName)) + '<br/>' + soy.$$escapeHtml('Do you want to update this parent issue to match?') + '</p>';
  } else {
    output += '<p>' + soy.$$filterNoAutoescape(AJS.format('All sub-tasks for parent issue \x3cstrong\x3e{0}\x3c/strong\x3e are now \x3cstrong\x3e{1}\x3c/strong\x3e.',opt_data.issue.key,opt_data.columnName)) + '</p><p>' + soy.$$filterNoAutoescape(AJS.format('However, the parent issue cannot be moved into the \x3cstrong\x3e{0}\x3c/strong\x3e column as there are no matching transitions.',opt_data.columnName)) + '</p>';
  }
  output += '</form>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.dialogs.completeparent.renderCompleteParentDialog.soyTemplateName = 'GH.tpl.dialogs.completeparent.renderCompleteParentDialog';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/RemoveIssuesFromSprintDialog.soy' */
// This file was automatically generated from RemoveIssuesFromSprintDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.dialogs.removeissuesfromsprint.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.dialogs == 'undefined') { GH.tpl.dialogs = {}; }
if (typeof GH.tpl.dialogs.removeissuesfromsprint == 'undefined') { GH.tpl.dialogs.removeissuesfromsprint = {}; }


GH.tpl.dialogs.removeissuesfromsprint.renderRemoveIssuesFromSprintsDialog = function(opt_data, opt_ignored) {
  var output = '<div class="aui-message warning"><p class="title"><span class="aui-icon icon-warning"></span>' + soy.$$escapeHtml('Sprint scope will be affected by this action.') + '</p></div>';
  var changeList6 = opt_data.changes;
  var changeListLen6 = changeList6.length;
  for (var changeIndex6 = 0; changeIndex6 < changeListLen6; changeIndex6++) {
    var changeData6 = changeList6[changeIndex6];
    output += GH.tpl.dialogs.issuemovedialog.renderChange({change: changeData6});
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.dialogs.removeissuesfromsprint.renderRemoveIssuesFromSprintsDialog.soyTemplateName = 'GH.tpl.dialogs.removeissuesfromsprint.renderRemoveIssuesFromSprintsDialog';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/RemoveIssuesFromSprintDialog.js' */
GH.RemoveIssuesFromSprintDialog={},GH.RemoveIssuesFromSprintDialog.Analytics={},function(){var e=require("jira-agile/rapid/analytics-tracker");GH.RemoveIssuesFromSprintDialog.Analytics.remove=new e("gh.sprint.issue.remove")}(),GH.RemoveIssuesFromSprintDialog.constructDialog=function(i,n){var e=GH.Dialog.create({width:600,height:250,id:"ghx-remove-issues-from-sprint",onCancelFn:function(e){n.reject(i)}}),t=_.reduce(i.changes,function(e,i){return e+i.issueKeys.length},0);e.addHeader(AJS.format("Move {0,choice,1# issue|2\u003c issues}",t)),e.addPanel("","panel");t=GH.tpl.dialogs.removeissuesfromsprint.renderRemoveIssuesFromSprintsDialog(i);e.getCurrentPanel().html(t);t="Confirm";e.addButton(t,function(){e.disableControls(),e.dispose(),n.resolve(i)},"aui-button"),GH.Dialog.addCancelButton(e),e.show(),e.updateHeight(),AJS.$("#"+e.id).find(".dialog-button-panel .button-panel-cancel-link").focus()};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/IssueMoveDialog.soy' */
// This file was automatically generated from IssueMoveDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.dialogs.issuemovedialog.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.dialogs == 'undefined') { GH.tpl.dialogs = {}; }
if (typeof GH.tpl.dialogs.issuemovedialog == 'undefined') { GH.tpl.dialogs.issuemovedialog = {}; }


GH.tpl.dialogs.issuemovedialog.renderChange = function(opt_data, opt_ignored) {
  return '' + ((opt_data.change.issueKeys.length > 0) ? '<p>' + GH.tpl.dialogs.issuemovedialog.renderMoveMessage({issueKeys: opt_data.change.issueKeys, fromSprint: opt_data.change.currentSprint, toSprint: opt_data.change.targetSprint}) + '</p>' : '') + ((opt_data.change.doneIssueKeys.length > 0) ? '<p>' + GH.tpl.dialogs.issuemovedialog.renderRemoveMessage({issueKeys: opt_data.change.doneIssueKeys}) + '</p>' : '');
};
if (goog.DEBUG) {
  GH.tpl.dialogs.issuemovedialog.renderChange.soyTemplateName = 'GH.tpl.dialogs.issuemovedialog.renderChange';
}


GH.tpl.dialogs.issuemovedialog.renderRemoveMessage = function(opt_data, opt_ignored) {
  var output = '';
  var issuesHtml__soy18 = '' + GH.tpl.dialogs.issuemovedialog.renderIssues(opt_data);
  output += soy.$$filterNoAutoescape(AJS.format('{0} {1,choice,1# is|2\x3c are} done and will be removed and only appear in reports.',issuesHtml__soy18,opt_data.issueKeys.length));
  return output;
};
if (goog.DEBUG) {
  GH.tpl.dialogs.issuemovedialog.renderRemoveMessage.soyTemplateName = 'GH.tpl.dialogs.issuemovedialog.renderRemoveMessage';
}


GH.tpl.dialogs.issuemovedialog.renderMoveMessage = function(opt_data, opt_ignored) {
  var output = '';
  var issuesHtml__soy24 = '' + GH.tpl.dialogs.issuemovedialog.renderIssues(opt_data);
  var fromSprintHtml__soy27 = '' + GH.tpl.dialogs.issuemovedialog.renderSprintBacklog({sprint: opt_data.fromSprint});
  var toSprintHtml__soy30 = '' + GH.tpl.dialogs.issuemovedialog.renderSprintBacklog({sprint: opt_data.toSprint});
  output += soy.$$filterNoAutoescape(AJS.format('{0} will be moved from {1} to {2}.',issuesHtml__soy24,fromSprintHtml__soy27,toSprintHtml__soy30));
  return output;
};
if (goog.DEBUG) {
  GH.tpl.dialogs.issuemovedialog.renderMoveMessage.soyTemplateName = 'GH.tpl.dialogs.issuemovedialog.renderMoveMessage';
}


GH.tpl.dialogs.issuemovedialog.renderSprintBacklog = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.sprint) {
    var sprintHtml__soy38 = '' + GH.tpl.dialogs.issuemovedialog.emphasis({value: opt_data.sprint.name});
    output += soy.$$filterNoAutoescape(AJS.format('sprint {0}',sprintHtml__soy38));
  } else {
    output += soy.$$escapeHtml('the backlog');
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.dialogs.issuemovedialog.renderSprintBacklog.soyTemplateName = 'GH.tpl.dialogs.issuemovedialog.renderSprintBacklog';
}


GH.tpl.dialogs.issuemovedialog.renderIssues = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.issueKeys.length == 1) {
    var firstHtml__soy48 = '' + GH.tpl.dialogs.issuemovedialog.emphasis({value: opt_data.issueKeys[0]});
    output += soy.$$filterNoAutoescape(AJS.format('{0}',firstHtml__soy48));
  } else if (opt_data.issueKeys.length == 2) {
    var firstHtml__soy54 = '' + GH.tpl.dialogs.issuemovedialog.emphasis({value: opt_data.issueKeys[0]});
    var secondHtml__soy57 = '' + GH.tpl.dialogs.issuemovedialog.emphasis({value: opt_data.issueKeys[1]});
    output += soy.$$filterNoAutoescape(AJS.format('{0} and {1}',firstHtml__soy54,secondHtml__soy57));
  } else if (opt_data.issueKeys.length > 2) {
    var firstHtml__soy63 = '' + GH.tpl.dialogs.issuemovedialog.emphasis({value: opt_data.issueKeys[0]});
    var secondHtml__soy66 = '' + GH.tpl.dialogs.issuemovedialog.emphasis({value: opt_data.issueKeys[1]});
    var moreCountHtml__soy69 = '' + GH.tpl.dialogs.issuemovedialog.emphasis({value: opt_data.issueKeys.length - 2});
    output += soy.$$filterNoAutoescape(AJS.format('{0}, {1} and {2} more {3,choice,1# issue|2\x3c issues}',firstHtml__soy63,secondHtml__soy66,moreCountHtml__soy69,opt_data.issueKeys.length - 2));
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.dialogs.issuemovedialog.renderIssues.soyTemplateName = 'GH.tpl.dialogs.issuemovedialog.renderIssues';
}


GH.tpl.dialogs.issuemovedialog.emphasis = function(opt_data, opt_ignored) {
  return '<strong>' + soy.$$escapeHtml(opt_data.value) + '</strong>';
};
if (goog.DEBUG) {
  GH.tpl.dialogs.issuemovedialog.emphasis.soyTemplateName = 'GH.tpl.dialogs.issuemovedialog.emphasis';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/dialog/ConfirmDialog.js' */
GH.ConfirmDialog={},GH.ConfirmDialog.create=function(n,t){var a={header:"Confirmation",content:"Are you sure?",contentEscaping:!0,onConfirmFn:function(){},onCancelFn:function(){},width:433,height:184,analyticsPageName:void 0},e=_.defaults(t,a),a=GH.Dialog.create({id:n,width:e.width,height:e.height,closeOnOutsideClick:!1,onCancelFn:e.onCancelFn,analyticsPageName:e.analyticsPageName});return a.addHeader(e.header),n=e.contentEscaping?AJS.$("<div />").text(e.content):AJS.$("<div />").html(e.content),a.addPanel("",n,"ghx-confirm-dialog-panel"),a.addButton("Confirm",function(n){n.dispose(),e.onConfirmFn()},"aui-button"),GH.Dialog.addCancelButton(a),AJS.$("#"+a.id).addClass("ghx-dialog"),a};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkDataCacheService.js' */
define("jira-agile/rapid/ui/work/work-data-cache-service",["require"],function(){"use strict";require("jira-agile/rapid/ajax");var e=require("jira-agile/rapid/ui/board-data-cache-service"),a={storeData:function(a){var r;a.issuesData&&(r=a.rapidViewId,r=i(r),e.storeData(r,a))},getData:function(a){a=i(a);return e.getData(a)}},i=function(a){return"gh.work.data."+GH.UserData.getUserName()+"."+a};return a});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/DevInfoCacheService.js' */
define("jira-agile/rapid/ui/work/dev-info-cache-service",["require"],function(){"use strict";require("jira-agile/rapid/ajax");var r=require("jira-agile/rapid/ui/board-data-cache-service"),e={storeData:function(e){var a;e&&e.rapidViewId&&e.devInfoActivityForIssues&&(a=e.rapidViewId,a=i(a),r.storeData(a,e))},getData:function(e){e=i(e);return r.getData(e)}},i=function(e){return"gh.devinfo.data."+GH.UserData.getUserName()+"."+e};return e});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkController.js' */
(function () {
    "use strict";

    const AnalyticsClient = require('jira/analytics/web-client');
    const AnalyticsTracker = require('jira-agile/rapid/analytics-tracker');
    const PageMode = require('jira-agile/rapid/const/PageMode');
    const QuickFilterBridge = require('jira-agile/rapid/work/quick-filters-bridge');
    const GlobalEvents = require('jira-agile/rapid/global-events');
    const ConfigContextLoader = require('jira-agile/rapid/configuration/ConfigContextLoader');
    const Logger = require('jira/util/logger');
    const FeatureFlagService = require('jira/featureflags/feature-manager');
    const IssueModal = require('jira-agile/rapid/ui/bento/api');
    const BentoFeatures = require('jira-agile/rapid/ui/bento/bento-features');
    const UserData = require('jira-agile/rapid/user-data');
    const _ = require('underscore');
    const $ = require('jquery');
    const getTopmostSameOriginWindow = require("jira/util/top-same-origin-window");
    const BrowserMetricsUtil = require('jira-agile/browser-metrics/browser-metrics-util');
    const TraceUtils = require('jira-agile/rapid/trace-utils');
    const TraceUtilsHelper = require('jira-agile/rapid/trace-utils-helper');
    const DeferredResourcesLoader = require('jira-agile/rapid/deferred-resources-loader');
    const KanPlanOnboardingControllerModuleName = 'jira-agile/rapid/ui/kanplan/KanPlanOnboardingController';
    const GlobalErrors = require('jira-agile/rapid/ui/sla/global-errors');
    const BoardDataLoader = require('jira-agile/rapid/board-data-loader');
    const isRefreshBoardButtonEnabled = FeatureFlagService.getFlagResultObject('jsw.classic.rapid.board.refresh.button').value;
    const isAutoRefreshBoardEnabled = FeatureFlagService.isFeatureEnabled('jsw.classic.auto.refresh.board');
    const wrmSpaUtils = require('jira-agile/rapid/wrm-spa-utils');
    const DevInfoIconRender = require('jira-agile/rapid/work/dev-info-icon-render');

    const swimlanesQuery = 'swimlanes_query';
    const SPRINTS_PERMISSION = 'sprints_permission';
    const ADDITIONAL_FIELDS_DEV_INFO_ACTIVITY = 'issues_dev_info_activity';

    const PROJECT_TYPE = {
        NEXT_GEN: "NEXTGEN",
        CLASSIC: "CLASSIC"
    }
    const PROJECT_TYPE_MIX = {
        NEXT_GEN_AND_CLASSIC: "NEXT_GEN_AND_CLASSIC",
        NEXT_GEN_ONLY: "NEXT_GEN_ONLY",
        CLASSIC_ONLY: "CLASSIC_ONLY",
        UNKNOWN: "UNKNOWN"
    }

    const tryRequire = moduleName => {
        try {
            return require(moduleName);
        } catch (e) {
            return undefined;
        }
    };

    let KanPlanOnboardingController = tryRequire(KanPlanOnboardingControllerModuleName);

    const getDocument = function () {
        return getTopmostSameOriginWindow(window).document;
    };

    let WorkDataCacheService;
    let WorkTransitionService;
    let DevInfoCacheService;
    GlobalEvents.on('pre-initialization', () => {
        WorkTransitionService = require('jira-agile/rapid/ui/work/work-transition-service');
        WorkDataCacheService = require('jira-agile/rapid/ui/work/work-data-cache-service');
        DevInfoCacheService = require('jira-agile/rapid/ui/work/dev-info-cache-service');
    });

    // Time before alerting the user that transitions failed.
    const OPTIMISTIC_TRANSITION_TIMEOUT_SECONDS = 30;

    const MAX_NUM_ERR_EVENTS = 25;
    const REASON_BOARD_CRITICAL_DATA_FAILED = 'board-critical-data-failed';
    const REASON_BOARD_CRITICAL_DATA_FAILED_UNKNOWN_REASON = 'board-critical-data-failed-unknown-reason';
    const REASON_BOARD_CRITICAL_DATA_FAILED_FRONTEND_ERROR = 'board-critical-data-failed-with-frontend-error';
    const REASON_BOARD_CRITICAL_DATA_FAILED_WITH_STATUS_CODE = 'board-critical-data-failed-with-status-code';
    const ROUTE_CHANGED_BEFORE_LOADING_COMPLETE = 'board-critical-data-failed-due-to-route-changed';

    /* global _*/
    /**
     * Work Controller
     */

    GH.WorkController = new GH.Events();

    GH.WorkController.viewData = undefined;

    GH.WorkController.activeFilters = {};

    GH.WorkController.initialData = null;

    GH.WorkController.currentViewConfig = {};

    GH.WorkController.isVisible = false;

    GH.WorkController.unsubscribeQuickFilterUpdate = null;

    GH.WorkController.lastSeenRapidBoardId = null;

    GH.WorkController.latestBoardRefreshedTime = null;

    GH.WorkController.CALLBACK_POOL_RENDERED = 'gh.work.pool.rendered';
    GH.WorkController.CALLBACK_POOL_LOADED = 'gh.work.pool.loaded';
    GH.WorkController.EVENT_NAMES = {
        ON_PLAN_MODE: 'OnPlanMode',
        ON_ALL_FILTERS_CLEARING: 'OnAllFiltersClearing',
        ON_RELOAD_EMPTY_STATE_VIEW: 'OnReloadEmptyStateMessage',
        ON_ISSUE_DATA_RELOADED: Symbol('ON_ISSUE_DATA_RELOADED'),
        ON_ISSUE_CREATED: Symbol('ON_ISSUE_CREATED')
    };

    GH.WorkController.TRANSITION = "transition";
    GH.WorkController.QUICK_EDIT = 'quickEdit';
    GH.WorkController.FIX_VERSIONS_FIELD_ID = 'fixVersions';

    GH.WorkController.sla = {};
    GH.WorkController.sla.task = 'viewBoard';
    GH.WorkController.sla.analyticsSource = 'board';
    GH.WorkController.sla.application = 'jira-software';
    GH.WorkController.sla.latestErrorStatusCode = null;
    GH.WorkController.sla.setPoolDataNewFlow = null;
    GH.WorkController.sla.sqlException = null;
    GH.WorkController.sla.globalErrors = null;

    GH.WorkController.DEV_INFO_ICON_PLACEHOLDER_WRAPPER_CLASS = 'gh-dev-info-icon-wrapper';
    GH.WorkController.DEV_INFO_ICON_PLACEHOLDER_PREFIX = 'gh-dev-info-icon-';

    /**
     * @type module:jira-agile/rapid/analytics-tracker
     */
    GH.WorkController.analytics = new AnalyticsTracker("gh.workmode");

    const UNASSIGNED_USER_ID = 'UNASSIGNED_USER_ID';

    const captureGlobalErrors = () => {
        initGlobalErrors();
        window.addEventListener('error', (errorEvent) => {
            try {
                if (PageMode && GH.RapidBoard.State.getMode() === PageMode.WORK) {
                    GH.WorkController.sla.globalErrors.recordError(errorEvent);
                }
            } catch (ignored) {
                // Fail silently if capturing error fails.
            }
            return false;
        });
    };

    const flushGlobalErrors = () => initGlobalErrors();

    const initGlobalErrors = () => {
        GH.WorkController.sla.globalErrors = new GlobalErrors(MAX_NUM_ERR_EVENTS);
    };

    const refreshBoardInsightsPanel = () => {
        AJS.$('#ghx-issue-fragment').trigger('board-refreshInsightsPanel');
    };

    //not used outside this file, changed from afterRenderUpdates to GH.WorkController.afterRenderUpdates for testing
    GH.WorkController.afterRenderUpdates = (data, isFullPageLoad) => {
        _.delay(() => {
            // Can only read the column width once we actually show the element.
            GH.SwimlaneView.columnWidthChanged();

            // update the detail view positioning (this has to be done after the swimlane is rendered!)
            GH.WorkView.updateDetailViewVisibilityAndSize();

            // ensure that the swimlane of the selected issue column is expanded
            GH.WorkController.ensureSelectionExpanded();

            // update the board state
            GH.WorkController.updateBoardState(data);

            GH.CallbackManager.executeCallbacks(GH.WorkController.CALLBACK_POOL_RENDERED);

            // allow event loop to complete and a redraw to happen
            // then register the draggables
            GH.WorkDragAndDrop.initDraggables($('#ghx-pool'));

            GH.RapidBoard.ViewController.updateContentContainer();

            GH.WorkView.scrollIssueToView();

            if (data && isFullPageLoad) {
                checkBoardAndFireSlaEvent();
            }

            const deferredFieldsStrings = getDeferredFieldsStrings(data);
            const extraParams = getExtraParams(deferredFieldsStrings, data);
            // When not getting devInfo from backend, load devInfo from cache
            if (!deferredFieldsStrings.includes(ADDITIONAL_FIELDS_DEV_INFO_ACTIVITY)) {
                updateDevInfoActivityData(DevInfoCacheService.getData(GH.RapidBoard.State.getRapidViewId()), data && data.issuesData && data.issuesData.issues);
            }
            BoardDataLoader.getDeferredData(PageMode.WORK, deferredFieldsStrings, extraParams).done((deferredResponse) => {
                updateDeferredData(deferredResponse.success, deferredFieldsStrings, data && data.issuesData && data.issuesData.issues);
            });

            if (data && isFullPageLoad) {
                if (GH.RapidBoard.State.isKanbanBoard()) {
                    GH.WorkController.updateVersionData();
                }
                GH.WorkController.cacheIssuesMetadata(data);
                GH.ViewActions.setMode(PageMode.WORK);
            }

            WorkTransitionService.checkForUpdates();
            if (data) {
                WorkDataCacheService.storeData(data);
            }

            if (GH.RapidBoard.ViewController.isInsightsPanelOpen()) {
                refreshBoardInsightsPanel();
            }
        });
    };

    GH.WorkController.afterIssueUpdated = (issueId) => {
        const devInfoData = DevInfoCacheService.getData(GH.RapidBoard.State.getRapidViewId());
        const data = {devInfoActivityForIssues: {}};
        data.devInfoActivityForIssues[issueId] = devInfoData && devInfoData.devInfoActivityForIssues && devInfoData.devInfoActivityForIssues[issueId];
        if (data.devInfoActivityForIssues[issueId]) {
            updateDevInfoActivityData(data);
        }
    };

    const getExtraParams = (deferredFieldsStrings, data) => {
        const extraParams = {};
        if (deferredFieldsStrings.includes(SPRINTS_PERMISSION)) {
            const sprintsData = GH.WorkControls.getSprintData();
            const sprintIds = sprintsData.map(sprint => sprint.id);
            extraParams["sprintIds"] = sprintIds;
        }

        if (deferredFieldsStrings.includes(ADDITIONAL_FIELDS_DEV_INFO_ACTIVITY) && data && data.issuesData && data.issuesData.issues) {
            extraParams["issueIds"] = data.issuesData.issues.map(issue => issue.id);
        }
        return extraParams;
    }

    const updateDeferredData = (deferredResponse, deferredFieldsStrings, issues) => {
        if (deferredFieldsStrings.includes(swimlanesQuery)) {
            updateSwimlaneTooltips(deferredResponse);
        }
        if (deferredFieldsStrings.includes(SPRINTS_PERMISSION)) {
            updateSprintsData(deferredResponse);
        }
        if (deferredFieldsStrings.includes(ADDITIONAL_FIELDS_DEV_INFO_ACTIVITY)) {
            DevInfoCacheService.storeData(deferredResponse);
            updateDevInfoActivityData(deferredResponse, issues);
        }
    }

    function updateDevInfoActivityData(data, issues) {
        if (data && data.devInfoActivityForIssues && _.keys(data.devInfoActivityForIssues).length > 0) {
            const unmountIssues = (issues && issues.length > 0) ? _.filter(issues, issue => !_.contains(_.keys(data.devInfoActivityForIssues), issue.id.toString())) : [];
            DevInfoIconRender.renderDevInfoIconForIssues(
                'classicBoard',
                GH.WorkController.DEV_INFO_ICON_PLACEHOLDER_WRAPPER_CLASS,
                GH.WorkController.DEV_INFO_ICON_PLACEHOLDER_PREFIX,
                data.devInfoActivityForIssues,
                unmountIssues);
        }
    }

    function updateSprintsData(data) {
        GH.WorkControls.handleSprintsPermissionUpdated(data.sprintsData);
        GH.WorkController.renderModeTools();
    }

    function updateSwimlaneTooltips(data) {
        const swimlaneToId = {};
        const model = GH.GridDataController.getModel();
        data.swimlanesData.customSwimlanesData.swimlanes.forEach((swimlane) => {
            swimlaneToId[swimlane.id] = swimlane;
        })
        $('.ghx-swimlane-header').each(function () {
            const swimlaneId = $(this).attr("data-swimlane-id");
            let issueCount = model.getSwimlaneIssueCount(swimlaneId);
            $(this).find('.ghx-heading').attr('data-tooltip', function () {
                return GH.SwimlaneView.getSwimlaneTitle(swimlaneToId[swimlaneId], issueCount);
            });
        });
    }

    const getDeferredFieldsStrings = (data) => {
        const fields = [];
        if (GH.GridDataController.getModel().getSwimlaneStrategy() === 'custom') {
            fields.push("swimlanes_query");
        }
        if (!GH.RapidBoard.State.isKanbanBoard()) {
            fields.push(SPRINTS_PERMISSION);
        }
        if (data && data.issuesData && data.issuesData.issues) {
            fields.push(ADDITIONAL_FIELDS_DEV_INFO_ACTIVITY);
        }
        return fields;
    }

    const isGadgetView = () => (
        typeof window.GADGET === 'object'
        && typeof window.GADGET.boardInitialized === 'boolean'
    );

    /**
     * Initializes the view controller.
     */
    GH.WorkController.init = _.once(function () {
        // init controls (quick filters, etc)
        TraceUtils.startSpan('work-control-init', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        GH.WorkControls.init();
        TraceUtils.endSpan('work-control-init', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});

        // keyboard shortcuts
        GH.WorkKBNavigation.init();

        // Work View
        GH.WorkView.init();

        // SwimlaneView
        GH.SwimlaneView.init();

        // issue
        GH.WorkSelectionController.init();

        // drag and drop
        GH.WorkDragAndDrop.init();

        GH.VersionController.init();

        // handle issue selection events
        $(GH).bind('issueSelected', GH.WorkController.handleIssueSelectionEvent);

        // handle quick filter changes
        $(GH.WorkControls.quickfilters).bind('quickFilterChange', function () {
            if (GH.WorkController.isVisible) {
                GH.WorkController.reload();
            }
        });
        $(GH.WorkControls.sprintfilters).bind('sprintFilterChange', function () {
            if (GH.WorkController.isVisible) {
                GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.QUICK_FILTERS_CHANGE);
                GH.WorkController.reload();
            }
        });

        // refresh updated board content on issue dialog close
        // this event is fired from the frontend-repo (software-issue fragment)
        $('#ghx-issue-fragment').on('close', (_, options) => {
            const updateBoard = () => {
                GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.BENTO_MODAL_CLOSED);
                GH.WorkController.checkForUpdates(true);
            }

            GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.BENTO_MODAL_CLOSED);

            const updateImmediately = true;
            GH.RapidBoard.State.setWorkIssueModalOpened(false);
            GH.RapidBoard.State.pushState();
            GH.WorkController.checkForUpdates(updateImmediately);
        });

        $('#ghx-issue-fragment').on('refresh-sprints-on-board', function (event, data) {
            GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.BENTO_SPRINT_PICKER_CLICKED);
            GH.WorkControls.setActiveSprintFilterIds(data.sprintIds);
            GH.WorkController.reload();
            GH.RapidBoard.State.pushState();
        });

        // handle new issue created
        $(GH).bind('issueCreated', GH.WorkController.handleIssueCreatedEvent);

        // listen to updates to an issue.
        $(GH).bind('issueUpdated', GH.WorkController.handleIssueUpdatedEvent);
        if (BentoFeatures.isBentoSidebarOnBoardEnabled()) {
            $('#ghx-issue-fragment').on('issue-updated', function (event, data) {
                const internalEvent = {
                    type: 'issueUpdated'
                };
                const internalData = {
                    issueKey: data.issueKey,
                    fieldId: data.fieldId,
                    source: 'detailView'
                };
                GH.WorkController.handleIssueUpdatedEvent(internalEvent, internalData);
            });
        }

        // listen to issues removed from sprint event
        $(GH).bind('issuesRemovedFromSprint', GH.WorkController.handleIssuesRemovedFromSprint);

        DeferredResourcesLoader.handleDeferredResourceImport(!KanPlanOnboardingController, () => {
            KanPlanOnboardingController = require(KanPlanOnboardingControllerModuleName);
            KanPlanOnboardingController.init();
        });

        GH.WorkController.on('after:render', (data, isFullPageLoad) => {
            GH.WorkController.afterRenderUpdates(data, isFullPageLoad);
        });

        // Setup global error capturing for sla
        try {
            captureGlobalErrors();
        } catch (ignored) {
            // Fail silently
        }
    });

    /**
     * Sets the rapid view data.
     */
    GH.WorkController.setRapidView = function (rapidViewData) {
        GH.WorkController.rapidViewData = rapidViewData;
        GH.SwimlaneView.setRapidView(GH.WorkController.rapidViewData);
    };

    GH.WorkController.isSprintSupportEnabled = function () {
        return GH.WorkController.rapidViewData.sprintSupportEnabled;
    };

    const loadFiltersBridge = () => {
        QuickFilterBridge.isReactFiltersEnabled().then(isReactFiltersEnabled => {
            if (isReactFiltersEnabled) {
                initFiltersBridge();
            }
        });
    };
    /**
     * Called when the work tab is shown
     * @return {promise}
     */
    GH.WorkController.show = function () {
        if (!GH.WorkController.rapidViewData) {
            return;
        }
        GH.WorkController.isVisible = true;

        // initialize the view
        GH.WorkView.show();

        // set the correct rapid view id
        DeferredResourcesLoader.handleDeferredResourceImport(
            (!GH.DetailsView || !GH.DetailsView.setRapidViewId),
            () => {
                GH.DetailsView.setRapidViewId(GH.WorkController.rapidViewData.id);
            });

        // kick off loading the view configuration
        return GH.WorkController.loadRapidViewConfig(true, GH.WorkDataLoader.LOAD_INITIATOR.INITIAL_LOAD).done(function () {
            loadFiltersBridge();

            // show Bento issue dialog on page load if necessary
            GH.WorkController.showIssueModalIfNeeded();

            if (BentoFeatures.isUsingBentoSidebarOnBoard()) {
                if (GH.RapidBoard.State.isWorkMode() && GH.RapidBoard.State.isDetailsViewOpened()) {
                    AJS.$('#ghx-issue-fragment').trigger('detail-view-ready', GH.WorkSelectionController.getSelectedIssueKey());
                }
            }

            fireBoardAnalytics();
        }).fail(function () {
            _.delay(() => {
                checkBoardAndFireSlaEvent();
            })
        });
    };

    const fireBoardAnalytics = () => {
        _.delay(() => {
            fireBoardViewAnalyticsEvent();
            fireBoardViewTrackEvent();
        });
    }

    /**
     * Called when the work tab is hidden
     */
    GH.WorkController.hide = function () {
        // stop the poller
        GH.Poller.removePoller('WorkPoller');

        // hide the swimlane view
        GH.SwimlaneView.hide();

        // hide the whole work view
        GH.WorkView.hide();

        GH.WorkController.isVisible = false;

        // mark the current data as dirty
        GH.WorkDataLoader.markDirty();

        DeferredResourcesLoader.handleDeferredResourceImport(!KanPlanOnboardingController, () => {
            KanPlanOnboardingController = require(KanPlanOnboardingControllerModuleName);
            KanPlanOnboardingController.hide();
        });

        if (GH.WorkController.unsubscribeQuickFilterUpdate) {
            GH.WorkController.unsubscribeQuickFilterUpdate();
        }
    };

    /**
     * Is the work tab currently active, thus is the pool displayed?
     */
    GH.WorkController.isActive = function () {
        return GH.WorkController.isVisible;
    };

    /**
     * Load the rapid view configuration used by the pool
     */
    GH.WorkController.loadRapidViewConfig = function (
        isFullPageLoad = false,
        initiator = GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN
    ) {
        // create the promise for initializing view
        var deferred = new $.Deferred();

        // callback called when the view configuration has been loaded
        var callback = function (data) {
            TraceUtils.endSpan('rapidviewconfig-fetchconfig', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
            // stop here if the pool isn't displayed anymore
            if (!GH.WorkController.isVisible) {
                return;
            }

            GH.WorkController.currentViewConfig = data;

            var promise = GH.WorkController.initializeWorkMode(isFullPageLoad, initiator);

            // invoke done callback
            promise.done(function () {
                deferred.resolveWith(this);
            });

            promise.fail(function () {
                deferred.rejectWith(this);
            });
        };

        // fetch the configuration
        TraceUtils.startSpan('rapidviewconfig-fetchconfig', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        GH.RapidViewConfig.fetchConfiguration(GH.WorkController.rapidViewData.id).done(callback);

        return deferred.promise();
    };

    /**
     * Initialize the pool
     * @return {promise}
     */
    GH.WorkController.initializeWorkMode = function (
        isFullPageLoad = false,
        initiator = GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN
    ) {
        // we can only draw something if we got columns in the view
        if (!GH.WorkController.currentViewConfig.columns || GH.WorkController.currentViewConfig.columns.length < 0) {
            // TODO: empty everything
            return;
        }

        // if the new view config has the same id as the old one, then don't redraw the quick filters
        GH.WorkControls.setRapidViewConfig(GH.WorkController.currentViewConfig);
        GH.SwimlaneView.setRapidViewConfig(GH.WorkController.currentViewConfig);
        DeferredResourcesLoader.handleDeferredResourceImport((!GH.DetailsView || !GH.DetailsView.setRapidViewConfig), () => {
            GH.DetailsView.setRapidViewConfig(GH.WorkController.currentViewConfig);
        });

        // render work controls
        TraceUtils.startSpan('workcontrols-rendercontrols', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        GH.WorkControls.renderControls();
        TraceUtils.endSpan('workcontrols-rendercontrols', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});

        // hide the loading transition for QF
        GH.WorkView.hideLoadingFilter();

        GH.WorkController.configureUI();
        DeferredResourcesLoader.handleDeferredResourceImport((!GH.DetailsView || !GH.DetailsView.preloadData), () => {
            if (GH.WorkView.detailViewOpen) {
                GH.DetailsView.preloadData();
                GH.WorkController.openDetailsView(GH.DetailsView.getSelectedIssueKey());
            }
        });

        // load the pool data and transitions data.
        TraceUtils.startSpan('work-controller-init-work-mode-load-pool-data', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        return GH.WorkController.loadPoolData(isFullPageLoad, initiator).done(() => {
            TraceUtils.endSpan('work-controller-init-work-mode-load-pool-data', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        });
    };

    /**
     * Transitions the given issues from the source column to the target column. Loads the UI with the required changes.
     * Contacts the server to refresh the required issues only. Does not load the entire board unless the operation fails.
     *
     * @param issueKeys the keys to transition
     * @param selectedTransitionId the selected transition for the issues
     * @param transitionStatus the destination status for the issues
     * @param sourceColumn id of the source column
     * @param targetColumn id of the target column
     */
    GH.WorkController.optimisticallyTransition = function (issueKeys, selectedTransitionId, transitionStatus, sourceColumn, targetColumn) {
        const rapidViewId = GH.RapidBoard.State.getRapidViewId();
        const request = {
            rapidViewId,
            issueKeys,
            targetColumn,
            selectedTransitionId
        };

        const transitionIssueOnServerPromise = GH.WorkController.submitTransitionAndRank(request);

        // Move issues in the UI. This may take non-trivial time on a large board.
        // This method computes synchronously, which is why we do it after submitting the request to the server.
        GH.WorkController.moveIssuesTo(issueKeys, sourceColumn, targetColumn);

        return transitionIssueOnServerPromise.done(() => {
            issueKeys.forEach((issueKey) => {
                GH.WorkController.handleIssueUpdatedEvent({}, {
                    issueId: GH.GridDataController.getModel().getIssueIdForKey(issueKey),
                    source: GH.WorkController.TRANSITION
                });
            });

            // Show the resolve parent dialog if required. (We can pick any issue
            // as you can only select siblings of the same parent)
            GH.Dialog.createParentCompletedCheckCallback(issueKeys[0])();
        }).fail((data, xhr) => rollbackOnFailure(xhr, issueKeys, data));
    };

    /**
     * Moves the issues in the UI. Does not contact the server. Completes synchronously.
     */
    GH.WorkController.moveIssuesTo = function (issueKeys, sourceColumn, targetColumn) {
        GH.GridDataController.getModel().moveIssuesToColumn(issueKeys, sourceColumn, targetColumn);

        // The details view will update when the handleIssueUpdatedEvent is invoked.
        // So we'll skip it this time.
        GH.WorkView.skipNextDetailViewUpdate();

        GH.WorkController.updateUI();
    };

  const JIRAEvents = require("jira/util/events");
    GH.WorkController.submitTransitionAndRank = function (request) {
        return GH.Ajax.put({
      url: "/xboard/transitionAndRank",
            data: request,
      timeout: OPTIMISTIC_TRANSITION_TIMEOUT_SECONDS * 1000,
        }).done((data) => {
      try {
        const experiences = (
          FeatureFlagService.getFlagValue("odin.ec.client.integration.cbb") ||
          ""
        ).split(",");
        if (
          Array.isArray(experiences) &&
          experiences.includes("drag-amongst-columns-issues")
        ) {
                if (data && data.success) {
            JIRAEvents.trigger("issueTransitioned", {
              issueIds: data.success.issueIds || [],
            });
                }
            }
      } catch (e) {
        const AnalyticsClient = require("jira/analytics/web-client");
        AnalyticsClient.sendTrackEvent({
          source: "backlogScreen",
          action: "mutated",
          actionSubject: "issue",
          attributes: {
            errorMsg: "FAILED_ISSUE_RANK",
            errorDetails: e?.toString(),
            error: true,
            scenario: "issueRankChanged",
          },
        });
      }
        });
    };

    function rollbackOnFailure(xhr, issueKeys, data) {
        // We modified some stuff, clear the etag to force a full reload from server.
        GH.WorkDataLoader.markDirty();
        GH.WorkDataLoader.clearEtag();

        GH.RapidBoard.ViewController.showErrorPanelDragAndDrop(issueKeys, data);
        GH.WorkController.reload();
    }

    // Visible for testing
    GH.WorkController._rollbackOnFailure = rollbackOnFailure;

    GH.WorkController.preload = function (viewId) {
        // load the data, but ignore the result
        TraceUtils.log('work-controller-preload', {log: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        return GH.WorkDataLoader.getData(viewId, GH.WorkDataLoader.LOAD_INITIATOR.INITIAL_LOAD);
    };

    /**
     * Reload the pool data entirely
     * @return {promise}
     */
    GH.WorkController.reload = function (initiator = GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN) {
        // Mark the current data as dirty
        GH.WorkDataLoader.markDirty();

        // clear updated messages
        GH.Notification.clearBoardUpdatedMessage();

        // then load new data
        TraceUtils.log('work-controller-reload-load-pool-data', {log: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        return GH.WorkController.loadPoolData(false, initiator);
    };

    /**
     * Load the pool data
     * @return {promise}
     */
    GH.WorkController.loadPoolData = function (
        isFullPageLoad = false,
        initiator = GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN
    ) {
        // show the loading transition for QF
        GH.WorkView.showLoadingPool();

        // execute the request
        var viewId = GH.WorkController.rapidViewData.id;
        var promise = GH.WorkDataLoader.getData(viewId, initiator);
        promise.done(function (data) {
            GH.WorkController.setPoolData(data, false, isFullPageLoad);
        }).then(function () {
            BrowserMetricsUtil.triggerAfter('after:boardQuickFilter', 'boardQuickFilter');
        });

        // handle global errors (they'll all be global in this case)
        promise.fail(GH.WorkController.handleInvalidSprint);

        // cleanup the loading spinner
        promise.fail(function () {
            GH.WorkView.hideLoadingPool();
        });

        return promise;
    };

    GH.WorkController.handleInvalidSprint = function (res, xhr, onGlobalError, globalErrorDismissable) {
        TraceUtils.startSpan('work-controller-handle-request-failure', {
            start: TraceUtilsHelper.additionalDebugAttributesForWorkController(),
            res: res,
            xhr: xhr
        });
        var err = res.error && res.error.errors && res.error.errors[0] && res.error.errors[0].message;

        GH.WorkController.sla.latestErrorStatusCode = xhr && xhr.status;

        if (xhr && xhr.getResponseHeader && xhr.getResponseHeader("sql-exception")) {
            GH.WorkController.sla.sqlException = xhr.getResponseHeader("sql-exception");
        }

        // We need the subnavigator so that user can escape the broken board.
        if (GH.RapidBoard.ViewController.shouldShowSubnavigator()) {
            GH.RapidBoard.SubnavigatorController.render();
        }

        if (err && err === "Sprint does not exist") {
            GH.WorkControls.sprintfilters.validateActiveSprints();
        } else if (err && err === "This board has no columns with a mapped status.") {
            GH.WorkController.renderNoMappedColumnsMsg();
        } else {
            GH.Ajax.handleGlobalErrors(res, onGlobalError, globalErrorDismissable);
        }
        TraceUtils.endSpan('work-controller-handle-request-failure', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
    };

    GH.WorkController.checkForUpdates = function (updateImmediately, initiator = GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN) {
        if (
            (!GH.WorkController.isRapidBoardsPage() ||
                GH.RapidBoard.ViewController.hasTransitionedToAnotherRoute(window.location) ||
                (GH.PlanController && GH.PlanController.isActive()))
        ) {
            return;
        }

        var viewId = GH.WorkController.rapidViewData.id;
        var promise = GH.WorkDataLoader.checkForUpdates(viewId, initiator);
        promise.done(function (result) {
            if (updateImmediately && !detailsViewEditsInProgress()) {
                if (result === GH.WorkDataLoader.NEW_DATA_WITH_CHANGES) {
                    GH.WorkController.applyLoadedData();
                } else if (result === GH.WorkDataLoader.NEW_DATA_NO_CHANGE) {
                    GH.WorkController.reloadDetailView();
                }
            } else if (result === GH.WorkDataLoader.NEW_DATA_WITH_CHANGES) {
                if (isAutoRefreshBoardEnabled) {
                    GH.WorkController.applyLoadedData();
                } else {
                    GH.WorkController.showBoardUpdatedMessage();
                }
            }
        });

        // handle error when user doesn't have access to the selected spirnt anymore.
        promise.fail(function (res) {
            var err = res.error && res.error.errors && res.error.errors[0] && res.error.errors[0].message;
            if (err && err === "Sprint does not exist") {
                GH.Notification.showWarnings("Sorry, either the sprint\'s been deleted, or you don\'t have permission to view it.", {
                    autoHide: false,
                    preRendered: true
                });
            }
        });

        return promise;
    };

    GH.WorkController.isRapidBoardsPage = function () {
        return wrmSpaUtils.isRapidboardsActive()
    }

    function detailsViewEditsInProgress() {
        DeferredResourcesLoader.handleDeferredResourceImport((!GH.DetailsView || !GH.DetailsView.hasEditsInProgress), () => {
            return GH.WorkView.detailViewOpen && GH.DetailsView.hasEditsInProgress();
        });
    }

    GH.WorkController.showBoardUpdatedMessage = function () {
        GH.Notification.showBoardUpdatedMessage().done(function () {
            // apply the loaded data
            GH.WorkController.applyLoadedData();
            if (isRefreshBoardButtonEnabled === 'enabled-without-text') {
                GH.WorkController.latestBoardRefreshedTime = Date.now();
            }
        });
    };

    /**
     * Updates already loaded data
     */
    GH.WorkController.applyLoadedData = function () {
        // execute the request (which will directly return as the data has already been loaded)
        var viewId = GH.WorkController.rapidViewData.id;
        TraceUtils.startSpan('work-controller-apply-loaded-data', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        var promise = GH.WorkDataLoader.getData(viewId);
        promise.done(function (data) {
            TraceUtils.endSpan('work-controller-apply-loaded-data', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
            // update
            GH.WorkController.setPoolData(data);

            // then clear the message
            GH.Notification.clearBoardUpdatedMessage();
        });
        return promise;
    };

    /**
     * Checks whether the newly provided pool data differs from what is currently used.
     */
    GH.WorkController.hasDataChanged = function (data) {
        return GH.GridDataController.hasDataChanged(data);
    };

    GH.WorkController.validateAssigneeList = function () {
        const assigneeList = getAssigneeList().map(({id}) => id);
        const activeAssignees = GH.WorkController.activeFilters.assigneeList || [];

        const filtered = activeAssignees && activeAssignees.filter((assigneeName) => assigneeList.includes(assigneeName));

        if (filtered.length === activeAssignees.length) {
            return {
                isValid: true,
                newAssigneeList: filtered,
            }
        } else {
            return {
                isValid: false,
                newAssigneeList: filtered,
            }
        }
    }

    /**
     * Set the new pool data, rerender the view
     * @fires GH.WorkController#after:render when the board has finished rendering and the user is unblocked.
     */
    GH.WorkController.setPoolData = function (data, fromReactFilter = false, isFullPageLoad = false) {
        if (!GH.WorkController.isVisible) {
            return;
        }
        if (FeatureFlagService.isFeatureEnabled('safe.migrate-strings-in-cbb')) {
            if (data.flexibleNomenclatureData && data.flexibleNomenclatureData.levelOneName) {
                const epicLevelName = data.flexibleNomenclatureData.levelOneName;

                if (epicLevelName !== GH.RapidBoard.State.getEpicLevelName()) {
                    GH.RapidBoard.State.setEpicLevelName(epicLevelName);
                }
            }
        }

        let refreshInitialData = false;

        if (data !== GH.WorkController.initialData) {
            //update data cache
            GH.WorkController.initialData = data;
            refreshInitialData = true;
        }

        const filters = GH.WorkController.activeFilters;
        const haveFiltersApplied = filters &&
            ((filters.assigneeList && filters.assigneeList.length > 0)
                || (filters.issueTypeList && filters.issueTypeList.length > 0)
                || (filters.searchText && filters.searchText.length > 0));

        GH.GridDataController.setData(data);

        if (haveFiltersApplied) {
            GH.WorkController.sla.setPoolDataNewFlow = 'haveFiltersApplied';
            QuickFilterBridge.isReactFiltersEnabled().then(isReactFiltersEnabled => {
                filterIssues(isReactFiltersEnabled, data, refreshInitialData, isFullPageLoad);
            });
        } else if (fromReactFilter) {
            GH.WorkController.sla.setPoolDataNewFlow = 'fromReactFilter';
            filterIssues(true, data, refreshInitialData, isFullPageLoad);
        } else {
            GH.WorkController.sla.setPoolDataNewFlow = 'defaultElse';
            data.issuesData.issues = GH.WorkController.getFilteredIssues(data.issuesData.issues);
            setDataAndPoller(data, isFullPageLoad);
        }

    };

    function filterIssues(isReactFiltersEnabled, data, refreshInitialData, isFullPageLoad = false) {
        if (isReactFiltersEnabled) {
            data.issuesData.issues = GH.WorkController.getFilteredIssues(data.issuesData.issues);
            if (refreshInitialData) {
                //rebuild assignee/issueType list every time when issue-list is changed
                updateQuickFilterLists();
            }
        }
        BrowserMetricsUtil.triggerAfter('after:boardSearchFilter', 'boardSearchFilter');
        setDataAndPoller(data, isFullPageLoad);
    }

    function setDataAndPoller(data, isFullPageLoad = false) {
        // set the data in the grid controller
        GH.GridDataController.setData(data);
        GH.CallbackManager.executeCallbacks(GH.WorkController.CALLBACK_POOL_LOADED);

        GH.WorkController.setSprintData(data);
        // set the sprints
        if (data.sprintsData) {
            GH.WorkControls.setSprintData(data.sprintsData.sprints, data.sprintsData.canManageSprints);
        } else {
            GH.WorkControls.setSprintData([], false);
        }
        // set the versions data
        GH.VersionController.setProjects(data.issuesData.projects);

        setVersions(data.versionData);

        // initialize issue selection related stuff
        GH.WorkController.initializeSelection();

        // update the ui
        GH.WorkController.updateUI(data, isFullPageLoad);

        ConfigContextLoader.prefetch();

        // For web driver test to know that rendering is complete
        Logger.trace('gh.rapid.view.rendered');

        /*
        * Register or reschedule the poller
        * FeatureFlagService.getFlagResultObject('jsw-classic-work-data-poller-backoff')
        * returns {value: false} if FF is not present in ajs-fe-feature-flags
        * else returns {"value":{"backoffRequired":true,"interval":5000,"maxBackoffInterval":60000,"pollingOffset":5000,"thresholdPollCount":2}}
         */
        const isBackoffRequriedObj = FeatureFlagService.getFlagResultObject('jsw-classic-work-data-poller-backoff').value;
        if (isBackoffRequriedObj && isBackoffRequriedObj.backoffRequired === true) {
            GH.Poller.addPollerWithBackoff(
                'WorkPoller',
                () => GH.WorkController.checkForUpdates(false, GH.WorkDataLoader.LOAD_INITIATOR.POLLING),
                GH.WorkDataLoader.NEW_DATA_WITH_CHANGES,
                isBackoffRequriedObj
            );
        } else {
            GH.Poller.addPoller('WorkPoller', () => GH.WorkController.checkForUpdates(false, GH.WorkDataLoader.LOAD_INITIATOR.POLLING));
        }
    }

    GH.WorkController.updateBoardState = (data) => {
        if (data && data.issuesData && data.issuesData.issues && data.issuesData.projects) {
            let subTasks;
            if (GH.RapidBoard.State.shouldUseTypeHierarchyLevel()) {
                subTasks = data.issuesData.issues.filter(issue => issue.typeHierarchyLevel === GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL);
            } else {
                subTasks = data.issuesData.issues.filter(issue => issue.parentId != null);
            }

            GH.RapidBoard.State.numberOfIssues.set(data.issuesData.issues.length);
            GH.RapidBoard.State.numberOfSubtasks.set(subTasks.length);
            GH.RapidBoard.State.numberOfProjects.set(data.issuesData.projects.length);
            GH.RapidBoard.State.oldDoneIssuesCutoff.set(data.oldDoneIssuesCutoff);
            GH.RapidBoard.State.numberOfEpics.reset();
        }

        if (data && data.versionData && data.versionData.versionsPerProject && setVersionsLogic()) {
            var numberOfVersions =
                Object.getOwnPropertyNames(data.versionData.versionsPerProject)
                    .map(proj => data.versionData.versionsPerProject[proj].length)
                    .reduce((a, b) => a + b, 0);

            GH.RapidBoard.State.numberOfVersions.set(numberOfVersions);
        }
    };

    GH.WorkController.setSprintData = function (data) {
        GH.WorkController.sprintData = data.sprintsData;
        GH.RapidBoard.ViewController.mountOrUnmountInsightButton();
    };

    GH.WorkController.cacheIssuesMetadata = function (data) {
        IssueModal.done(api => {
            if (api && api.fetchIssues
                && data && data.issuesData && data.issuesData.issues) {
                var issueKeys = data.issuesData.issues
                    .filter(issue => !issue.hidden)
                    .map(({key}) => key);
                if (issueKeys && issueKeys.length > 0) {
                    api.fetchIssues(issueKeys);
                }
            }
        });
    };

    /**
     * Initializes issue selection related functionality
     */
    GH.WorkController.initializeSelection = function () {
        // set the magic index
        GH.WorkKBNavigation.initCurrentPosition();

        // update the selection state in the data controller
        GH.WorkSelectionController.validateCurrentSelection();
    };

    /**
     * Expands the swimlane of the selected issue if necessary
     */
    GH.WorkController.ensureSelectionExpanded = function () {
        // fetch selection
        var selectedIssueKey = GH.WorkSelectionController.getSelectedIssueKey();
        if (!selectedIssueKey) {
            return;
        }

        // valid selection, ensure the swimlane is not collapsed
        GH.SwimlaneView.setSwimlaneCollapsedStateForIssueKey(selectedIssueKey, false);
    };

    /**
     * Update the UI
     */
    GH.WorkController.updateUI = function (data, isFullPageLoad = false) {
        // prepare the view (detail view, selected columns)
        GH.WorkController.configureUI();

        // actually render the ui
        GH.WorkController.renderUI();

        // fire an event (for when our container wants to do something now - eg: gadgets need to resize)
        $(GH).trigger('workModeUIReady');

        GH.WorkController.trigger('after:render', data, isFullPageLoad);
    };

    /**
     * Configure the components for rendering
     */
    GH.WorkController.configureUI = function () {
        // fetch the detail view state, ensure the detail view is closed if no issue is selected
        var selectedIssueKey = GH.WorkSelectionController.getSelectedIssueKey();
        var detailViewOpened = GH.WorkController.isDetailsViewOpened();
        if (!selectedIssueKey && detailViewOpened) {
            detailViewOpened = false;
        }

        if (!detailViewOpened && GH.RapidBoard.ViewController.isInsightsPanelOpen()) {
            detailViewOpened = true;
        }

        // configure the work view
        GH.WorkView.configureUI(detailViewOpened ? selectedIssueKey : false);

        // mark detail view as closed
        GH.WorkController.setDetailViewOpenedState(detailViewOpened);
    };

    /**
     * Render the view according to the current configuration
     */
    GH.WorkController.renderUI = function () {
        if (
            GH.RapidBoard.State.isNewIssueViewEnabled() &&
            !GH.DetailsView.opts.isUsingBentoSidebarOnBoard
        ) {
            if (!GH.RapidBoard.ViewController.isInsightsPanelOpen()) {
                GH.WorkController.closeDetailsView();
            }
        }
        TraceUtils.startSpan('work-controller-render-ui', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});

        GH.WorkController.renderModeTools();

        // show sprints
        GH.WorkControls.drawSprints();

        // render the pool
        GH.WorkView.renderPoolAndDetailView();

        var gridDataModel = GH.GridDataController.getModel();

        DeferredResourcesLoader.handleDeferredResourceImport(!KanPlanOnboardingController, () => {
            KanPlanOnboardingController = require(KanPlanOnboardingControllerModuleName);
            KanPlanOnboardingController.update(gridDataModel);
        });

        // update swimlane options in the View Actions
        GH.WorkControls.updateSwimlaneOptions(gridDataModel.hasSwimlanes());

        TraceUtils.endSpan('work-controller-render-ui', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
    };


    GH.WorkController.renderModeTools = function () {
        //renderModeTools is called twice to render a placeholder while the other required resources gets downloaded
        renderModeTools();
        if (GH.RapidBoard.State.getMode() === PageMode.WORK) {
            if (DeferredResourcesLoader.getDeferBatchParsed()) {
                renderModeTools();
            } else {
                DeferredResourcesLoader.actionOnDeferParsingComplete(renderModeTools);
            }
        }
    };

// Detail view

    /**
     * Set the new detail view opened state
     */
    GH.WorkController.setDetailViewOpenedState = function (opened) {
        GH.RapidBoard.State.setWorkViewDetailsViewOpened(opened || false);

        if (opened) {
            $('#ghx-detail-view').css({'display': ''});
        } else {
            $('#ghx-detail-view').css({'display': 'none'});
        }
    };

    /**
     * Is the detail view opened
     */
    GH.WorkController.isDetailsViewOpened = function () {
        if (!BentoFeatures.isBentoEnabled() || GH.DetailsView.opts.isUsingBentoSidebarOnBoard) {
            return GH.RapidBoard.State.isDetailsViewOpened();
        } else {
            return GH.WorkView.isIssueModalOpened();
        }
    };

    GH.WorkController.getStatisticField = function () {
        return GH.WorkController.currentViewConfig.statisticConfig.typeId;
    };

    /**
     * Toggles the details view
     */
    GH.WorkController.toggleDetailsView = function (shortcutAction) {
        if (!BentoFeatures.isBentoEnabled() || GH.DetailsView.opts.isUsingBentoSidebarOnBoard) {
            if (GH.WorkController.isDetailsViewOpened()) {
                GH.WorkController.closeDetailsView();
            } else {
                const selectedIssueKey = GH.WorkSelectionController.getSelectedIssueKey();
                GH.WorkController.openDetailsView(selectedIssueKey, shortcutAction);
            }
        } else {
            if (GH.RapidBoard.State.isNewIssueViewEnabled()) {
                if (GH.WorkView.isIssueModalOpened()) {
                    GH.WorkView.closeIssueModal();
                } else if (GH.WorkSelectionController.getSelectedIssueKey()) {
                    GH.WorkView.displayIssueModal({}, shortcutAction);
                }
            }
        }
    };

    /**
     * Opens the details view, displaying the issue specified.
     * Does nothing if no issue is specified.
     */
    GH.WorkController.openDetailsView = function openDetailsView(issueKey, shortcutAction) {
        GH.RapidBoard.ViewController.resetInsightPanelOpen();

        if (GH.RapidBoard.State.isNewIssueViewEnabled() && !GH.DetailsView.opts.isUsingBentoSidebarOnBoard) {
            return;
        }

        // if we don't have a key then there's nothing to do
        if (!issueKey) {
            return;
        }

        // ensure that the issue specified is selected
        var selectedIssueKey = GH.WorkSelectionController.getSelectedIssueKey();
        var stateChanged = false;
        if (!selectedIssueKey || selectedIssueKey != issueKey) {
            // signal a state change
            stateChanged = true;
            GH.WorkSelectionController.selectIssue(issueKey, {pushState: false});
        }

        // if details view is already visible, simply trigger loading the new details
        if (GH.WorkController.isDetailsViewOpened()) {
            GH.WorkController.updateDetailViewIssue(issueKey, shortcutAction);

            // otherwise open the details view
        } else {
            // signal a state change
            stateChanged = true;
            GH.WorkController.setDetailViewOpenedState(true);

            // update the view
            GH.WorkView.openOrCloseDetailView(issueKey, shortcutAction);
        }

        // only push state if we changed our state somehow
        if (stateChanged) {
            GH.RapidBoard.State.pushState();
        }
    };

    /**
     * Closes the detail view.
     */
    GH.WorkController.closeDetailsView = function closeDetailsView() {
        DeferredResourcesLoader.handleDeferredResourceImport((!GH.DetailsView || !GH.DetailsView.hasCurrentError), () => {
            // ignore if there are errors in edit fields
            if (GH.DetailsView.hasCurrentError()) {
                return;
            }
        });
        // ignore if already closed
        if (!GH.WorkController.isDetailsViewOpened()) {
            return;
        }

        // mark the details view as closed and redraw
        GH.WorkController.setDetailViewOpenedState(false);
        GH.RapidBoard.State.pushState();

        // update the view
        GH.WorkView.openOrCloseDetailView(false);
    };

    /**
     * Reload the detail view, e.g. after the selected issue changed
     */
    GH.WorkController.reloadDetailView = function (detailsViewLoadReason) {
        //ignore if not visible, when bento is enabled, DetailView is never shown
        if (BentoFeatures.isBentoEnabled() || !GH.WorkController.isDetailsViewOpened()) {
            return;
        }

        DeferredResourcesLoader.handleDeferredResourceImport((!GH.DetailsView || !GH.DetailsView.reload), () => {
            GH.DetailsView.reload(detailsViewLoadReason);
        });
    };

    /**
     * Sets the new details view issue.
     */
    GH.WorkController.updateDetailViewIssue = function (issueKey, shortcutAction) {
        if (!GH.WorkController.isDetailsViewOpened()) {
            return;
        }

        GH.RapidBoard.ViewController.resetInsightPanelOpen();

        // set the selected issue key
        GH.DetailsView.setSelectedIssueKey(issueKey);

        DeferredResourcesLoader.handleDeferredResourceImport((!GH.DetailsView || !GH.DetailsView.show), () => {
            // simply trigger show again
            GH.DetailsView.show(null, shortcutAction);
        });
    };

    GH.WorkController.issueModalApi = function () {
        return IssueModal;
    };

    /**
     * Shows issue modal (Bento) when frontend is ready
     */
    GH.WorkController.showIssueModalIfNeeded = function () {

        if (
            GH.WorkSelectionController.getSelectedIssueKey() &&
            GH.RapidBoard.State.isNewIssueViewEnabled() &&
            !GH.WorkView.isIssueModalOpened() &&
            !GH.DetailsView.opts.isUsingBentoSidebarOnBoard
        ) {
            var modal = GH.RapidBoard.UrlState.getCurrentUrlState().modal;

            /*
             *  Note - this only triggers when the page loads with Bento enabled,
             *  not when Bento is manually brought up from a board, despite
             *  modal=detail being in the url in both cases
             */
            if (modal === 'detail') {
                const ContainerAPI = require("jira/container-api");
                const logger = require("jira/util/safe-logger");

                const openIssueModal = () => IssueModal.done(() =>
                    GH.WorkView.displayIssueModal({
                        loadedWithInitialPageLoad: true
                    })
                );

                if (ContainerAPI.getIsIframe()) {
                    let timeoutMultiplier = 1;
                    const recursivePromise = () =>
                        // wait for modal handlers to load
                        ContainerAPI.APIs.getNavigationAPI()
                            .then(openIssueModal)
                            .catch(e => {
                                logger.safeError("rapidboard", "Failed to load NavigationAPI before opening Bento on try #" + timeoutMultiplier);
                                setTimeout(recursivePromise, 100 * timeoutMultiplier++);
                            });
                    recursivePromise();
                } else {
                    openIssueModal();
                }
            }
        }
    };

    /**
     * Toggles between showing and hiding the epic lozenges.
     */
    GH.WorkController.toggleEpicsShowOnWorkboard = function () {
        GH.ViewActions.toggleEpicsShowOnRapidBoard();
        GH.WorkController.updateUI();
        AJS.trigger('analyticsEvent', {
            name: `jira-software.work.boardmenu.click.${(GH.RapidBoard.State.getEpicShownOnRapidBoard() ? 'show' : 'hide')}-epic-lables`
        });
    };

    /**
     * Handles issue selection events
     */
    GH.WorkController.handleIssueSelectionEvent = function (event, issueKey) {
        // fetch the newly selected issue
        var selectedIssueKey = GH.WorkSelectionController.getSelectedIssueKey();

        // if the detail view is open we need to tell it to update as well as ensure the right pool column is shown
        if (GH.WorkController.isDetailsViewOpened()) {
            if (selectedIssueKey) {
                // set the new issue
                GH.WorkController.updateDetailViewIssue(selectedIssueKey);
            } else {
                // close it, because there is nothing to display
                GH.WorkController.closeDetailsView();
            }
        }
    };

    GH.WorkController.resolveParentTask = function (issue) {
        if (!GH.WorkController.isVisible) {
            return;
        }

        GH.Ajax.get({
            url: '/xboard/issue/subtasksInFinalColumn.json',
            data: {
                "issueId": issue.id,
                "rapidViewId": GH.WorkController.rapidViewData.id
            }
        }, 'subtaskCompletionCheck')
            .done(function (data) {
                GH.WorkController.loadTransitions(issue, data);
            })
            .fail(GH.WorkView.hideLoadingPool);
    };

    GH.WorkController.loadTransitions = function (issue, data) {
        // stop here if the pool isn't displayed anymore
        if (!GH.WorkController.isVisible) {
            return;
        }

        // load transitions if all subtasks are in the final column
        if (data.subtasksInFinalColumn) {
            // TODO Should we get a fresh parent issue from the server? Or is this good enough?
            GH.Ajax.get({
                url: '/xboard/issue/transitions.json',
                data: {
                    'issueId': issue.id
                }
            }, "loadTransitions")
                .done(function (data) {
                    // TODO Merge this and the similar code in DragAndDrop
                    var model = GH.GridDataController.getModel();

                    var columnData = _.last(model.data.columns);
                    if (!columnData) {
                        return;
                    }

                    // for each column, find the transitions that match
                    var matchingTransitions = [];
                    for (var x = 0; x < data.transitions.length; x++) {
                        for (var i = 0; i < columnData.statusIds.length; i++) {
                            if (columnData.statusIds[i] == data.transitions[x].targetStatus) {
                                matchingTransitions.push(data.transitions[x]);
                            }
                        }
                    }
                    GH.Dialogs.CompleteParentDialog.showDialog(issue, matchingTransitions, columnData);
                });
        }
    };

// Events

    /**
     * Handle issue updated events
     */
    GH.WorkController.handleIssueUpdatedEvent = function (event, data) {
        if (!GH.WorkController.isVisible) {
            return;
        }
        GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.ISSUE_UPDATE);
        var reloadAllData = false;
        var needVersionReload = false;

        const issueId = data.issueKey
            ? GH.GridDataController.getModel().getIssueIdForKey(data.issueKey)
            : parseInt(data.issueId, 10);

        // reload if the sprint field has changed
        if (data.fieldChanges) {
            // If we don't do this, stale board data (cached by the client) will be loaded into the model.
            GH.WorkDataLoader.markDirty();

            var sprintFieldChanges = data.fieldChanges[GH.SprintConfig.getSprintFieldId()];

            if (sprintFieldChanges && sprintFieldChanges.original != sprintFieldChanges.updated) {
                reloadAllData = true;
            }
            if (data.fieldId === GH.WorkController.FIX_VERSIONS_FIELD_ID) {
                needVersionReload = true;
            }
        }

        if (data.source === GH.WorkController.QUICK_EDIT || data.source === GH.WorkController.TRANSITION) {
            // Dont know which field was edited.
            GH.WorkDataLoader.markDirty();
            needVersionReload = true;
        }

        if (reloadAllData) {
            GH.WorkController.reload(GH.WorkDataLoader.LOAD_INITIATOR.INTERACTION_ISSUE_UPDATE_SPRINT_EDIT);
        } else {
            // load issue again
            GH.WorkController.loadIssue(issueId).done(function () {
                if (needVersionReload) {
                    GH.WorkController.updateVersionData();
                }
            });

            // update detail view in case the event came from quickEdit (otherwise it came from detail view, which is already
            // up to date
            if (data.source === GH.WorkController.QUICK_EDIT) {
                var editedIssueModel = GH.GridDataController.getModel().getIssueDataById(issueId);
                const isHierarchyFFEnabled = GH.RapidBoard.State.shouldUseTypeHierarchyLevel();
                if (editedIssueModel && (
                    (isHierarchyFFEnabled &&
                        editedIssueModel.typeHierarchyLevel === GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL) ||
                    (!isHierarchyFFEnabled && editedIssueModel.parentId))) {
                    const EditableDetailsViewReloadReason = require('jira-agile/rapid/ui/detail/inlineedit/details-view-reload-reason');
                    GH.WorkController.reloadDetailView(EditableDetailsViewReloadReason.SUBTASKS_CHANGED);
                } else {
                    GH.WorkController.reloadDetailView();
                }
            }

            if (data.source === GH.WorkController.TRANSITION) {
                const EditableDetailsViewReloadReason = require('jira-agile/rapid/ui/detail/inlineedit/details-view-reload-reason');
                GH.WorkController.reloadDetailView(EditableDetailsViewReloadReason.DETAILS_FIELD_CHANGED);
            }
        }
    };

    /**
     * Loads the data for an issue, and updates the view
     */
    GH.WorkController.loadIssue = function (issueId) {
        return GH.Ajax.get({
            url: '/xboard/work/issue.json',
            data: {
                'rapidViewId': GH.RapidBoard.State.getRapidViewId(),
                'issueId': issueId
            }
        }, 'loadIssue.' + issueId)
            .done(function (issue) {
                // update the data model
                var model = GH.GridDataController.getModel();
                if (!model) {
                    // could happen in case an inline edit is completed after switching from plan to work
                    return;
                }

                GH.WorkController.sendTrackEventOnIssueLoaded(model.data.issues[issue.key], issue);

                model.updateIssueData(issue);
                // Issue Detail pre loads issue data from board for a fast loading experience,
                // when issue is update on board, we like to update cache as well.
                IssueModal.done(api => {
                    if (api && api.updateIssueData) {
                        api.updateIssueData(issue);
                    }
                });
                // Only re-render the issue if it is not being dragged (otherwise it will fly out of the user's hand).
                // It will re-render again when it is dropped.
                if (!GH.WorkDragAndDrop.isIssueBeingDragged(issue.key)) {
                    // re-render that issue
                    GH.SwimlaneView.rerenderIssue(issue.key);
                    Logger.trace('gh.work.issue.updated' + issue.key);
                }

                GH.WorkController.trigger(GH.WorkController.EVENT_NAMES.ON_ISSUE_DATA_RELOADED, issue);
            });
    };

    GH.WorkController.sendTrackEventOnIssueLoaded = function (oldIssueData, newIssueData) {

        const updatedItems = [];

        // check if status changed
        if (oldIssueData.status.id != newIssueData.status.id) {
            updatedItems.push({
                name: 'status',
                oldValId: oldIssueData.status.id,
                newValId: newIssueData.status.id,
            });
        }

        // check if status category changed
        if (oldIssueData.status.statusCategory.id != newIssueData.status.statusCategory.id) {
            updatedItems.push({
                name: 'statusCategory',
                oldValId: oldIssueData.status.statusCategory.id,
                newValId: newIssueData.status.statusCategory.id,
                oldValName: oldIssueData.status.statusCategory.key,
                newValName: newIssueData.status.statusCategory.key,
            });
        }

        // Check if any fields that we are looking for changed, if so fire off the track event
        if (updatedItems.length > 0) {
            const issue = GH.GridDataController.getModel().data.issues[oldIssueData.key];
            GH.RapidBoard.sendIssueUpdatedTrackEvent(issue, updatedItems);
        }
    };

    /**
     * Handle issue created events
     */
    GH.WorkController.handleIssueCreatedEvent = function (event, data) {
        if (!GH.WorkController.isVisible) {
            return;

        }

        GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.ISSUE_CREATE);

        // Ajax requests on Firefox fail if issued through an (escape) key event, IF the key event propagation is not stopped.
        // This event could come from quick create (create an issue with "create another" selected, then hit escape)
        // Workaround: do the actual action after a timeout, which will happen outside the keyboard event.
        setTimeout(function () {
            GH.WorkController.reloadAndSelectCreatedIssues(data, GH.WorkDataLoader.LOAD_INITIATOR.INTERACTION_ISSUE_CREATE);
        }, 0);
    };

    /**
     * Reloads the board, then selects the created issue
     */
    GH.WorkController.reloadAndSelectCreatedIssues = function (data, initiator = GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN) {
        // fetch the issues
        var issues = data.issues;
        var issueKeys = _.map(issues, function (issue) {
            return issue.issueKey;
        });

        // reload the work board
        var reloadPromise = GH.WorkController.reload(initiator);

        var matchPromise;

        // check issues can appear on board
        if (
            FeatureFlagService.isFeatureEnabled('jsw-classic-override-force-consistency-after-issue-create') &&
            (GH.RapidBoard.State.isScrumBoard() || (GH.RapidBoard.State.isKanbanBoard() && FeatureFlagService.isFeatureEnabled('jsw.classic.override.force.consistency.kanban'))) //Will remove this condition once rollout is complete
        ) {
            matchPromise = GH.RapidBoard.isIssueVisibleInRapidView(issueKeys, PageMode.WORK, GH.WorkController.rapidViewData.id);
        } else {
            matchPromise = GH.Ajax.get({
                url: '/xboard/issue/matchesBoard',
                data: {
                    rapidViewId: GH.WorkController.rapidViewData.id,
                    issueIdsOrKeys: issueKeys
                }
            }).andThen(function (result) {
                // did all issues match?
                return result.issueIdsOrKeys && result.issueIdsOrKeys.length === issueKeys.length;
            }, function () {
                // on failure (e.g. error response due to insufficient permissions), just resolve with 'false' (no match)
                return $.Deferred().resolve(false);
            });
        }

        return $.when(reloadPromise, matchPromise).done(function (reloadResult, matchResult) {
            GH.WorkController._issueCreatedCallback(issueKeys, data, matchResult);

            GH.WorkController.trigger(GH.WorkController.EVENT_NAMES.ON_ISSUE_CREATED);
        });
    };

    GH.WorkController.updateVersionData = function () {
        if (!GH.WorkController.isVisible) {
            return (new $.Deferred()).resolve();
        }

        var params = {
            rapidViewId: GH.WorkController.rapidViewData.id
        };

        return GH.Ajax.get({
            url: '/xboard/work/versions',
            data: params
        })
            .done(function (data) {
                if (GH.WorkController.isVisible) {
                    GH.WorkController.setVersionData(data.versionData);
                }
            });
    };

    /**
     * Handles loaded version data
     * @param versionData
     */
    GH.WorkController.setVersionData = function (versionData) {
        // update version data means keeping projects, but that's ok since they can't change without leaving the board
        setVersions(versionData);

        // update versions
        GH.WorkController.renderModeTools();
    };

    /**
     * Creates a callback that selects the created issues or displays a message in case creation failed
     */
    GH.WorkController._issueCreatedCallback = function (issueKeys, data, matchResult) {
        var validIssueKeys = [];
        var invalidIssueKeys = [];
        var model = GH.GridDataController.getModel();
        _.each(issueKeys, function (key) {
            if (model.isIssueValid(key)) {
                validIssueKeys.push(key);
            } else {
                invalidIssueKeys.push(key);
            }
        });

        var subtaskCreatedViaBento = BentoFeatures.isBentoEnabled() && data.isSubtask;
        var params = _.extend(data, {validIssueKeys, invalidIssueKeys});
        if (!subtaskCreatedViaBento) {
            // select issue - if it's not an epic
            if (!_.isEmpty(validIssueKeys)) {
                GH.WorkSelectionController.selectIssue(_.last(validIssueKeys)); // select last issue we created
            }
            var workModeData = _.extend({}, GH.WorkController.sprintData, {issuesMatch: matchResult});
            GH.RapidBoard.QuickCreate.showCreatedIssuesMessageNew(params, workModeData);
        }
    }

    function sprintRankIssues(issueKeys, sprintId, nextIssueKey, rankAfterKay) {
        return GH.RankController.sprintRankIssues(GH.RankingModel.getRankCustomFieldId(), issueKeys, sprintId, nextIssueKey, rankAfterKay)
            .done(function (response) {
                GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.ISSUE_RANK_ACTION);
                var promise = GH.WorkController.reload(GH.WorkDataLoader.LOAD_INITIATOR.INTERACTION_ISSUE_UPDATE_ADD_TO_SPRINT);
                promise.done(function () {
                    var model = GH.GridDataController.getModel();

                    var issueToSelect = false;
                    var issueFiltered = false;
                    _.each(issueKeys, function (issueKey) {
                        if (model.isIssueValid(issueKey)) {
                            issueToSelect = issueKey;
                        } else {
                            issueFiltered = true;
                        }
                    });

                    if (issueToSelect) {
                        GH.WorkSelectionController.selectIssue(issueToSelect);
                    }

                    if (issueFiltered) {
                        // show a message because none of the issues created were able to be shown
                        GH.Notification.showSuccess(AJS.format("Your {0,choice,1#issue has|1\u003cissues have} been added to the sprint but {0,choice,1#it is|1\u003cone or more are} not currently visible.", issueKeys.length), {timeout: 10000});
                    }
                    GH.WorkController.trigger('after:addNewIssueToSprint');
                });
            }).fail(() => {
                GH.WorkController.trigger('after:addNewIssueToSprint');
            });
    }

    GH.WorkController.addNewIssueToSprint = function (e) {
        GH.WorkController.trigger('before:addNewIssueToSprint');
        GH.Notification.clear();
        GH.WorkController.analytics.trigger("addtosprintaftercreate");
        var link = $(e.target);
        var sprintId = link.attr("data-sprint-id");
        var issueKeys = link.attr("data-issue-keys").split(",");
        var model = GH.GridDataController.getModel();
        var rankAfterKey = _.last(model.data.order);
        sprintRankIssues(issueKeys, sprintId, null, rankAfterKey);
    };

    GH.WorkController.addNewIssuesToSprintFromJFE = function (sprint, issueList) {
        var sprintId = sprint.id;
        var issueKeys = issueList.map(x => x.issueKey);
        var model = GH.GridDataController.getModel();
        var rankAfterKey = _.last(model.data.order);
        return sprintRankIssues(issueKeys, sprintId, null, rankAfterKey);
    }

    GH.WorkController.clearFilters = function () {
        var quickFilterControl = GH.WorkControls.quickfilters;
        if (quickFilterControl) {
            quickFilterControl.clearFilters();
            GH.RapidBoard.State.pushState();
        }
        // clear the selected filters on frontend
        GH.bridge.FilterBridge.clearAllFilters();
        // reload the board
        return GH.WorkController.reload();
    }

    GH.WorkController.handleIssuesRemovedFromSprint = function (event, data) {
        if (!GH.WorkController.isVisible) {
            return;
        }
        GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.ISSUE_REMOVE_FROM_SPRINT);
        // just reload
        GH.WorkController.reload(GH.WorkDataLoader.LOAD_INITIATOR.INTERACTION_ISSUE_UPDATE_REMOVE_FROM_SPRINT);
    };

    GH.WorkController.changeModeToPlan = function () {
        GH.RapidBoard.ViewController.setMode(PageMode.PLAN);
    };
    GH.WorkController.on(GH.WorkController.EVENT_NAMES.ON_PLAN_MODE, GH.WorkController.changeModeToPlan);

    GH.WorkController.clearAllFiltersAndReload = function () {
        var quickFilterControl = GH.WorkControls.quickfilters;
        if (quickFilterControl) {
            quickFilterControl.clearFilters();
            GH.RapidBoard.State.pushState();
        }

        // reload the board
        GH.WorkController.reload();
    };
    GH.WorkController.on(GH.WorkController.EVENT_NAMES.ON_ALL_FILTERS_CLEARING, GH.WorkController.clearAllFiltersAndReload);

    /**
     * Show the no mapped columns message
     */
    GH.WorkController.renderNoMappedColumnsMsg = function () {
        // check if the message is exist or not before show
        var emptyStateMsgView = $('.ghx-no-active-sprint-message');
        if (emptyStateMsgView.length > 0) {
            return;
        }

        var container = $('#ghx-work');
        // don't render if we don't have the element to render into
        if (container.length < 1) {
            return;
        }

        var ActiveSprintEmptyView = require("jira-agile/rapid/ui/work/ActiveSprintEmptyView");

        // Get the view of message
        var rapidViewId = GH.RapidBoard.State.getRapidViewId();
        var activeSprintEmptyMsg = new ActiveSprintEmptyView(false, false, rapidViewId, true, false, container);

        // check of user can edit the board or not, then show the line 2
        GH.RapidViewConfig.fetchConfiguration(rapidViewId).done(function (data) {
            GH.WorkController.trigger(GH.WorkController.EVENT_NAMES.ON_RELOAD_EMPTY_STATE_VIEW, data.canEdit);
        });

        activeSprintEmptyMsg.handleNoMappedColumnsMode();

        GH.WorkController.setActiveSprintEmptyMsg(activeSprintEmptyMsg);
    };

    GH.WorkController.handleEmptyMessageInDashboard = function () {
        if (!_.isUndefined(GH.WorkController.activeSprintEmptyMsg)) {
            GH.WorkController.activeSprintEmptyMsg.handleOnDashboardMode();
        }
    };

    GH.WorkController.setActiveSprintEmptyMsg = function (activeSprintEmptyMsg) {
        GH.WorkController.activeSprintEmptyMsg = activeSprintEmptyMsg;
    };

    GH.WorkController.collectPrintableIssues = function () {
        return {
            issues: GH.GridDataController.collectPrintableIssues(),
            viewMode: PageMode.WORK,
            boardType: GH.WorkControls.getBoardType()
        };
    };

    var fireBoardViewAnalyticsEvent = function () {
        if (GH.RapidBoard.State.getMode() === PageMode.WORK) {
            var model = GH.GridDataController.getModel();
            var issues = model.getIssues();
            var subtasks = model.getSubtasks();
            var boardType = GH.RapidBoard.State.getBoardTypeForAnalytics();
            var isModal = BentoFeatures.isBentoEnabled() && !BentoFeatures.isBentoSidebarOnBoardEnabled();

            AnalyticsClient.sendScreenEvent('boardScreen', null, {
                boardType,
                isIssueDetailVisible: GH.WorkController.isDetailsViewOpened(),
                isModal,
                isNewIssueView: BentoFeatures.isBentoEnabled(),
            })

            AJS.trigger('analyticsEvent', {
                name: 'jira-software.work.show', data: {
                    boardId: GH.RapidViewConfig.currentData.id,
                    boardType: GH.RapidBoard.State.getBoardType(),
                    subtaskCount: subtasks.length,
                    standardIssueCount: _.size(issues) - subtasks.length
                }
            });
        }
    };

    const _getProjectTypeMix = () => {
        const projects = GH.VersionController.getVersionModel().getProjects();
        const projectsCountByType = _.countBy(projects, (project) =>
            project.isSimplified ? PROJECT_TYPE.NEXT_GEN : PROJECT_TYPE.CLASSIC
        );
        if (projectsCountByType[PROJECT_TYPE.NEXT_GEN] > 0 && projectsCountByType[PROJECT_TYPE.CLASSIC] > 0) {
            return PROJECT_TYPE_MIX.NEXT_GEN_AND_CLASSIC;
        } else if (projectsCountByType[PROJECT_TYPE.NEXT_GEN] > 0) {
            return PROJECT_TYPE_MIX.NEXT_GEN_ONLY;
        } else {
            return projectsCountByType[PROJECT_TYPE.CLASSIC] > 0 ? PROJECT_TYPE_MIX.CLASSIC_ONLY : PROJECT_TYPE_MIX.UNKNOWN;
        }
    }

    var fireBoardViewTrackEvent = function () {
        const rapidViewConfig = GH.RapidViewConfig.currentData.data;

        const swimlaneIssueMapping = GH.GridDataController.model.data.swimlaneIssueMapping;
        const swimlaneKeys = Object.keys(swimlaneIssueMapping);
        const visibleSwimlanes = swimlaneKeys.filter(key => swimlaneIssueMapping[key].length > 0);

        const columnWithMax = GH.GridDataController.model.data.columns.filter(column => column.max != null);
        const numIssues = Object.values(GH.GridDataController.model.data.issues).length;
        let subTasks;
        if (GH.RapidBoard.State.shouldUseTypeHierarchyLevel()) {
            subTasks = Object.values(GH.GridDataController.model.data.issues).filter(issue => issue.typeHierarchyLevel === GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL);
        } else {
            subTasks = Object.values(GH.GridDataController.model.data.issues).filter(issue => issue.parentId != null);
        }
        const hiddenIssues = Object.values(GH.GridDataController.model.data.issues).filter(issue => issue.hidden == true);

        const sprints = GH.RapidBoard.WorkSubnavigatorContextProvider.itemList();
        const numActiveSprints = sprints?.length ?? 0;
        const issues = Object.values(GH.GridDataController.model.data.issues);
        const issueResultProjectIds = [...new Set(issues.map(i => i.projectId))];
        const activeQuickFilters = GH.WorkControls.quickfilters.getQuickFilters()
            .filter(filter => filter.isActive)
            .map(filter => filter.query);
        const quickFilters = GH.WorkControls.quickfilters.getQuickFilters()
            .map(filter => filter.query);
        const numStatuses = rapidViewConfig.columns.reduce((total, column) => total + column.statusIds.length, 0);
        const numColumnsWithMultipleStatuses = rapidViewConfig.columns.filter(column => column.statusIds.length > 1).length;

        GH.Util.promiseCast(getProjectIdToWorkflowCountTrackData()).then((projectIdToWorkflowCountData) => {
            AnalyticsClient.sendTrackEvent({
                containerType: rapidViewConfig.locationType,
                containerId: JIRA.API && JIRA.API.Projects && JIRA.API.Projects.getCurrentProjectId(true),
                objectType: 'board',
                objectId: rapidViewConfig.id,
                source: 'boardScreen',
                actionSubject: 'board',
                actionSubjectId: rapidViewConfig.id,
                action: 'viewed',
                attributes: {
                    boardId: rapidViewConfig.id,
                    boardType: GH.RapidBoard.State.getBoardTypeForAnalytics(),
                    numIssues: numIssues,
                    numSubtasks: subTasks.length,
                    numFiltered: hiddenIssues.length,
                    numColumns: rapidViewConfig.columns.length,
                    hasHorizontalScrollbar: false,
                    hasFilteredIssues: hiddenIssues.length > 0,
                    hasColumnLimits: columnWithMax.length > 0,
                    hasSwimlanes: rapidViewConfig.swimlanes.length > 0,
                    numSwimlanes: rapidViewConfig.swimlanes.length,
                    numVisibleSwimlanes: visibleSwimlanes.length,

                    // everything below this is data for next-gen eligibility
                    numProjects: issueResultProjectIds.length,
                    issueResultProjectIds,
                    hasMultipleActiveSprints: sprints && sprints.length > 1,
                    numActiveSprints,
                    quickFiltersAppliedCount: activeQuickFilters.length,
                    onlyMyIssuesQuickFilterApplied: activeQuickFilters.indexOf(GH.Components.QuickFilters.ONLY_MY_ISSUES_FILTER_QUERY) > -1,
                    recentlyUpdatedQuickFilterApplied: activeQuickFilters.indexOf(GH.Components.QuickFilters.RECENTLY_UPDATED_FILTER_QUERY) > -1,
                    quickFiltersConfiguredCount: quickFilters.length,
                    onlyMyIssuesQuickFilterConfigured: quickFilters.indexOf(GH.Components.QuickFilters.ONLY_MY_ISSUES_FILTER_QUERY) > -1,
                    recentlyUpdatedQuickFilterConfigured: quickFilters.indexOf(GH.Components.QuickFilters.RECENTLY_UPDATED_FILTER_QUERY) > -1,
                    hasDeploymentFilter: quickFilters.some(query => query.includes("deployment")),
                    hasActiveDeploymentFilter: activeQuickFilters.some(query => query.includes("deployment")),
                    planModeCardLayoutCount: rapidViewConfig.planModeExtraFieldIds.length,
                    workModeCardLayoutCount: rapidViewConfig.workModeExtraFieldIds.length,
                    swimlaneStrategy: rapidViewConfig.swimlaneStrategy,
                    swimlaneQueryCount: rapidViewConfig.swimlanes.length,
                    hasMultipleStatusesPerColumn: numStatuses > rapidViewConfig.columns.length,
                    numStatuses,
                    numStatusesByColumn: rapidViewConfig.columns.map(column => column.statusIds.length),
                    minStatusesByColumn: rapidViewConfig.columns.reduce((minStatuses, column) => Math.min(minStatuses, column.statusIds.length), numStatuses),
                    maxStatusesByColumn: rapidViewConfig.columns.reduce((maxStatuses, column) => Math.max(maxStatuses, column.statusIds.length), 0),
                    avgStatusesByColumn: numStatuses / rapidViewConfig.columns.length,
                    numColumnsWithMultipleStatuses,
                    numColumnsWithSingleStatus: rapidViewConfig.columns.length - numColumnsWithMultipleStatuses,
                    ...projectIdToWorkflowCountData,
                    is_SIMPLE_ROADMAP_enabled: rapidViewConfig.isRoadmapEnabled,
                    is_SIMPLE_ROADMAP_crossProject: rapidViewConfig.isRoadmapCrossProject,
                    projectTypeMix: _getProjectTypeMix()
                },
            });
        });
    };

    var getTransitionAnalyticAttributes = function (workflowData) {
        const workflowKeys = Object.keys(workflowData.workflowToTransitions || {});
        const allWorkflowTransitions = workflowKeys
            .map(workflowKey => workflowData.workflowToTransitions[workflowKey] || [])
            .reduce((allTransitions, transitions) => allTransitions.concat(...transitions), []);

        const countTransitions = (predicate) => allWorkflowTransitions.filter(predicate).length;
        const aggregateTransitions = (aggregator, defaultValue, predicate) =>
            workflowKeys.reduce((accumulator, workflowKey) =>
                    aggregator(accumulator, predicate
                        ? workflowData.workflowToTransitions[workflowKey].filter(predicate).length
                        : workflowData.workflowToTransitions[workflowKey].length)
                , defaultValue);

        const nonGlobalInitialPredicate = transition => !transition.isGlobal && transition.isInitial;
        const nonGlobalCustomPredicate = transition => !transition.isGlobal && !transition.isInitial;

        const numTransitions = allWorkflowTransitions.length;
        const numNonGlobalInitialTransitions = countTransitions(nonGlobalInitialPredicate);
        const numNonGlobalCustomTransitions = countTransitions(nonGlobalCustomPredicate);

        return {
            hasNonGlobalCustomTransitions: numNonGlobalCustomTransitions > 0,
            numGlobalTransitions: countTransitions(transition => transition.isGlobal),
            numNonGlobalInitialTransitions,
            numNonGlobalCustomTransitions,
            numNonGlobalTransitions: numNonGlobalInitialTransitions + numNonGlobalCustomTransitions,
            numTransitionsWithScreen: countTransitions(transition => transition.hasScreen),
            numTransitionsWithConditions: countTransitions(transition => transition.hasConditions),
            numTransitionsWithValidators: countTransitions(transition => transition.hasValidators),
            numTransitions,
            numWorkflows: Object.keys(workflowData.workflowToTransitions || {}).length,
            minTransitionsPerWorkflow: aggregateTransitions(Math.min, numTransitions),
            maxTransitionsPerWorkflow: aggregateTransitions(Math.max, 0),
            minNonGlobalCustomTransitionsPerWorkflow: aggregateTransitions(Math.min, numTransitions, nonGlobalCustomPredicate),
            maxNonGlobalCustomTransitionsPerWorkflow: aggregateTransitions(Math.max, 0, nonGlobalCustomPredicate),
        };
    };

    var getProjectIdToWorkflowCountTrackData = function () {
        let projectIdToWorkflowCount;
        const workflowDataPromise = WorkTransitionService.checkForUpdates();
        return GH.Util.promiseCast(workflowDataPromise).then((workflowData) => {
            projectIdToWorkflowCount = [];
            const projectAndIssueTypeToWorkflow = workflowData.projectAndIssueTypeToWorkflow;
            Object.keys(projectAndIssueTypeToWorkflow)
                .forEach(projectId => {
                    const workflows = Object.values(projectAndIssueTypeToWorkflow[projectId]);
                    projectIdToWorkflowCount.push({
                        projectId: projectId,
                        workflowCount: [...new Set(workflows)].length
                    })
                });

            return {
                projectIdToWorkflowCount,
                ...getTransitionAnalyticAttributes(workflowData),
            };
        })
            .catch(() => {
            })
    };

    var getBoardFailureDetail = function (failureReason, rapidboard, filters, errorMessage) {
        return {
            reason: failureReason,
            statusCode: '[unknown]',
            errorMessage: errorMessage,
            numEmptyBoards: rapidboard.find('.ghx-no-active-sprint-message').length,
            numColumns: rapidboard.find('.ghx-swimlane.ghx-first .ghx-columns .ghx-column').length,
            numIssues: rapidboard.find('.ghx-issue').length,
            numEmptyColumns: rapidboard.find('.ghx-sad-columns .ghx-column').length,
            haveFiltersApplied: !!filters &&
                ((filters.assigneeList && filters.assigneeList.length > 0)
                    || (filters.issueTypeList && filters.issueTypeList.length > 0)
                    || (filters.searchText && filters.searchText.length > 0)),
            haveQuickFiltersApplied: !!GH.WorkControls.quickfilters &&
                GH.WorkControls.quickfilters.getQuickFilters().filter(filter => filter.isActive).length > 0,
            debugAttributes: debugTaskFailSLAEvents(getLatestErrorStatusCodeForSlaEvent())
        }

    }

    function checkBoardAndFireSlaEventFromModernUtil(emptyBoard, columns, issues, emptyColumns, haveFiltersApplied, filters) {
        const statusCode = getLatestErrorStatusCodeForSlaEvent();
        // Ref: https://hello.atlassian.net/wiki/spaces/agile/pages/512782292/SWAG+response+handling+on+the+client
        let slaResult = null;
        if (GH.spa) {
            // Common util is present in JFE
            slaResult = GH.spa.slaUtil(statusCode, PageMode.WORK);
        }
        if (slaResult !== null && slaResult.state === 'success') {
            // 40x missing permission, board does not exist, not logged in, etc
            // 404 should never happen. Already checked in GH.RapidViewConfig.handleRapidLoadError()
            if (statusCode !== 404) {
                fireViewBoardSuccessSlaEvent();
            }
        } else if (statusCode === undefined || statusCode === null) {
            // If there is a failure detected from SLA utils or spa not available
            // then based on status code decide if the failure event to be fired.
            let failureReason = REASON_BOARD_CRITICAL_DATA_FAILED_UNKNOWN_REASON;
            if (GH.WorkController.sla.globalErrors.hasNonScriptError()) {
                failureReason = REASON_BOARD_CRITICAL_DATA_FAILED_FRONTEND_ERROR;
            }
            TraceUtils.startSpan('work-controller-check-board-and-fire-failed-sla', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
            if (TraceUtilsHelper.hasUserChangedRoute()) {
                // TODO : Need to remove operational event as it was added to check the frequency
                // Changing naviagtion should not be accounted as failure. Do nothing.
                AnalyticsClient.sendOperationalEvent({
                    source: 'workModeNavigation',
                    actionSubject: 'workModeNavigationFailure',
                    action: 'navigated-away',
                    attributes: {
                        reason: ROUTE_CHANGED_BEFORE_LOADING_COMPLETE,
                        numEmptyBoards: emptyBoard.length,
                        numColumns: columns.length,
                        numIssues: issues.length,
                        numEmptyColumns: emptyColumns.length,
                        haveFiltersApplied: haveFiltersApplied
                    }
                });
                clearErrorStatusCodeForSlaEvent();
                return;
            }
            fireViewBoardFailSlaEvent(getBoardFailureDetail(failureReason, rapidboard, filters, REASON_BOARD_CRITICAL_DATA_FAILED + '-unknown'));
            TraceUtils.endSpan('work-controller-check-board-and-fire-failed-sla', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        } else if (statusCode >= 500) {
            // 5XX are considered failures to meet SLA
            let [failureReason, errorMessage] = GH.WorkController.recordSqlExceptionInReasonIfPresent(statusCode);
            fireViewBoardFailSlaEvent({
                reason: failureReason,
                statusCode: statusCode,
                errorMessage: errorMessage,
                debugAttributes: debugTaskFailSLAEvents(statusCode)
            });
        }
        clearErrorStatusCodeForSlaEvent();
        return;
    }

    var checkBoardAndFireSlaEvent = function () {

        if (!GH.WorkController.isActive()) {
            // Board is not visible, probably because user has navigated away from it before the board loads. Do nothing.
            clearErrorStatusCodeForSlaEvent();
            return;
        }
        const rapidBoard = AJS.$('#ghx-work');
        const columns = rapidBoard.find('.ghx-swimlane.ghx-first .ghx-columns .ghx-column');
        const issues = rapidBoard.find('.ghx-issue');
        const emptyColumns = rapidBoard.find('.ghx-sad-columns .ghx-column');
        const emptyBoard = rapidBoard.find('.ghx-no-active-sprint-message');
        const filters = GH.WorkController.activeFilters;
        const haveFiltersApplied = filters &&
            ((filters.assigneeList && filters.assigneeList.length > 0)
                || (filters.issueTypeList && filters.issueTypeList.length > 0)
                || (filters.searchText && filters.searchText.length > 0));

        checkBoardAndFireSlaEventFromModernUtil(emptyBoard, columns, issues, emptyColumns, haveFiltersApplied, filters);
    };

    GH.WorkController.recordSqlExceptionInReasonIfPresent = function (statusCode) {
        let failureReason = REASON_BOARD_CRITICAL_DATA_FAILED_WITH_STATUS_CODE;
        let errorMessage = `${REASON_BOARD_CRITICAL_DATA_FAILED}-${statusCode}`;
        if (GH.WorkController.sla.sqlException) {
            let sqlException = GH.WorkController.sla.sqlException.toLowerCase().split('_').join('-');
            failureReason = `${REASON_BOARD_CRITICAL_DATA_FAILED}-${sqlException}`;
            errorMessage = `${REASON_BOARD_CRITICAL_DATA_FAILED}-${statusCode}-${sqlException}`;
        }
        return [failureReason, errorMessage];
    }

    const debugTaskFailSLAEvents = function (statusCode, failSource) {
        try {
            const allErrors = GH.WorkController.sla.globalErrors
                ? (GH.WorkController.sla.globalErrors.getAllErrors() || [])
                : [];
            return {
                origin: 'WorkController',
                statusCode: statusCode ? statusCode : 'unknown',
                userAgent: navigator ? navigator.userAgent : 'unknown',
                isTransition: GH.RapidBoard.State ? GH.RapidBoard.State.isFirstLoad() : 'unknown',
                isSPA: true,
                issueNumBackend: GH.RapidBoard.State.numberOfIssues.get(),
                failSource: failSource,
                setPoolDataNewFlow: GH.WorkController.sla.setPoolDataNewFlow,
                windowErrors: allErrors,
                tracerLogs: TraceUtils.getTrace(),
                href: window.location.href,
                referrer: document.referrer
            };
        } catch (ignored) {
            return {};
        }
    };


    // The 'synthetic' prop in SLA events is used to filter synthetic check (pollinator)
    // tenants out of board SLA monitoring and alerts
    var isSyntheticCheckTenant = function () {
        return FeatureFlagService.isFeatureEnabled('jsw.pollinator.tenants');
    }

    GH.WorkController.fireSlaEvent = function (action, task, additionalProperties) {
        const rapidViewConfig = GH.RapidViewConfig.currentData.data;
        AnalyticsClient.sendOperationalEvent({
            source: 'ui',
            actionSubject: 'ui',
            action: action,
            attributes: {
                task: task,
                shard: AJS.Meta.get('shard'),
                analyticsSource: GH.WorkController.sla.analyticsSource,
                application: GH.WorkController.sla.application,
                edition: GH.Util.getEdition(GH.WorkController.sla.application),
                taskId: rapidViewConfig.id,
                boardType: GH.RapidBoard.State.getBoardTypeForAnalytics(),
                isClassic: true,
                synthetic: isSyntheticCheckTenant(),
                ...additionalProperties
            }
        });
    };

    var fireViewBoardSuccessSlaEvent = function (statusCode) {
        GH.WorkController.fireSlaEvent('taskSuccess', 'viewBoard', statusCode);
    };

    var fireViewBoardFailSlaEvent = function (reason) {
        if (GH.RapidBoard.ViewController.hasTransitionedToAnotherRoute(window.location)) {
            return true;
        }
        TraceUtils.startSpan('work-controller-fire-view-board-dnd-failed-sla', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        GH.WorkController.fireSlaEvent('taskFail', 'viewBoard', reason);
        TraceUtils.endSpan('work-controller-fire-view-board-dnd-failed-sla', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        return true;
    };

    var getLatestErrorStatusCodeForSlaEvent = function () {
        TraceUtils.log('work-controller-get-latest-error-code-for-sla-event', {log: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        return GH.WorkController.sla.latestErrorStatusCode;
    };

    var clearErrorStatusCodeForSlaEvent = function () {
        try {
            TraceUtils.startSpan('work-controller-clear-sla-data', {start: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
            GH.WorkController.sla.latestErrorStatusCode = null;
            GH.WorkController.sla.setPoolDataNewFlow = null;
            TraceUtils.endSpan('work-controller-clear-sla-data', {end: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
        } finally {
            TraceUtilsHelper.flushTrace();
            TraceUtils.flushTrace();
            flushGlobalErrors();
        }
    };

    function initFiltersBridge() {
        const viewId = GH.WorkController.rapidViewData.id;
        let issueDataCacheValid = true;

        const additionalDebugAttributesForWorkController = TraceUtilsHelper.additionalDebugAttributesForWorkControllerWithoutUpdatingUniquePaths

        //initial data load needed to populate filters panel. Quick filters are not send to get full issues list
        TraceUtils.startSpan('work-controller-init-filters-bridge-get-data', {start: additionalDebugAttributesForWorkController()});
        const getDataPromise = GH.WorkDataLoader.getData(viewId);
        getDataPromise.done(function (data) {
            TraceUtils.endSpan('work-controller-init-filters-bridge-get-data', {end: additionalDebugAttributesForWorkController()});
            loadFilterPanelInitialData(data.issuesData.issues);
        });

        if (GH.WorkController.unsubscribeQuickFilterUpdate) {
            GH.WorkController.unsubscribeQuickFilterUpdate();
        }

        //filters change
        GH.WorkController.unsubscribeQuickFilterUpdate = GH.bridge.FilterBridge.on('update', (filters) => {
            const initialQuickFilterIds = GH.WorkControls.getActiveQuickFilterIds();

            GH.WorkController.activeFilters = Object.assign({}, filters, {searchText: filters.searchText.trim()});

            GH.WorkControls.setActiveQuickFilterIds(filters.quickFilterList);

            if (initialQuickFilterIds.length !== filters.quickFilterList.length || !issueDataCacheValid) {
                GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.QUICK_FILTERS_CHANGE);
            }

            GH.RapidBoard.State.pushState();

            if (initialQuickFilterIds.length !== filters.quickFilterList.length || !issueDataCacheValid) {
                BrowserMetricsUtil.triggerBefore('before:boardQuickFilter', 'boardQuickFilter');
                TraceUtils.log('work-controller-filter-bridge-on-update-get-data', {log: TraceUtilsHelper.additionalDebugAttributesForWorkController()});
                GH.WorkController.reload();
                issueDataCacheValid = true;
            } else if (GH.WorkController.initialData) {
                if (filters.searchText) {
                    BrowserMetricsUtil.triggerBefore('before:boardSearchFilter', 'boardSearchFilter');
                }
                GH.WorkController.setPoolData(GH.WorkController.initialData, true);
            }

            if (!GH.RapidBoard.State.isKanbanBoard() &&
                filters.selectedSprint &&
                GH.RapidBoard.WorkSubnavigatorContextProvider.selectedItem() !== filters.selectedSprint) {
                GH.RapidBoard.WorkSubnavigatorContextProvider.selectionHandler(filters.selectedSprint);
            }

            fireQuickFilterToggledEvent()
        });

        //issue edit/remove
        GH.WorkController.on(GH.WorkController.EVENT_NAMES.ON_ISSUE_DATA_RELOADED, () => {
            issueDataCacheValid = false;
            updateQuickFilterLists();
        });

        //issue create
        GH.WorkController.on(GH.WorkController.EVENT_NAMES.ON_ISSUE_CREATED, function () {
            issueDataCacheValid = false;
            updateQuickFilterLists();
        });

        //issue rank
        GH.WorkRanking.on(GH.WorkRanking.events.RANK_CHANGE, function () {
            issueDataCacheValid = false;
        });
        /* Currently the ActiveSprintEmptyIssueView clear filters linke, clears filters by handling the
           GH.WorkController.EVENT_NAMES.ON_ALL_FILTERS_CLEARING event. This however, does
           not clear the Sprint picker filter. To align the behaviour between the link and the new clear all
           button in the filter-panel, we are exposing the same method to our legacy-frontend via the bridge
           and calling it here when this event is heard.
         */

        GH.WorkController.on(GH.WorkController.EVENT_NAMES.ON_ALL_FILTERS_CLEARING, function () {
            GH.bridge.FilterBridge.clearAllFilters();
        });
    }

    function fireQuickFilterToggledEvent() {
        const rapidViewConfig = GH.RapidViewConfig.currentData.data;
        const activeQuickFilters = GH.WorkControls.quickfilters.getQuickFilters()
            .filter(filter => filter.isActive)
            .map(filter => filter.query);

        if (activeQuickFilters.length > 0) {
            AnalyticsClient.sendTrackEvent({
                containerType: rapidViewConfig.locationType,
                containerId: JIRA.API && JIRA.API.Projects && JIRA.API.Projects.getCurrentProjectId(),
                objectType: 'board',
                objectId: rapidViewConfig.id,
                source: 'boardScreen',
                actionSubject: 'quickFilter',
                actionSubjectId: 'applyQuickfilter',
                action: 'applied',
                attributes: {
                    boardId: rapidViewConfig.id,
                    boardType: GH.RapidBoard.State.getBoardTypeForAnalytics(),
                    quickFiltersAppliedCount: activeQuickFilters.length,
                    onlyMyIssuesQuickFilterApplied: activeQuickFilters.indexOf(GH.Components.QuickFilters.ONLY_MY_ISSUES_FILTER_QUERY) > -1,
                    recentlyUpdatedQuickFilterApplied: activeQuickFilters.indexOf(GH.Components.QuickFilters.RECENTLY_UPDATED_FILTER_QUERY) > -1,
                    customQuickFilterApplied: activeQuickFilters.some(query => query !== GH.Components.QuickFilters.ONLY_MY_ISSUES_FILTER_QUERY && query !== GH.Components.QuickFilters.RECENTLY_UPDATED_FILTER_QUERY),
                    hasActiveDeploymentFilter: activeQuickFilters.some(query => query.includes("deployment")),
                },
            });
        }
    }

    /**
     * Filters issues using client-side filters. Returns the filtered result.
     * @param {Array} array of issues to filter.
     * @return {Array} array of issues with the hidden property
     * set to true if they have been filtered out.
     */
    GH.WorkController.getFilteredIssues = (issues) => {
        const filters = GH.WorkController.activeFilters;
        const filteredIssues = [...issues];

        if (filters) {
            const boardIsDifferent = GH.WorkController.lastSeenRapidBoardId !== GH.WorkController.initialData.rapidViewId;
            if (boardIsDifferent) {
                const {isValid: isAssigneeListValid, newAssigneeList} = GH.WorkController.validateAssigneeList();

                if (!isAssigneeListValid) {
                    GH.WorkController.activeFilters.assigneeList = newAssigneeList;
                    GH.RapidBoard.State.replaceState();
                }
                GH.WorkController.lastSeenRapidBoardId = GH.WorkController.initialData.rapidViewId;
            }

            if (filters.assigneeList && filters.assigneeList.length > 0) {
                const includeUnAssignedUser = filters.assigneeList.includes(UNASSIGNED_USER_ID);

                issues = issues.filter(issue => {
                    if (includeUnAssignedUser && !issue.assigneeAccountId) {
                        return true;
                    }

                    return filters.assigneeList.indexOf(issue.assigneeAccountId) !== -1;
                });
            }

            if (filters.issueTypeList && filters.issueTypeList.length > 0) {
                issues = issues.filter(issue => {
                    return filters.issueTypeList.indexOf(issue.typeId) !== -1;
                });
            }

            if (filters.searchText && filters.searchText.length > 0) {
                issues = issues.filter(issue => {
                    return searchText(issue.assigneeName, filters.searchText)
                        || searchText(issue.summary, filters.searchText)
                        || searchText(issue.key, filters.searchText)
                        || searchText(issue.typeName, filters.searchText);
                });
            }

            // Create index for visible issues
            const isVisibleIssue = {};
            issues.forEach((issue) => {
                isVisibleIssue[issue.key] = true;
            });

            /**
             * Filter the visible issues by applying issue.hidden=true.
             * This is the same mechanism quickfilters use to hide issues.
             * However we don't want to un-hide an issue hidden by quickfilters,
             * so we'll mark an issue as 'hiddenByClientFilter' only if we did the hiding here.
             */
            filteredIssues.forEach((issue) => {
                // Un-hide issues which were hidden on a previous pass.
                if (issue.hiddenByClientFilter) {
                    issue.hidden = false;
                    issue.hiddenByClientFilter = false;
                }
                if (!issue.hidden && !isVisibleIssue[issue.key]) {
                    issue.hidden = true;
                    issue.hiddenByClientFilter = true;
                }
            });
        }
        TraceUtils.log('work-controller-get-filtered-issues', {
            log: TraceUtilsHelper.additionalDebugAttributesForWorkController(),
            numIssues: filteredIssues.length
        });
        return filteredIssues;
    };

    function updateQuickFilterSprintPicker() {
        const selectedItem = GH.RapidBoard.WorkSubnavigatorContextProvider.selectedItem();
        const items = GH.RapidBoard.WorkSubnavigatorContextProvider.itemList().reduce(function (res, itemList) {
            return res.concat(itemList);
        }, []).map(item => ({
            id: item.id,
            name: item.label,
            isActive: item.id === selectedItem,
        }));

        GH.bridge.FilterBridge.loadSprintPicker(items);
    }

    function loadFilterPanelInitialData() {
        GH.bridge.FilterBridge.reset();
        updateQuickFilterLists();
        GH.RapidBoard.updateMultilineQuickFilterToggledState();
    };

    function updateQuickFilterLists() {
        const quickFiltersList = GH.WorkControls.quickfilters.getQuickFilters().map(item => {
            return {
                ...item,
                id: parseInt(item.id, 10)
            }
        });


        GH.bridge.FilterBridge.loadQuickFilterList(quickFiltersList);

        updateQuickFilterAssignee();
        updateQuickFilterSearchText();
        GH.WorkController.isSprintSupportEnabled() && updateQuickFilterSprintPicker();
    };

    function getIssueDataFromModel() {
        const model = GH.GridDataController.getModel();
        return Object.values(model.getIssues());
    }

    // get only issues from API response which does not include missing parents issues
    function getIssueList() {
        if (GH.GridDataController.issuesData) {
            return GH.GridDataController.issuesData.issues;
        }

        return [];
    }

    function getCurrentUser() {
        const userConfig = UserData.getUserConfig();
        if (userConfig) {
            return {
                id: userConfig.accountId,
                name: userConfig.displayName,
                avatarUrl: userConfig.avatarUrl,
            };
        }
    }

    function addDefaultFiltersIfNotPresent(assigneeList, activeFilters) {
        const currentUser = getCurrentUser();
        if (currentUser && assigneeList.findIndex(assignee => assignee.id === currentUser.id) === -1) {
            currentUser.isActive = activeFilters.assigneeList ? activeFilters.assigneeList.indexOf(currentUser.id) > -1 : false;
            assigneeList.push(currentUser);
        }

        if (assigneeList.findIndex(assignee => assignee.id === UNASSIGNED_USER_ID) === -1) {
            assigneeList.push({
                id: UNASSIGNED_USER_ID,
                name: "Unassigned",
                isActive: activeFilters.assigneeList ? activeFilters.assigneeList.indexOf(UNASSIGNED_USER_ID) > -1 : false,
            });
        }
    }

    function getAssigneeList() {
        const activeFilters = GH.WorkController.activeFilters;
        const issues = getIssueList();

        const assigneeList = issues.map((item) => {
            const id = item.assigneeAccountId || UNASSIGNED_USER_ID;

            return {
                id,
                name: item.assigneeName || "Unassigned",
                avatarUrl: item.avatarUrl,
                isActive: activeFilters.assigneeList ? activeFilters.assigneeList.indexOf(id) > -1 : false
            };
        }).reduce((list, assignee) => {
            if (!list.find(i => assignee.id === i.id)) {
                return list.concat(assignee);
            }
            return list;
        }, []);

        addDefaultFiltersIfNotPresent(assigneeList, activeFilters);

        return assigneeList;
    }

    function updateQuickFilterAssignee() {
        const assigneeList = getAssigneeList();
        GH.bridge.FilterBridge.loadAssigneeList(assigneeList);
    }

    function updateQuickFilterSearchText() {
        const activeFilters = GH.WorkController.activeFilters;

        if (activeFilters.searchText) {
            GH.bridge.FilterBridge.loadSearchText(activeFilters.searchText);
        }
    }

    /**
     *
     * @param {String} haystack - the string to search in
     * @param {String} needle
     * @returns {Boolean}
     */
    function searchText(haystack, needle) {
        return haystack && (haystack.search(new RegExp(needle, 'i')) > -1);
    }

    function renderModeTools() {
        const modeTools = require('jira-agile/rapid/ui/work/mode-tools-controller');
        modeTools.render({
            hasUser: GH.UserData.hasUser(),
            workMode: GH.WorkController.isSprintSupportEnabled() ? modeTools.SPRINT : modeTools.KANBAN,
        });
    }

    function setVersions(versionData) {
        if (setVersionsLogic()) {
            GH.VersionController.setVersions(versionData);
        }
    }

    function setVersionsLogic() {
        return GH.RapidBoard.State.isKanbanBoard();
    }

}());
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkController.soy' */
// This file was automatically generated from WorkController.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.workcontroller.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.workcontroller == 'undefined') { GH.tpl.workcontroller = {}; }


GH.tpl.workcontroller.renderSkeleton = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div id="ghx-pool-column" class="' + ((opt_data.additionalClass) ? soy.$$escapeHtml(opt_data.additionalClass) : '') + '">' + ((opt_data.horizontalScrollbarEnabled) ? '<div id="ghx-pool-wrapper">' : '') + '<div id="ghx-pool" data-skate-ignore></div>' + ((opt_data.horizontalScrollbarEnabled) ? '</div>' : '') + '</div><div id="ghx-detail-view" class="ghx-detail-view"></div>';
};
if (goog.DEBUG) {
  GH.tpl.workcontroller.renderSkeleton.soyTemplateName = 'GH.tpl.workcontroller.renderSkeleton';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkDataLoader.js' */
function _toConsumableArray(a){if(Array.isArray(a)){for(var e=0,r=Array(a.length);e<a.length;e++)r[e]=a[e];return r}return Array.from(a)}!function(){GH.WorkDataLoader={},GH.WorkDataLoader.NEW_DATA_WITH_CHANGES="new data with changes",GH.WorkDataLoader.NEW_DATA_NO_CHANGE="new data no change",GH.WorkDataLoader.NO_DATA_CHANGE="no data change",GH.WorkDataLoader.currentData=void 0,GH.WorkDataLoader.loadingData=void 0;var n=require("jira-agile/rapid/board-data-loader"),s=require("jira-agile/rapid/const/PageMode"),o=require("underscore"),i=require("jira/featureflags/feature-manager"),c=require("jira-agile/rapid/trace-utils"),a=require("jira-agile/rapid/global-events"),e=void 0;a.on("pre-initialization",function(){e=require("jira-agile/rapid/ui/work/work-data-cache-service")}),GH.WorkDataLoader.getData=function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN;return GH.WorkDataLoader.getDataForViewId(a,!1,e).promise},GH.WorkDataLoader.markDirty=function(){GH.WorkDataLoader.currentData&&(GH.WorkDataLoader.currentData.dirty=!0),GH.WorkDataLoader.loadingData&&(GH.WorkDataLoader.loadingData.dirty=!0)},GH.WorkDataLoader.clearEtag=function(){GH.WorkDataLoader.currentData&&GH.WorkDataLoader.currentData.data&&delete GH.WorkDataLoader.currentData.data.etagData.etag},GH.WorkDataLoader.getDataForViewId=function(o,a){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN;if(!a&&GH.WorkDataLoader.isDataUpToDate(GH.WorkDataLoader.currentData,o))return GH.WorkDataLoader.currentData;if(GH.WorkDataLoader.isDataUpToDate(GH.WorkDataLoader.loadingData,o))return GH.WorkDataLoader.loadingData;var d=void 0===GH.WorkDataLoader.currentData,n=GH.WorkDataLoader.currentData?GH.WorkDataLoader.currentData.data:e.getData(o),s=!!n&&n.etagData.etag,D=GH.WorkDataLoader.load(o,s,!1,i),l=new AJS.$.Deferred;return D.requestPromise.done(function(a){var e,r,t=this;c.isKeyPresent("bigPipeKeyFallback")&&c.endSpan("bigPipeKeyFallback"),GH.WorkDataLoader.loadingData===D&&(GH.WorkDataLoader.currentData=GH.WorkDataLoader.loadingData,(e=a.etagData.etag===s)&&(a=n),r=i===GH.WorkDataLoader.LOAD_INITIATOR.POLLING,u(a,d,e,r),L(i),GH.WorkDataLoader.currentData.data=a,GH.WorkDataLoader.loadingData=void 0,a.issuesData?l.resolveWith(this,[a]):(c.startSpan("work-data-loader-getDataForViewId-reload"),GH.WorkDataLoader.load(o,null).requestPromise.done(function(a){c.endSpan("work-data-loader-getDataForViewId-reload"),GH.WorkDataLoader.currentData.data=a,L(i),l.resolveWith(t,[a])})))}),D.requestPromise.fail(l.reject),D.promise=l.promise(),GH.WorkDataLoader.loadingData=D,GH.WorkDataLoader.loadingData};var u=function(a,e,r,t){var o=!a.issuesData||!a.issuesData.issues,a=o?0:a.issuesData.issues.length;AJS.trigger("analyticsEvent",{name:"jira-software.work.data.cache",data:{isFirstLoad:e,isHit:r,isInvalidData:o,isPolling:t,issueCount:a}})},L=function(a){a=a===GH.WorkDataLoader.LOAD_INITIATOR.POLLING?"BoardsAllDataPolled":"BoardsAllDataFetched";GH&&GH.ECX&&GH.ECX.fireReadEvent&&GH.ECX.fireReadEvent("boardScreen",a)};GH.WorkDataLoader.isLoadingData=function(){return GH.WorkDataLoader.loadingData&&"pending"===GH.WorkDataLoader.loadingData.promise.state()},GH.WorkDataLoader.checkForUpdates=function(a){var e,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN,t=AJS.$.Deferred();return GH.WorkDataLoader.isLoadingData()?t.resolveWith(this,["ignore"]):(e=GH.WorkDataLoader.currentData.data.etagData.etag,c.startSpan("work-data-loader-check-for-updates"),(r=GH.WorkDataLoader.getDataForViewId(a,!0,r)).promise.done(function(a){c.endSpan("work-data-loader-check-for-updates"),a.etagData.etag===e?t.resolveWith(this,[GH.WorkDataLoader.NO_DATA_CHANGE]):GH.WorkController.hasDataChanged(a)?(t.resolveWith(this,[GH.WorkDataLoader.NEW_DATA_WITH_CHANGES]),i.isFeatureEnabled("jsw.classic.board.api-calls.modern-frontend")&&GH.RapidBoard.updateData&&GH.RapidBoard.updateData(a)):t.resolveWith(this,[GH.WorkDataLoader.NEW_DATA_NO_CHANGE])}),r.promise.fail(t.reject)),t.promise()},GH.WorkDataLoader.isDataUpToDate=function(a,e){if(c.startSpan("workDataLoader-isDataUpToDate",{dirty:!a||!!a.dirty}),!a||a.dirty)return c.endSpan("workDataLoader-isDataUpToDate"),!1;if(a.promise&&a.promise.isRejected())return c.appendSpanLog("workDataLoader-isDataUpToDate",{loadedFailed:!0}),c.endSpan("workDataLoader-isDataUpToDate"),!1;e=GH.WorkDataLoader.areRequestParamsUpToDate(a,e);return c.appendSpanLog("workDataLoader-isDataUpToDate",{areRequestParamsUpToDate:e}),c.endSpan("workDataLoader-isDataUpToDate"),e},GH.WorkDataLoader.areRequestParamsUpToDate=function(a,e){var r=GH.WorkControls.getActiveQuickFilterIds(),t=GH.WorkControls.getActiveSprintIds();return a.viewId===e&&o.isEqual(a.activeQuickFilters,r)&&o.isEqual(a.activeSprints,t)},GH.WorkDataLoader.LOAD_INITIATOR={UNKNOWN:"unknown",POLLING:"polling",INITIAL_LOAD:"initial_load",INTERACTION_ISSUE_CREATE:"interaction.issue_create",INTERACTION_ISSUE_UPDATE_SPRINT_EDIT:"interaction.issue_update.sprint_edit",INTERACTION_ISSUE_UPDATE_ADD_TO_SPRINT:"interaction.issue_update.add_to_sprint",INTERACTION_ISSUE_UPDATE_REMOVE_FROM_SPRINT:"interaction.issue_update.remove_from_sprint"},GH.WorkDataLoader.load=function(a,e){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:GH.WorkDataLoader.LOAD_INITIATOR.UNKNOWN,o=[].concat(_toConsumableArray(GH.WorkControls.getActiveQuickFilterIds())),i=[].concat(_toConsumableArray(GH.WorkControls.getActiveSprintIds())),d={rapidViewId:a,selectedProjectKey:GH.RapidBoard.projectKey};return o&&0<o.length&&!r&&(d.activeQuickFilters=o),i&&0<i.length&&(d.activeSprints=i),e&&(d.etag=e),d.forceConsistency=GH.ECX.shouldForceConsistency(),{viewId:a,activeQuickFilters:o,activeSprints:i,requestPromise:n.loadData(s.WORK,function(){return GH.WorkDataLoader.LOAD_INITIATOR.POLLING===t?GH.WorkDataLoader.submitPollAllDataRequest(d):GH.WorkDataLoader.submitLoadAllDataRequest(d)})}},GH.WorkDataLoader.submitLoadAllDataRequestLegacy=function(a,e){e=AJS.$.extend({},e);return e.forceConsistency=GH.ECX.shouldForceConsistency(),t("/xboard/work/allData.json",e)},GH.WorkDataLoader.submitPollAllDataRequest=function(a){return t("/xboard/work/poll.json",a)},GH.WorkDataLoader.submitLoadAllDataRequest=function(a){if(i.isFeatureEnabled("jsw.classic.board.api-calls.modern-frontend")&&GH.RapidBoard.loadData&&(GH.RapidBoard.State.isFirstLoad()||GH.RapidBoard.State.isLoadDataClaimed()))return r();return t("/xboard/work/allData.json",a)};var r=function(){var a=AJS.$.Deferred(),e=!GH.RapidBoard.State.isFirstLoad()&&!GH.RapidBoard.State.isLoadDataClaimed();GH.RapidBoard.loadData({isRefresh:e,deferred:a,mode:s.WORK}),a.fail(function(){GH.ViewActions.loadBoardSettingWhenAllDataFails()}).always(function(){GH.RapidBoard.State.setLoadDataClaimed(!1)});try{localStorage.setItem("name","Hello World!");try{localStorage.removeItem("name")}catch(a){console.warn("Remove item failed",a.toString())}}catch(a){require("jira/analytics/web-client").sendTrackEvent({source:"boardScreen",action:"viewed",actionSubject:"board",attributes:{boardId:GH.RapidBoard.State.getRapidViewId(),boardType:GH.RapidBoard.State.getBoardTypeForAnalytics(),projectId:JIRA.API.Projects.getCurrentProjectId(!0),projectType:JIRA.API.Projects.getCurrentProjectType(),isLocalStorageFull:!0}})}return a.promise()},t=function(a,e){return GH.Ajax.get({url:a,data:e,deferErrorHandling:!0},"workAllData").fail(function(a){GH.ViewActions.loadBoardSettingWhenAllDataFails()})}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkView.js' */
!function(){var t=require("jira/featureflags/feature-manager"),i=require("jira-agile/rapid/deferred-resources-loader");GH.WorkView={},GH.WorkView.isVisible=!1,GH.WorkView.detailViewOpen=!1,GH.WorkView.isRendering=!1,GH.WorkView.isGlobalIssueCreateOpen=!1,GH.WorkView.init=function(){AJS.$(GH).bind(GH.Layout.EVENT_DELAYED_RESIZE,GH.WorkView.handleResizeEvent),AJS.$(document).on("click",".js-view-actions-work .js-view-action-toggle-epics-lozenge",GH.WorkController.toggleEpicsShowOnWorkboard)};var e,o,r,n=require("jira/util/events"),a=require("jira-agile/rapid/wrm-spa-utils");GH.WorkView.show=function(){var e=require("jira-agile/rapid/ui/bento/bento-features");GH.WorkView.isVisible=!0,GH.WorkView.showLoading();var i="",o=t.isFeatureEnabled("jsw.classic.board.horizontal-scroll"),i=o?GH.tpl.workcontroller.renderSkeleton({additionalClass:"ghx-flexible-board",horizontalScrollbarEnabled:o}):GH.tpl.workcontroller.renderSkeleton({});AJS.$("#ghx-work").empty().append(i),GH.DetailsView.setContainerSelector("#ghx-detail-view"),GH.DetailsView.setOptions({canClose:!0,showActionsCog:!0,showSubtaskTab:!0,showLogWorkTrigger:!0,updateSizeHandler:GH.WorkView.updateDetailViewSize,closeHandler:GH.WorkController.closeDetailsView}),GH.WorkView.isGlobalIssueCreateOpen?GH.DetailsView.opts.isUsingBentoSidebarOnBoard=!0:GH.DetailsView.opts.isUsingBentoSidebarOnBoard=e.isUsingBentoSidebarOnBoard(),e.isBentoSidebarOnBoardEnabled()&&(AJS.$("#ghx-issue-fragment").on("hide-backlog-issue",function(){GH.DetailsView.opts.isUsingBentoSidebarOnBoard&&GH.WorkController.closeDetailsView()}),AJS.$("#ghx-issue-fragment").on("issue.details.view.switch-to-modal",function(){GH.DetailsView.opts.isUsingBentoSidebarOnBoard&&GH.WorkView.setAndShowDetailViewInModalMode()}),AJS.$("#ghx-issue-fragment").on("issue.details.view.switch-to-sidebar",function(){GH.DetailsView.opts.isUsingBentoSidebarOnBoard||GH.WorkView.setAndShowDetailViewInSidebarMode()}),AJS.$("#ghx-issue-fragment").on("issue.details.view.set-is-global-issue-create-open",function(e,i){GH.WorkView.setIsGlobalIssueCreateOpen(i)})),GH.RapidBoard.State.isKanbanBoard()&&GH.WorkView.showKanPlanAcknowledge()},GH.WorkView.getFirstColumnHeader=function(){return AJS.$(AJS.$("#ghx-column-headers .ghx-column").get(0))},GH.WorkView.hide=function(){GH.WorkView.isVisible=!1,GH.WorkView.hideLoading(),AJS.$("#ghx-detail-view").css({display:"none"}),AJS.$("#ghx-work").empty(),GH.WorkView.hideKanPlanAcknowledge()},GH.WorkView.configureUI=function(e){GH.WorkView.detailViewOpen=!!e,GH.DetailsView.setSelectedIssueKey(e)},GH.WorkView.renderPoolAndDetailView=function(){GH.WorkView.isRendering=!0,GH.WorkView.hideLoadingPool(),GH.SwimlaneView.show(),GH.WorkView.isRendering=!1},GH.WorkView.scrollIssueToView=function(){var e=GH.WorkSelectionController.getSelectedIssueKey();e&&GH.WorkSelectionController.gotoIssue(e)},GH.WorkView.setAndShowDetailViewInModalMode=function(){GH.WorkController.closeDetailsView(),GH.BoardState.setGlobalValue("ghx-issue-fragment-view-mode","modal"),GH.DetailsView.opts.isUsingBentoSidebarOnBoard=!1,GH.WorkSelectionController.getSelectedIssueKey()&&GH.WorkView.displayIssueModal()},GH.WorkView.setAndShowDetailViewInSidebarMode=function(){GH.WorkView.closeIssueModal(),GH.BoardState.setGlobalValue("ghx-issue-fragment-view-mode","sidebar"),GH.DetailsView.opts.isUsingBentoSidebarOnBoard=!0;var e=GH.WorkSelectionController.getSelectedIssueKey();e&&GH.WorkController.openDetailsView(e)},GH.WorkView.setIsGlobalIssueCreateOpen=function(e){var i=GH.WorkView.detailViewOpen;e&&(GH.WorkView.isGlobalIssueCreateOpen=!0,GH.DetailsView.opts.isUsingBentoSidebarOnBoard=!0),e||(GH.WorkView.isGlobalIssueCreateOpen=!1,e=require("jira-agile/rapid/ui/bento/bento-features"),GH.DetailsView.opts.isUsingBentoSidebarOnBoard=e.isUsingBentoSidebarOnBoard(),i&&!GH.DetailsView.opts.isUsingBentoSidebarOnBoard&&(GH.WorkController.setDetailViewOpenedState(!1),GH.RapidBoard.State.pushState(),GH.WorkView.displayIssueModal())),GH.ViewActions.updateDetailViewModeSwitch()},GH.WorkView.openOrCloseDetailView=function(e,i){GH.WorkView.configureUI(e),GH.WorkView.toggleDetailViewVisibility(),GH.WorkView.updateDetailView(i)},GH.WorkView.displayIssueModal=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.skipStateUpdate,r=e.loadedWithInitialPageLoad,a=arguments[1];GH.WorkController.issueModalApi().done(function(e){var i=GH.RapidBoard.State.getBoardType(),o=GH.RapidViewConfig.currentData.id,t=GH.WorkSelectionController.getSelectedIssueKey(),o={issueKey:t,isLoadedWithPage:r,boardType:i,boardId:o};e&&e.show?e.show(o):AJS.$("#ghx-issue-fragment").trigger("show",o),n.trigger("modify-issue-view-via-external-action",{issueKey:t,externalAction:a})}),i||(GH.RapidBoard.State.setWorkIssueModalOpened(!0),GH.RapidBoard.State.pushState())},GH.WorkView.isIssueModalOpened=function(){return AJS.$("#ghx-issue-fragment").hasClass("software-issue-app-opened")},GH.WorkView.closeIssueModal=function(){GH.WorkController.issueModalApi().done(function(e){e&&e.close?e.close():AJS.$("#ghx-issue-fragment").trigger("hide")})},GH.WorkView.updateFixedElementPositioning=function(){GH.WorkView.isVisible&&(GH.WorkControls.resizeQuickFilters(),i.handleDeferredResourceImport(!GH.DetailsView||!GH.DetailsView.updateSize,function(){GH.DetailsView.updateSize()}),GH.SwimlaneStalker.poolStalker())},GH.WorkView.updateAllSizings=function(){GH.WorkView.updateDetailViewVisibilityAndSize()},GH.WorkView.updateDetailView=function(e){GH.WorkView.skipDetailsView?delete GH.WorkView.skipDetailsView:(GH.WorkView.detailViewOpen?i.handleDeferredResourceImport(!GH.DetailsView||!GH.DetailsView.show,function(){return GH.DetailsView.show(null,e)}):i.handleDeferredResourceImport(!GH.DetailsView||!GH.DetailsView.hide,function(){return GH.DetailsView.hide()}),GH.SwimlaneStalker.poolStalker(),GH.SwimlaneView.columnWidthChanged())},GH.WorkView.skipNextDetailViewUpdate=function(){GH.WorkView.skipDetailsView=!0},GH.WorkView.getEstimatedColumnWidth=function(){var e=AJS.$("#ghx-work").width(),i=GH.WorkView.detailViewOpen?GH.DetailsView.minWidth:0,o=GH.GridDataController.getModel().getColumns().length;return Math.floor((e-i-(10*(o+1)+20))/o)},GH.WorkView.getIssueKeyDimensions=function(){var e=AJS.$("#ghx-pool .js-issue:visible").eq(0),i=parseInt(e.find(".js-key-link").css("font-size"),10);return{availableWidth:e.find(".ghx-issue-fields").width()||e.find(".ghx-stat-fields .ghx-stat-2").width(),approxCharacterWidth:i?.7*i:null}},GH.WorkView.updateMinHeightsSettings=function(){GH.WorkView.detailViewOpen?(AJS.$("#ghx-work").addClass("ghx-has-detail"),AJS.$("#ghx-detail-view").css({display:""})):(AJS.$("#ghx-detail-view").css({display:"none"}),AJS.$("#ghx-work").removeClass("ghx-has-detail"))},GH.WorkView.getBand=function(){var e=GH.WorkView.getEstimatedColumnWidth();return e<=126?1:e<=165?2:3},GH.WorkView.toggleDetailViewVisibility=function(){var e=GH.DetailsView.getContainer();GH.RapidBoard.ViewController.isInsightsPanelOpen()||GH.WorkView.detailViewOpen?(GH.DetailsView.opts.isUsingBentoSidebarOnBoard&&AJS.$("#ghx-pool-column").addClass("ghx-pool-column-compact"),e.css({display:""}),require("jira-agile/rapid/deferred-resources-loader").handleDeferredResourceImport(!GH.DetailsView||!GH.DetailsView.updateSize,function(){GH.DetailsView.updateSize()})):(AJS.$("#ghx-pool-column").removeClass("ghx-pool-column-compact"),e.css({display:"none"}));var i=AJS.$("#ghx-pool"),e=GH.WorkView.getBand();i.toggleClass("ghx-band-1",1===e).toggleClass("ghx-band-2",2===e).toggleClass("ghx-band-3",3===e)},GH.WorkView.updateDetailViewVisibilityAndSize=function(){GH.WorkView.toggleDetailViewVisibility()},GH.WorkView.updateDetailViewSize=function(){var e,i;!GH.DetailsView.opts.isUsingBentoSidebarOnBoard||0<(i=AJS.$("#ghx-detail-issue")).length&&(e=i.outerHeight(),i=AJS.$("#ghx-detail-head").outerHeight(),AJS.$("#js-detail-nav-content").css({height:e-i-13}))},GH.WorkView.showLoading=function(){AJS.$("body").addClass("ghx-loading-pool ghx-loading-quickfilter")},GH.WorkView.hideLoading=function(){AJS.$("body").removeClass("ghx-loading-pool ghx-loading-quickfilter")},GH.WorkView.hideLoadingFilter=function(){AJS.$("body").removeClass("ghx-loading-quickfilter")},GH.WorkView.showLoadingPool=function(){AJS.$("body").addClass("ghx-loading-pool"),AJS.$(".adg-throbber").show(),a.sendSpinnerShowEvent("work")},GH.WorkView.hideLoadingPool=function(){AJS.$("body").removeClass("ghx-loading-pool"),AJS.$(".adg-throbber").hide(),a.sendSpinnerHideEvent("work")},GH.WorkView.handleResizeEvent=function(){GH.WorkView.isVisible&&GH.GridDataController.getModel()&&(GH.WorkView.isRendering||(GH.WorkView.updateAllSizings(),GH.SwimlaneView.handleResizeEvent(),GH.SwimlaneStalker.poolStalker()))},e=require("jira-agile/rapid/deferred-resources-loader"),r=function(e){try{return require(e)}catch(e){return}}(o="jira-agile/rapid/ui/kanplan/kanplan-acknowledge"),GH.WorkView.showKanPlanAcknowledge=function(){e.handleDeferredResourceImport(!r,function(){(r=require(o)).show()})},GH.WorkView.hideKanPlanAcknowledge=function(){e.handleDeferredResourceImport(!r,function(){(r=require(o)).hide()})}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkControls.js' */
define("jira-agile/rapid/work/work-controls",["jquery","jira-agile/rapid/const/PageMode","jira-agile/rapid/work/quick-filters-bridge","jira/featureflags/feature-manager","jira-agile/rapid/deferred-resources-loader"],function(e,r,n,i,t){var o={rapidViewConfig:{},quickfilters:void 0,sprintfilters:void 0,init:function(){o.quickfilters=new GH.Components.QuickFilters("activeQuickFilters"),o.sprintfilters=new GH.Components.SprintFilters("workSprintFilters"),GH.Components.sprintFiltersInit(),o.sprintfilters.initializeInlineEdits(),e(document).delegate("#ghx-complete-sprint","click",o.openCompleteSprintDialog),t.handleDeferredResourceImport(!GH.Dialogs.CompleteSprintDialog,function(){e(GH).bind(GH.Dialogs.CompleteSprintDialog.EVENT_SPRINT_COMPLETED,function(i,t){e("#ghx-modes-tools .ghx-sprint-meta").remove(),GH.ReportController.selectChart("sprintRetrospective"),GH.RapidBoard.ViewController.setMode(r.REPORT),GH.SprintRetrospectiveController.sprintPicker.storeSelectedItemId(t),GH.SprintRetrospectiveController.tryMarkSprintForRetroDialog(t),GH.RapidBoard.ViewController.sidebarController.updateSidebar()})}),e(GH).bind(GH.Components.EVENT_SPRINT_UPDATED,o.handleSprintUpdated)},setRapidViewConfig:function(i){o.rapidViewConfig=i,o.quickfilters.setRapidViewConfig(i),o.sprintfilters.setRapidViewConfig(i)},hasSprints:function(){return o.sprintfilters.hasSprints()},getBoardType:function(){return o.hasSprints()?"scrum":"kanban"},setSprintData:function(i,t){this.canManageSprints=t,o.sprintfilters.setSprintData(i,t),o.sprintfilters.validateActiveSprints()},getSprintData:function(){return o.sprintfilters.getSprintData()},drawSprints:function(){GH.RapidBoard.ViewController.shouldShowSubnavigator()&&GH.RapidBoard.SubnavigatorController.render(),GH.WorkController.isSprintSupportEnabled()&&o.sprintfilters.drawSprints()},handleSprintUpdated:function(i,t){o.sprintfilters.updateSprintData(t.id,t)},handleSprintsPermissionUpdated:function(i){o.sprintfilters.updateSprintPermissionData(i)},getActiveQuickFilterIds:function(){return o.quickfilters.getActiveQuickFilters()},getActiveQuickFilterCount:function(){return o.getActiveQuickFilterIds().length},setActiveQuickFilterIds:function(i){o.quickfilters.setActiveQuickFilters(i)},getActiveSprintIds:function(){return o.sprintfilters.getActiveSprintFilters()},setActiveSprintFilterIds:function(i){o.sprintfilters.setActiveSprintFilters(i)},renderControls:function(){var i=e("#ghx-controls-work");i.empty(),o.rapidViewConfig.sprintSupportEnabled&&!GH.RapidBoard.ViewController.shouldShowSubnavigator()&&i.append(o.sprintfilters.renderComponent());var t=document.getElementById("ghx-quick-filters");n.isReactFiltersEnabled().then(function(i){i&&t&&(GH.bridge.FilterBridge.unmount(t),GH.bridge.FilterBridge.render(t))}),GH.ReleaseVersionTrigger.remove(),GH.ViewActions.setSwimlanes(!1)},updateSwimlaneOptions:function(i){GH.ViewActions.setSwimlanes(i)},openCompleteSprintDialog:function(i){i.preventDefault();var t=e(this);t.hasClass("ghx-disabled")||(i=parseInt(t.attr("data-sprint-id"),10),(t=o.sprintfilters.getSprintById(i))&&(o.sprintfilters.removeDialog(),i=GH.RapidBoard.State.getRapidViewId(),GH.Dialogs.CompleteSprintDialog.showDialog(i,t.id)))},resizeQuickFilters:function(){o.quickfilters.quickExpanderLayout({mode:r.WORK})}};return o}),AJS.namespace("GH.WorkControls",null,require("jira-agile/rapid/work/work-controls"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkUrlState.js' */
!function(){"use strict";var r=require("jira-agile/rapid/const/PageMode");GH.WorkUrlState={},GH.WorkUrlState.self="WorkUrlState",GH.WorkUrlState.isApplicable=function(e){return!e.mode||e.mode===r.WORK},GH.WorkUrlState.getNormalizedFromUrl=function(e,r){r.selectedIssue=GH.RapidBoard.UrlState.normalizeStringParam(e.selectedIssue,null),r.sprint=GH.RapidBoard.UrlState.normalizeNumberArrayParam(e.sprint),r.quickFilter=GH.RapidBoard.UrlState.normalizeNumberArrayParam(e.quickFilter),r.search=GH.RapidBoard.UrlState.normalizeStringParam(e.search,""),r.assignee=GH.RapidBoard.UrlState.normalizeStringArrayParam(e.assignee,[])},GH.WorkUrlState.toUrl=function(e,r){e.selectedIssue&&(r.selectedIssue=e.selectedIssue),0<e.sprint.length&&(r.sprint=e.sprint),0<e.quickFilter.length&&(r.quickFilter=e.quickFilter),e.search&&(r.search=encodeURIComponent(e.search)),e.assignee&&(r.assignee=e.assignee.map(function(e){return encodeURIComponent(e)}))},GH.WorkUrlState.getNormalizedFromInternal=function(e){GH.WorkController.init(),e.quickFilter=GH.WorkControls.getActiveQuickFilterIds(),e.sprint=GH.WorkControls.getActiveSprintIds(),e.selectedIssue=GH.WorkSelectionController.getSelectedIssueKey(),e.search=GH.WorkController.activeFilters.searchText||"",e.assignee=GH.WorkController.activeFilters.assigneeList||[]},GH.WorkUrlState.updateInternalFromNormalized=function(e){var r=GH.RapidBoard.UrlState.getCurrentUrlState(),r=GH.RapidBoard.UrlState.normalizeBooleanParam(r.useStoredSettings,!1);GH.WorkController.init(),r||(GH.WorkSelectionController.setIssueFromUrlState(e.selectedIssue),GH.WorkControls.setActiveQuickFilterIds(e.quickFilter),GH.WorkControls.setActiveSprintFilterIds(e.sprint),GH.WorkController.activeFilters.searchText=e.search,e.assignee&&(GH.WorkController.activeFilters.assigneeList=e.assignee))}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/SprintSelect.js' */
define("jira-agile/rapid/ui/component/sprint-select",["require"],function(e){function t(){i(this),this.singleSelect=void 0}var n=e("jquery"),r=e("jira/ajs/select/single-select"),i=e("jira-agile/rapid/events");return t.prototype.initDropdown=function(){function e(){t.trigger("change",this.value)}var t=this,i=n("#ghx-sprint-select");this.singleSelect=new r({element:i,itemAttrDisplayed:"label"}),i.on("change",e),i.on("unselect",e),n("#ghx-sprint-select-form").submit(function(){return!1})},t});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/SprintSelect.soy' */
// This file was automatically generated from SprintSelect.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.component.sprintselect.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.component == 'undefined') { GH.tpl.component = {}; }
if (typeof GH.tpl.component.sprintselect == 'undefined') { GH.tpl.component.sprintselect = {}; }


GH.tpl.component.sprintselect.renderSingleSelect = function(opt_data, opt_ignored) {
  return '<div><form id="ghx-sprint-select-form" class="aui ghx-sprint-select"><div class="field-group"><label>' + soy.$$escapeHtml('Move to') + '</label>' + GH.tpl.component.sprintselect.renderSelectElement({items: opt_data.items, selectedItem: opt_data.selectedItem, id: 'ghx-sprint-select', cssClass: 'hidden'}) + '</div></form></div>';
};
if (goog.DEBUG) {
  GH.tpl.component.sprintselect.renderSingleSelect.soyTemplateName = 'GH.tpl.component.sprintselect.renderSingleSelect';
}


GH.tpl.component.sprintselect.renderSelectElement = function(opt_data, opt_ignored) {
  var output = '<select ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' ' + ((opt_data.cssClass) ? 'class="' + soy.$$escapeHtml(opt_data.cssClass) + '"' : '') + '><option value="' + soy.$$escapeHtml(opt_data.selectedItem.id) + '" selected>' + soy.$$escapeHtml(opt_data.selectedItem.name) + '</option>';
  var itemList30 = opt_data.items;
  var itemListLen30 = itemList30.length;
  for (var itemIndex30 = 0; itemIndex30 < itemListLen30; itemIndex30++) {
    var itemData30 = itemList30[itemIndex30];
    output += (itemData30.id != opt_data.selectedItem.id) ? '<option value="' + soy.$$escapeHtml(itemData30.id) + '">' + soy.$$escapeHtml(itemData30.name) + '</option>' : '';
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.component.sprintselect.renderSelectElement.soyTemplateName = 'GH.tpl.component.sprintselect.renderSelectElement';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/jquery/flot/jquery.flot.js' */
!function(a){a.color={},a.color.make=function(t,e,i,n){var o={};return o.r=t||0,o.g=e||0,o.b=i||0,o.a=null!=n?n:1,o.add=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]+=e;return o.normalize()},o.scale=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]*=e;return o.normalize()},o.toString=function(){return 1<=o.a?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,i){return e<t?t:i<e?i:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return a.color.make(o.r,o.b,o.g,o.a)},o.normalize()},a.color.extract=function(t,e){for(var i;(""==(i=t.css(e).toLowerCase())||"transparent"==i)&&(t=t.parent(),!a.nodeName(t.get(0),"body")););return a.color.parse(i="rgba(0, 0, 0, 0)"==i?"transparent":i)},a.color.parse=function(t){var e,i=a.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return i(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return i(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));t=a.trim(t).toLowerCase();return"transparent"==t?i(255,255,255,0):i((e=n[t]||[0,0,0])[0],e[1],e[2])};var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(_){function n(h,t,e,n){var M=[],w={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},o=null,a=null,u=null,g=null,l=null,x=[],b=[],v={left:0,right:0,top:0,bottom:0},k=0,y=0,T=0,C=0,S={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},z=this;function A(t,e){e=[z].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function r(t){M=function(t){for(var e=[],i=0;i<t.length;++i){var n=_.extend(!0,{},w.series);null!=t[i].data?(n.data=t[i].data,delete t[i].data,_.extend(!0,n,t[i]),t[i].data=n.data):n.data=t[i],e.push(n)}return e}(t),function(){var t,e=M.length,i=[],n=[];for(t=0;t<M.length;++t){var o=M[t].color;null!=o&&(--e,"number"==typeof o?n.push(o):i.push(_.color.parse(M[t].color)))}for(t=0;t<n.length;++t)e=Math.max(e,n[t]+1);var a,r=[],l=0;t=0;for(;r.length<e;){a=w.colors.length==t?_.color.make(100,100,100):_.color.parse(w.colors[t]);var s=l%2==1?-1:1;a.scale("rgb",1+s*Math.ceil(l/2)*.2),r.push(a),++t>=w.colors.length&&(t=0,++l)}var c,u=0;for(t=0;t<M.length;++t){if(null==(c=M[t]).color?(c.color=r[u].toString(),++u):"number"==typeof c.color&&(c.color=r[c.color].toString()),null==c.lines.show){var h,f=!0;for(h in c)if(c[h]&&c[h].show){f=!1;break}f&&(c.lines.show=!0)}c.xaxis=m(x,d(c,"x")),c.yaxis=m(b,d(c,"y"))}}(),function(){var t,e,i,n,o,a,r,l,s,c,u=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function d(t,e,i){e<t.datamin&&e!=-f&&(t.datamin=e),i>t.datamax&&i!=f&&(t.datamax=i)}for(_.each(W(),function(t,e){e.datamin=u,e.datamax=h,e.used=!1}),t=0;t<M.length;++t)(o=M[t]).datapoints={points:[]},A(S.processRawData,[o,o.data,o.datapoints]);for(t=0;t<M.length;++t){var m=(o=M[t]).data,p=o.datapoints.format;if(p||((p=[]).push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),(o.bars.show||o.lines.show&&o.lines.fill)&&(p.push({y:!0,number:!0,required:!1,defaultValue:0}),o.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)),o.datapoints.format=p),null==o.datapoints.pointsize)for(o.datapoints.pointsize=p.length,r=o.datapoints.pointsize,a=o.datapoints.points,insertSteps=o.lines.show&&o.lines.steps,o.xaxis.used=o.yaxis.used=!0,e=i=0;e<m.length;++e,i+=r){var x=null==(c=m[e]);if(!x)for(n=0;n<r;++n)l=c[n],(s=p[n])&&(s.number&&null!=l&&(l=+l,isNaN(l)?l=null:l==1/0?l=f:l==-1/0&&(l=-f)),null==l&&(s.required&&(x=!0),null!=s.defaultValue&&(l=s.defaultValue))),a[i+n]=l;if(x)for(n=0;n<r;++n)null!=(l=a[i+n])&&((s=p[n]).x&&d(o.xaxis,l,l),s.y&&d(o.yaxis,l,l)),a[i+n]=null;else if(insertSteps&&0<i&&null!=a[i-r]&&a[i-r]!=a[i]&&a[i-r+1]!=a[i+1]){for(n=0;n<r;++n)a[i+r+n]=a[i+n];a[i+1]=a[i-r+1],i+=r}}}for(t=0;t<M.length;++t)o=M[t],A(S.processDatapoints,[o,o.datapoints]);for(t=0;t<M.length;++t){o=M[t],a=o.datapoints.points,r=o.datapoints.pointsize;var g,b=u,v=u,k=h,y=h;for(e=0;e<a.length;e+=r)if(null!=a[e])for(n=0;n<r;++n)l=a[e+n],(s=p[n])&&l!=f&&l!=-f&&(s.x&&(l<b&&(b=l),k<l&&(k=l)),s.y&&(l<v&&(v=l),y<l&&(y=l)));o.bars.show&&(null==o.bars.barLeft&&(o.bars.barLeft="left"==o.bars.align?0:-o.bars.barWidth/2),g=o.bars.barLeft,o.bars.horizontal?(v+=g,y+=g+o.bars.barWidth):(b+=g,k+=g+o.bars.barWidth)),d(o.xaxis,b,k),d(o.yaxis,v,y)}_.each(W(),function(t,e){e.datamin==u&&(e.datamin=null),e.datamax==h&&(e.datamax=null)})}()}function d(t,e){e=t[e+"axis"];return e="number"!=typeof(e="object"==typeof e?e.n:e)?1:e}function W(){return _.grep(x.concat(b),function(t){return t})}function f(t){for(var e,i={},n=0;n<x.length;++n)(e=x[n])&&e.used&&(i["x"+e.n]=e.c2p(t.left));for(n=0;n<b.length;++n)(e=b[n])&&e.used&&(i["y"+e.n]=e.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function m(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==x?"x":"y",options:_.extend(!0,{},t==x?w.xaxis:w.yaxis)}),t[e-1]}function s(t,e){var i=document.createElement("canvas");return i.className=e,i.width=k,i.height=y,t||_(i).css({position:"absolute",left:0,top:0}),_(i).appendTo(h),(i=!i.getContext?window.G_vmlCanvasManager.initElement(i):i).getContext("2d").save(),i}function c(){if(k=h.width(),y=h.height(),k<=0||y<=0)throw"Invalid dimensions for plot, width = "+k+", height = "+y}function p(t){t.width!=k&&(t.width=k),t.height!=y&&(t.height=y);t=t.getContext("2d");t.restore(),t.save()}function F(){var t,e=W();if(_.each(e,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,function(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),n=+(null!=e.max?e.max:t.datamax),o=n-i;{var a;0==o?(a=0==n?1:.01,null==e.min&&(i-=a),null!=e.max&&null==e.min||(n+=a)):null!=(a=e.autoscaleMargin)&&(null==e.min&&(i-=o*a)<0&&null!=t.datamin&&0<=t.datamin&&(i=0),null==e.max&&0<(n+=o*a)&&null!=t.datamax&&t.datamax<=0&&(n=0))}t.min=i,t.max=n}(e)}),allocatedAxes=_.grep(e,function(t){return t.reserveSpace}),v.left=v.right=v.top=v.bottom=0,w.grid.show){for(_.each(allocatedAxes,function(t,e){var i,n;!function(t){var e,o=t.options;e="number"==typeof o.ticks&&0<o.ticks?o.ticks:.3*Math.sqrt("x"==t.direction?k:y);var i,n,a,r,l=(t.max-t.min)/e;if("time"==o.mode){var h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},s=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],c=0;null!=o.minTickSize&&(c="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*h[o.minTickSize[1]]);for(var u=0;u<s.length-1&&!(l<(s[u][0]*h[s[u][1]]+s[u+1][0]*h[s[u+1][1]])/2&&s[u][0]*h[s[u][1]]>=c);++u);p=s[u][0],"year"==(f=s[u][1])&&(a=Math.pow(10,Math.floor(Math.log(l/h.year)/Math.LN10)),p=(r=l/h.year/a)<1.5?1:r<3?2:r<7.5?5:10,p*=a),t.tickSize=o.tickSize||[p,f],i=function(t){var e=[],i=t.tickSize[0],n=t.tickSize[1],o=new Date(t.min),a=i*h[n];"second"==n&&o.setUTCSeconds(J(o.getUTCSeconds(),i)),"minute"==n&&o.setUTCMinutes(J(o.getUTCMinutes(),i)),"hour"==n&&o.setUTCHours(J(o.getUTCHours(),i)),"month"==n&&o.setUTCMonth(J(o.getUTCMonth(),i)),"year"==n&&o.setUTCFullYear(J(o.getUTCFullYear(),i)),o.setUTCMilliseconds(0),h.minute<=a&&o.setUTCSeconds(0),h.hour<=a&&o.setUTCMinutes(0),h.day<=a&&o.setUTCHours(0),4*h.day<=a&&o.setUTCDate(1),h.year<=a&&o.setUTCMonth(0);var r=0,l=Number.NaN;do{var s,c,u=l,l=o.getTime()}while(e.push(l),"month"==n?i<1?(o.setUTCDate(1),s=o.getTime(),o.setUTCMonth(o.getUTCMonth()+1),c=o.getTime(),o.setTime(l+r*h.hour+(c-s)*i),r=o.getUTCHours(),o.setUTCHours(0)):o.setUTCMonth(o.getUTCMonth()+i):"year"==n?o.setUTCFullYear(o.getUTCFullYear()+i):o.setTime(l+a),l<t.max&&l!=u);return e},n=function(t,e){var i=new Date(t);if(null!=o.timeformat)return _.plot.formatDate(i,o.timeformat,o.monthNames);var n=e.tickSize[0]*h[e.tickSize[1]],t=e.max-e.min,e=o.twelveHourClock?" %p":"";return fmt=n<h.minute?"%h:%M:%S"+e:n<h.day?t<2*h.day?"%h:%M"+e:"%b %d %h:%M"+e:n<h.month?"%b %d":n<h.year?t<h.year?"%b":"%b %y":"%y",_.plot.formatDate(i,fmt,o.monthNames)}}else{var f=o.tickDecimals,d=-Math.floor(Math.log(l)/Math.LN10);null!=f&&f<d&&(d=f),a=Math.pow(10,-d),(r=l/a)<1.5?p=1:r<3?(p=2,2.25<r&&(null==f||d+1<=f)&&(p=2.5,++d)):p=r<7.5?5:10,p*=a,null!=o.minTickSize&&p<o.minTickSize&&(p=o.minTickSize),t.tickDecimals=Math.max(0,null!=f?f:d),t.tickSize=o.tickSize||p,i=function(t){for(var e,i=[],n=J(t.min,t.tickSize),o=0,a=Number.NaN;e=a,a=n+o*t.tickSize,i.push(a),++o,a<t.max&&a!=e;);return i},n=function(t,e){return t.toFixed(e.tickDecimals)}}{var m,p;null==o.alignTicksWithAxis||(m=("x"==t.direction?x:b)[o.alignTicksWithAxis-1])&&m.used&&m!=t&&(0<(d=i(t)).length&&(null==o.min&&(t.min=Math.min(t.min,d[0])),null==o.max&&1<d.length&&(t.max=Math.max(t.max,d[d.length-1]))),i=function(t){for(var e,i=[],n=0;n<m.ticks.length;++n)e=(m.ticks[n].v-m.min)/(m.max-m.min),e=t.min+e*(t.max-t.min),i.push(e);return i},"time"!=t.mode&&null==o.tickDecimals&&(p=Math.max(0,1-Math.floor(Math.log(l)/Math.LN10)),1<(d=i(t)).length&&/\..*0$/.test((d[1]-d[0]).toFixed(p))||(t.tickDecimals=p)))}t.tickGenerator=i,_.isFunction(o.tickFormatter)?t.tickFormatter=function(t,e){return""+o.tickFormatter(t,e)}:t.tickFormatter=n}(e),function(t){var e,i,n=t.options.ticks,o=[];null==n||"number"==typeof n&&0<n?o=t.tickGenerator(t):n&&(o=_.isFunction(n)?n({min:t.min,max:t.max}):n);for(t.ticks=[],e=0;e<o.length;++e){var a=null,r=o[e];"object"==typeof r?(i=+r[0],1<r.length&&(a=r[1])):i=+r,null==a&&(a=t.tickFormatter(i,t)),isNaN(i)||t.ticks.push({v:i,label:a})}}(e),n=(i=e).ticks,i.options.autoscaleMargin&&0<n.length&&(null==i.options.min&&(i.min=Math.min(i.min,n[0].v)),null==i.options.max&&1<n.length&&(i.max=Math.max(i.max,n[n.length-1].v))),function(i){var t,e,n,o=i.options,a=i.ticks||[],r=[],l=o.labelWidth,o=o.labelHeight;function s(t,e){return _('<div style="position:absolute;top:-10000px;'+e+'font-size:smaller"><div class="'+i.direction+"Axis "+i.direction+i.n+'Axis">'+t.join("")+"</div></div>").appendTo(h)}if("x"==i.direction){if(null==l&&(l=Math.floor(k/(0<a.length?a.length:1))),null==o){for(r=[],t=0;t<a.length;++t)(e=a[t].label)&&r.push('<div class="tickLabel" style="float:left;width:'+l+'px">'+e+"</div>");0<r.length&&(r.push('<div style="clear:left"></div>'),o=(n=s(r,"width:10000px;")).height(),n.remove())}}else if(null==l||null==o){for(t=0;t<a.length;++t)(e=a[t].label)&&r.push('<div class="tickLabel">'+e+"</div>");0<r.length&&(n=s(r,""),null==l&&(l=n.children().width()),null==o&&(o=n.find("div.tickLabel").height()),n.remove())}null==o&&(o=0),i.labelWidth=l=null==l?0:l,i.labelHeight=o}(e)}),t=allocatedAxes.length-1;0<=t;--t)!function(t){var e=t.labelWidth,i=t.labelHeight,n=t.options.position,o=t.options.tickLength,a=w.grid.axisMargin,r=w.grid.labelMargin,l="x"==t.direction?x:b,s=_.grep(l,function(t){return t&&t.options.position==n&&t.reserveSpace});_.inArray(t,s)==s.length-1&&(a=0),null==o&&(o="full"),l=_.grep(l,function(t){return t&&t.reserveSpace}),(l=0==_.inArray(t,l))||"full"!=o||(o=5),isNaN(+o)||(r+=+o),"x"==t.direction?(i+=r,"bottom"==n?(v.bottom+=i+a,t.box={top:y-v.bottom,height:i}):(t.box={top:v.top+a,height:i},v.top+=i+a)):(e+=r,"left"==n?(t.box={left:v.left+a,width:e},v.left+=e+a):(v.right+=e+a,t.box={left:k-v.right,width:e})),t.position=n,t.tickLength=o,t.box.padding=r,t.innermost=l}(allocatedAxes[t]);var i,n=w.grid.minBorderMargin;if(null==n)for(t=n=0;t<M.length;++t)n=Math.max(n,M[t].points.radius+M[t].points.lineWidth/2);for(i in v)v[i]+=w.grid.borderWidth,v[i]=Math.max(n,v[i])}T=k-v.left-v.right,C=y-v.bottom-v.top,_.each(e,function(t,e){function i(t){return t}var n,o,a,r;o=(e=e).options.transform||i,a=e.options.inverseTransform,r="x"==e.direction?(n=e.scale=T/Math.abs(o(e.max)-o(e.min)),Math.min(o(e.max),o(e.min))):(n=-(n=e.scale=C/Math.abs(o(e.max)-o(e.min))),Math.max(o(e.max),o(e.min))),e.p2c=o==i?function(t){return(t-r)*n}:function(t){return(o(t)-r)*n},e.c2p=a?function(t){return a(r+t/n)}:function(t){return r+t/n}}),w.grid.show&&(_.each(allocatedAxes,function(t,e){"x"==(e=e).direction?(e.box.left=v.left,e.box.width=T):(e.box.top=v.top,e.box.height=C)}),function(){h.find(".tickLabels").remove();for(var t=['<div class="tickLabels" style="font-size:smaller">'],e=W(),i=0;i<e.length;++i){var n=e[i],o=n.box;if(n.show){t.push('<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis" style="color:'+n.options.color+'">');for(var a=0;a<n.ticks.length;++a){var r=n.ticks[a];if(!(!r.label||r.v<n.min||r.v>n.max)){var l,s={};"x"==n.direction?(l="center",s.left=Math.round(v.left+n.p2c(r.v)-n.labelWidth/2),"bottom"==n.position?s.top=o.top+o.padding:s.bottom=y-(o.top+o.height-o.padding)):(s.top=Math.round(v.top+n.p2c(r.v)-n.labelHeight/2),l="left"==n.position?"right":(s.left=o.left+o.padding,"left")),s.width=n.labelWidth;var c,u=["position:absolute","text-align:"+l];for(c in s)u.push(c+":"+s[c]+"px");t.push('<div class="tickLabel" style="'+u.join(";")+'">'+r.label+"</div>")}}t.push("</div>")}}t.push("</div>"),h.append(t.join(""))}()),function(){if(h.find(".legend").remove(),w.legend.show){for(var t,e,i,n,o,a,r=[],l=!1,s=w.legend.labelFormatter,c=0;c<M.length;++c)t=M[c],(e=t.label)&&(c%w.legend.noColumns==0&&(l&&r.push("</tr>"),r.push("<tr>"),l=!0),s&&(e=s(e,t)),r.push('<td class="legendColorBox"><div style="border:1px solid '+w.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+t.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+e+"</td>"));l&&r.push("</tr>"),0!=r.length&&(a='<table style="font-size:smaller;color:'+w.grid.color+'">'+r.join("")+"</table>",null!=w.legend.container?_(w.legend.container).html(a):(i="",n=w.legend.position,null==(o=w.legend.margin)[0]&&(o=[o,o]),"n"==n.charAt(0)?i+="top:"+(o[1]+v.top)+"px;":"s"==n.charAt(0)&&(i+="bottom:"+(o[1]+v.bottom)+"px;"),"e"==n.charAt(1)?i+="right:"+(o[0]+v.right)+"px;":"w"==n.charAt(1)&&(i+="left:"+(o[0]+v.left)+"px;"),n=_('<div class="legend">'+a.replace('style="','style="position:absolute;'+i+";")+"</div>").appendTo(h),0!=w.legend.backgroundOpacity&&(null==(o=w.legend.backgroundColor)&&((o=(o=w.grid.backgroundColor)&&"string"==typeof o?_.color.parse(o):_.color.extract(n,"background-color")).a=1,o=o.toString()),a=n.children(),_('<div style="position:absolute;width:'+a.width()+"px;height:"+a.height()+"px;"+i+"background-color:"+o+';"> </div>').prependTo(n).css("opacity",w.legend.backgroundOpacity))))}}()}function I(){g.clearRect(0,0,k,y);var t=w.grid;t.show&&t.backgroundColor&&(g.save(),g.translate(v.left,v.top),g.fillStyle=G(w.grid.backgroundColor,C,0,"rgba(255, 255, 255, 0)"),g.fillRect(0,0,T,C),g.restore()),t.show&&!t.aboveData&&N();for(var e=0;e<M.length;++e)A(S.drawSeries,[g,M[e]]),function(t){t.lines.show&&function(t){function e(t,e,i,n,o){var a=t.points,r=t.pointsize,l=null,s=null;g.beginPath();for(var c=r;c<a.length;c+=r){var u=a[c-r],h=a[c-r+1],f=a[c],d=a[c+1];if(null!=u&&null!=f){if(h<=d&&h<o.min){if(d<o.min)continue;u=(o.min-h)/(d-h)*(f-u)+u,h=o.min}else if(d<=h&&d<o.min){if(h<o.min)continue;f=(o.min-h)/(d-h)*(f-u)+u,d=o.min}if(d<=h&&h>o.max){if(d>o.max)continue;u=(o.max-h)/(d-h)*(f-u)+u,h=o.max}else if(h<=d&&d>o.max){if(h>o.max)continue;f=(o.max-h)/(d-h)*(f-u)+u,d=o.max}if(u<=f&&u<n.min){if(f<n.min)continue;h=(n.min-u)/(f-u)*(d-h)+h,u=n.min}else if(f<=u&&f<n.min){if(u<n.min)continue;d=(n.min-u)/(f-u)*(d-h)+h,f=n.min}if(f<=u&&u>n.max){if(f>n.max)continue;h=(n.max-u)/(f-u)*(d-h)+h,u=n.max}else if(u<=f&&f>n.max){if(u>n.max)continue;d=(n.max-u)/(f-u)*(d-h)+h,f=n.max}u==l&&h==s||g.moveTo(n.p2c(u)+e,o.p2c(h)+i),l=f,s=d,g.lineTo(n.p2c(f)+e,o.p2c(d)+i)}}g.stroke()}g.save(),g.translate(v.left,v.top),g.lineJoin="round";var i=t.lines.lineWidth,n=t.shadowSize;{var o;0<i&&0<n&&(g.lineWidth=n,g.strokeStyle="rgba(0,0,0,0.1)",o=Math.PI/18,e(t.datapoints,Math.sin(o)*(i/2+n/2),Math.cos(o)*(i/2+n/2),t.xaxis,t.yaxis),g.lineWidth=n/2,e(t.datapoints,Math.sin(o)*(i/2+n/4),Math.cos(o)*(i/2+n/4),t.xaxis,t.yaxis))}g.lineWidth=i,g.strokeStyle=t.color;n=D(t.lines,t.color,0,C);n&&(g.fillStyle=n,function(t,e,i){for(var n=t.points,o=t.pointsize,a=Math.min(Math.max(0,i.min),i.max),r=0,l=!1,s=1,c=0,u=0;;){if(0<o&&r>n.length+o)break;var h,f,d=n[(r+=o)-o],m=n[r-o+s],p=n[r],x=n[r+s];if(l){if(0<o&&null!=d&&null==p){u=r,o=-o,s=2;continue}if(o<0&&r==c+o){g.fill(),l=!1,s=1,r=c=u+(o=-o);continue}}if(null!=d&&null!=p){if(d<=p&&d<e.min){if(p<e.min)continue;m=(e.min-d)/(p-d)*(x-m)+m,d=e.min}else if(p<=d&&p<e.min){if(d<e.min)continue;x=(e.min-d)/(p-d)*(x-m)+m,p=e.min}if(p<=d&&d>e.max){if(p>e.max)continue;m=(e.max-d)/(p-d)*(x-m)+m,d=e.max}else if(d<=p&&p>e.max){if(d>e.max)continue;x=(e.max-d)/(p-d)*(x-m)+m,p=e.max}l||(g.beginPath(),g.moveTo(e.p2c(d),i.p2c(a)),l=!0),m>=i.max&&x>=i.max?(g.lineTo(e.p2c(d),i.p2c(i.max)),g.lineTo(e.p2c(p),i.p2c(i.max))):m<=i.min&&x<=i.min?(g.lineTo(e.p2c(d),i.p2c(i.min)),g.lineTo(e.p2c(p),i.p2c(i.min))):(h=d,f=p,m<=x&&m<i.min&&x>=i.min?(d=(i.min-m)/(x-m)*(p-d)+d,m=i.min):x<=m&&x<i.min&&m>=i.min&&(p=(i.min-m)/(x-m)*(p-d)+d,x=i.min),x<=m&&m>i.max&&x<=i.max?(d=(i.max-m)/(x-m)*(p-d)+d,m=i.max):m<=x&&x>i.max&&m<=i.max&&(p=(i.max-m)/(x-m)*(p-d)+d,x=i.max),d!=h&&g.lineTo(e.p2c(h),i.p2c(m)),g.lineTo(e.p2c(d),i.p2c(m)),g.lineTo(e.p2c(p),i.p2c(x)),p!=f&&(g.lineTo(e.p2c(p),i.p2c(x)),g.lineTo(e.p2c(f),i.p2c(x))))}}}(t.datapoints,t.xaxis,t.yaxis));0<i&&e(t.datapoints,0,0,t.xaxis,t.yaxis);g.restore()}(t);t.bars.show&&function(u){g.save(),g.translate(v.left,v.top),g.lineWidth=u.bars.lineWidth,g.strokeStyle=u.color;var t=u.bars.barLeft,e=u.bars.fill?function(t,e){return D(u.bars,u.color,t,e)}:null;(function(t,e,i,n,o,a,r){for(var l=t.points,s=t.pointsize,c=0;c<l.length;c+=s)null!=l[c]&&L(l[c],l[c+1],l[c+2],e,i,n,o,a,r,g,u.bars.horizontal,u.bars.lineWidth)})(u.datapoints,t,t+u.bars.barWidth,0,e,u.xaxis,u.yaxis),g.restore()}(t);t.points.show&&function(t){function e(t,e,i,n,o,a,r,l){for(var s=t.points,c=t.pointsize,u=0;u<s.length;u+=c){var h=s[u],f=s[u+1];null==h||h<a.min||h>a.max||f<r.min||f>r.max||(g.beginPath(),h=a.p2c(h),f=r.p2c(f)+n,"circle"==l?g.arc(h,f,e,0,o?Math.PI:2*Math.PI,!1):l(g,h,f,e,o),g.closePath(),i&&(g.fillStyle=i,g.fill()),g.stroke())}}g.save(),g.translate(v.left,v.top);var i=t.points.lineWidth,n=t.shadowSize,o=t.points.radius,a=t.points.symbol;0<i&&0<n&&(n=n/2,g.lineWidth=n,g.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,o,null,n+n/2,!0,t.xaxis,t.yaxis,a),g.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,o,null,n/2,!0,t.xaxis,t.yaxis,a));g.lineWidth=i,g.strokeStyle=t.color,e(t.datapoints,o,D(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),g.restore()}(t)}(M[e]);A(S.draw,[g]),t.show&&t.aboveData&&N()}function U(t,e){var n,o,a,r,l,s=W();for(i=0;i<s.length;++i)if((n=s[i]).direction==e&&t[o=!t[o=e+n.n+"axis"]&&1==n.n?e+"axis":o]){r=t[o].from,l=t[o].to;break}return t[o]||(n=("x"==e?x:b)[0],r=t[e+"1"],l=t[e+"2"]),null!=r&&null!=l&&l<r&&(a=r,r=l,l=a),{from:r,to:l,axis:n}}function N(){var t;g.save(),g.translate(v.left,v.top);var e=w.grid.markings;if(e)for(_.isFunction(e)&&((a=z.getAxes()).xmin=a.xaxis.min,a.xmax=a.xaxis.max,a.ymin=a.yaxis.min,a.ymax=a.yaxis.max,e=e(a)),t=0;t<e.length;++t){var i=e[t],n=U(i,"x"),o=U(i,"y");null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),n.to<n.axis.min||n.from>n.axis.max||o.to<o.axis.min||o.from>o.axis.max||(n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),n.from==n.to&&o.from==o.to||(n.from=n.axis.p2c(n.from),n.to=n.axis.p2c(n.to),o.from=o.axis.p2c(o.from),o.to=o.axis.p2c(o.to),n.from==n.to||o.from==o.to?(g.beginPath(),g.strokeStyle=i.color||w.grid.markingsColor,g.lineWidth=i.lineWidth||w.grid.markingsLineWidth,g.moveTo(n.from,o.from),g.lineTo(n.to,o.to),g.stroke()):(g.fillStyle=i.color||w.grid.markingsColor,g.fillRect(n.from,o.to,n.to-n.from,o.from-o.to))))}for(var a=W(),r=w.grid.borderWidth,l=0;l<a.length;++l){var s,c,u,h=a[l],f=h.box,d=h.tickLength;if(h.show&&0!=h.ticks.length){for(g.strokeStyle=h.options.tickColor||_.color.parse(h.options.color).scale("a",.22).toString(),g.lineWidth=1,"x"==h.direction?(s=0,c="full"==d?"top"==h.position?0:C:f.top-v.top+("top"==h.position?f.height:0)):(c=0,s="full"==d?"left"==h.position?0:T:f.left-v.left+("left"==h.position?f.width:0)),h.innermost||(g.beginPath(),p=u=0,"x"==h.direction?p=T:u=C,1==g.lineWidth&&(s=Math.floor(s)+.5,c=Math.floor(c)+.5),g.moveTo(s,c),g.lineTo(s+p,c+u),g.stroke()),g.beginPath(),t=0;t<h.ticks.length;++t){var m=h.ticks[t].v,p=u=0;m<h.min||m>h.max||"full"==d&&0<r&&(m==h.min||m==h.max)||("x"==h.direction?(s=h.p2c(m),u="full"==d?-C:d,"top"==h.position&&(u=-u)):(c=h.p2c(m),p="full"==d?-T:d,"left"==h.position&&(p=-p)),1==g.lineWidth&&("x"==h.direction?s=Math.floor(s)+.5:c=Math.floor(c)+.5),g.moveTo(s,c),g.lineTo(s+p,c+u))}g.stroke()}}r&&(g.lineWidth=r,g.strokeStyle=w.grid.borderColor,g.strokeRect(-r/2,-r/2,T+r,C+r)),g.restore()}function L(t,e,i,n,o,a,r,l,s,c,u,h){var f,d,m,p,x,g,b,v,k;u?(x=!(v=g=b=!0),p=e+n,m=e+o,(d=t)<(f=i)&&(k=d,d=f,f=k,g=!(x=!0))):(v=!(x=g=b=!0),f=t+n,d=t+o,(p=e)<(m=i)&&(k=p,p=m,m=k,b=!(v=!0))),d<l.min||f>l.max||p<s.min||m>s.max||(f<l.min&&(f=l.min,x=!1),d>l.max&&(d=l.max,g=!1),m<s.min&&(m=s.min,v=!1),p>s.max&&(p=s.max,b=!1),f=l.p2c(f),m=s.p2c(m),d=l.p2c(d),p=s.p2c(p),r&&(c.beginPath(),c.moveTo(f,m),c.lineTo(f,p),c.lineTo(d,p),c.lineTo(d,m),c.fillStyle=r(m,p),c.fill()),0<h&&(x||g||b||v)&&(c.beginPath(),c.moveTo(f,m+a),x?c.lineTo(f,p+a):c.moveTo(f,p+a),b?c.lineTo(d,p+a):c.moveTo(d,p+a),g?c.lineTo(d,m+a):c.moveTo(d,m+a),v?c.lineTo(f,m+a):c.moveTo(f,m+a),c.stroke()))}function D(t,e,i,n){var o=t.fill;if(!o)return null;if(t.fillColor)return G(t.fillColor,i,n,e);e=_.color.parse(e);return e.a="number"==typeof o?o:.4,e.normalize(),e.toString()}z.setData=r,z.setupGrid=F,z.draw=I,z.getPlaceholder=function(){return h},z.getCanvas=function(){return o},z.getPlotOffset=function(){return v},z.width=function(){return T},z.height=function(){return C},z.offset=function(){var t=u.offset();return t.left+=v.left,t.top+=v.top,t},z.getData=function(){return M},z.getAxes=function(){var i={};return _.each(x.concat(b),function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),i},z.getXAxes=function(){return x},z.getYAxes=function(){return b},z.c2p=f,z.p2c=function(t){var e,i,n,o={};for(e=0;e<x.length;++e)if((i=x[e])&&i.used&&(n="x"+i.n,null==t[n]&&1==i.n&&(n="x"),null!=t[n])){o.left=i.p2c(t[n]);break}for(e=0;e<b.length;++e)if((i=b[e])&&i.used&&(n="y"+i.n,null==t[n]&&1==i.n&&(n="y"),null!=t[n])){o.top=i.p2c(t[n]);break}return o},z.getOptions=function(){return w},z.highlight=X,z.unhighlight=B,z.triggerRedrawOverlay=E,z.pointOffset=function(t){return{left:parseInt(x[d(t,"x")-1].p2c(+t.x)+v.left),top:parseInt(b[d(t,"y")-1].p2c(+t.y)+v.top)}},z.shutdown=function(){H&&clearTimeout(H);u.unbind("mousemove",O),u.unbind("mouseleave",Y),u.unbind("click",j),A(S.shutdown,[u])},z.resize=function(){c(),p(o),p(a)},z.hooks=S,function(){for(var t=0;t<n.length;++t){var e=n[t];e.init(z),e.options&&_.extend(!0,w,e.options)}}(),function(t){var e,i;_.extend(!0,w,t),null==w.xaxis.color&&(w.xaxis.color=w.grid.color);null==w.yaxis.color&&(w.yaxis.color=w.grid.color);null==w.xaxis.tickColor&&(w.xaxis.tickColor=w.grid.tickColor);null==w.yaxis.tickColor&&(w.yaxis.tickColor=w.grid.tickColor);null==w.grid.borderColor&&(w.grid.borderColor=w.grid.color);null==w.grid.tickColor&&(w.grid.tickColor=_.color.parse(w.grid.color).scale("a",.22).toString());for(e=0;e<Math.max(1,w.xaxes.length);++e)w.xaxes[e]=_.extend(!0,{},w.xaxis,w.xaxes[e]);for(e=0;e<Math.max(1,w.yaxes.length);++e)w.yaxes[e]=_.extend(!0,{},w.yaxis,w.yaxes[e]);w.xaxis.noTicks&&null==w.xaxis.ticks&&(w.xaxis.ticks=w.xaxis.noTicks);w.yaxis.noTicks&&null==w.yaxis.ticks&&(w.yaxis.ticks=w.yaxis.noTicks);w.x2axis&&(w.xaxes[1]=_.extend(!0,{},w.xaxis,w.x2axis),w.xaxes[1].position="top");w.y2axis&&(w.yaxes[1]=_.extend(!0,{},w.yaxis,w.y2axis),w.yaxes[1].position="right");w.grid.coloredAreas&&(w.grid.markings=w.grid.coloredAreas);w.grid.coloredAreasColor&&(w.grid.markingsColor=w.grid.coloredAreasColor);w.lines&&_.extend(!0,w.series.lines,w.lines);w.points&&_.extend(!0,w.series.points,w.points);w.bars&&_.extend(!0,w.series.bars,w.bars);null!=w.shadowSize&&(w.series.shadowSize=w.shadowSize);for(e=0;e<w.xaxes.length;++e)m(x,e+1).options=w.xaxes[e];for(e=0;e<w.yaxes.length;++e)m(b,e+1).options=w.yaxes[e];for(i in S)w.hooks[i]&&w.hooks[i].length&&(S[i]=S[i].concat(w.hooks[i]));A(S.processOptions,[w])}(e),function(){var t=h.children("canvas.base"),e=h.children("canvas.overlay");e=0==t.length||0==e?(h.html(""),h.css({padding:0}),"static"==h.css("position")&&h.css("position","relative"),c(),o=s(!0,"base"),a=s(!1,"overlay"),!1):(o=t.get(0),a=e.get(0),!0);g=o.getContext("2d"),l=a.getContext("2d"),u=_([a,o]),e&&(h.data("plot").shutdown(),z.resize(),l.clearRect(0,0,k,y),u.unbind(),h.children().not([o,a]).remove());h.data("plot",z)}(),r(t),F(),I(),function(){w.grid.hoverable&&(u.mousemove(O),u.mouseleave(Y));w.grid.clickable&&u.click(j);A(S.bindEvents,[u])}();var P=[],H=null;function O(t){w.grid.hoverable&&R("plothover",t,function(t){return 0!=t.hoverable})}function Y(t){w.grid.hoverable&&R("plothover",t,function(t){return!1})}function j(t){R("plotclick",t,function(t){return 0!=t.clickable})}function R(t,e,i){var n=u.offset(),o=e.pageX-n.left-v.left,a=e.pageY-n.top-v.top,r=f({left:o,top:a});r.pageX=e.pageX,r.pageY=e.pageY;var l=function(t,e,i){for(var n=w.grid.mouseActiveRadius,o=n*n+1,a=null,r=M.length-1;0<=r;--r)if(i(M[r])){var l=M[r],s=l.xaxis,c=l.yaxis,u=l.datapoints.points,h=l.datapoints.pointsize,f=s.c2p(t),d=c.c2p(e),m=n/s.scale,p=n/c.scale;if(s.options.inverseTransform&&(m=Number.MAX_VALUE),c.options.inverseTransform&&(p=Number.MAX_VALUE),l.lines.show||l.points.show)for(y=0;y<u.length;y+=h){var x,g=u[y],b=u[y+1];null!=g&&(m<g-f||g-f<-m||p<b-d||b-d<-p||(x=(x=Math.abs(s.p2c(g)-t))*x+(x=Math.abs(c.p2c(b)-e))*x)<o&&(o=x,a=[r,y/h]))}if(l.bars.show&&!a)for(var v=l.bars.barLeft,k=v+l.bars.barWidth,y=0;y<u.length;y+=h){var g=u[y],b=u[y+1],T=u[y+2];null!=g&&(M[r].bars.horizontal?f<=Math.max(T,g)&&f>=Math.min(T,g)&&b+v<=d&&d<=b+k:g+v<=f&&f<=g+k&&d>=Math.min(T,b)&&d<=Math.max(T,b))&&(a=[r,y/h])}}return a?(r=a[0],y=a[1],h=M[r].datapoints.pointsize,{datapoint:M[r].datapoints.points.slice(y*h,(y+1)*h),dataIndex:y,series:M[r],seriesIndex:r}):null}(o,a,i);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+n.left+v.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+n.top+v.top)),w.grid.autoHighlight){for(var s=0;s<P.length;++s){var c=P[s];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||B(c.series,c.point)}l&&X(l.series,l.datapoint,t)}h.trigger(t,[r,l])}function E(){H=H||setTimeout(V,30)}function V(){var t,e,i,n,o,a,r;for(H=null,l.save(),l.clearRect(0,0,k,y),l.translate(v.left,v.top),t=0;t<P.length;++t)(r=P[t]).series.bars.show?function(t,e){l.lineWidth=t.bars.lineWidth,l.strokeStyle=_.color.parse(t.color).scale("a",.5).toString();var i=_.color.parse(t.color).scale("a",.5).toString(),n=t.bars.barLeft;L(e[0],e[1],e[2]||0,n,n+t.bars.barWidth,0,function(){return i},t.xaxis,t.yaxis,l,t.bars.horizontal,t.bars.lineWidth)}(r.series,r.point):(e=r.series,i=r.point,r=a=o=n=void 0,n=i[0],o=i[1],a=e.xaxis,r=e.yaxis,n<a.min||n>a.max||o<r.min||o>r.max||(i=e.points.radius+e.points.lineWidth/2,l.lineWidth=i,l.strokeStyle=_.color.parse(e.color).scale("a",.5).toString(),i=1.5*i,n=a.p2c(n),o=r.p2c(o),l.beginPath(),"circle"==e.points.symbol?l.arc(n,o,i,0,2*Math.PI,!1):e.points.symbol(l,n,o,i,!1),l.closePath(),l.stroke()));l.restore(),A(S.drawOverlay,[l])}function X(t,e,i){"number"==typeof t&&(t=M[t]),"number"==typeof e&&(n=t.datapoints.pointsize,e=t.datapoints.points.slice(n*e,n*(e+1)));var n=q(t,e);-1==n?(P.push({series:t,point:e,auto:i}),E()):i||(P[n].auto=!1)}function B(t,e){null==t&&null==e&&(P=[],E());e=q(t="number"==typeof t?M[t]:t,e="number"==typeof e?t.data[e]:e);-1!=e&&(P.splice(e,1),E())}function q(t,e){for(var i=0;i<P.length;++i){var n=P[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function G(t,e,i,n){if("string"==typeof t)return t;for(var o=g.createLinearGradient(0,i,0,e),a=0,r=t.colors.length;a<r;++a){var l,s=t.colors[a];"string"!=typeof s&&(l=_.color.parse(n),null!=s.brightness&&(l=l.scale("rgb",s.brightness)),null!=s.opacity&&(l.a*=s.opacity),s=l.toString()),o.addColorStop(a/(r-1),s)}return o}}function J(t,e){return e*Math.floor(t/e)}_.plot=function(t,e,i){return new n(_(t),e,i,_.plot.plugins)},_.plot.version="0.7",_.plot.plugins=[],_.plot.formatDate=function(t,e,i){function n(t){return 1==(t=""+t).length?"0"+t:t}var o=[],a=!1,r=!1,l=t.getUTCHours(),s=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=e.search(/%p|%P/)&&(12<l?l-=12:0==l&&(l=12));for(var c=0;c<e.length;++c){var u=e.charAt(c);if(a){switch(u){case"h":u=""+l;break;case"H":u=n(l);break;case"M":u=n(t.getUTCMinutes());break;case"S":u=n(t.getUTCSeconds());break;case"d":u=""+t.getUTCDate();break;case"m":u=""+(t.getUTCMonth()+1);break;case"y":u=""+t.getUTCFullYear();break;case"b":u=""+i[t.getUTCMonth()];break;case"p":u=s?"am":"pm";break;case"P":u=s?"AM":"PM";break;case"0":r=!(u="")}u&&r&&(u=n(u),r=!1),o.push(u),r||(a=!1)}else"%"==u?a=!0:o.push(u)}return o.join("")}}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/jquery/flot/jquery.flot.fillbetween.js' */
jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(e,n,l){if(null!=n.fillBetween){e=function(e,n){for(var l=0;l<n.length;++l)if(n[l].id==e.fillBetween)return n[l];return"number"!=typeof e.fillBetween||(l=e.fillBetween)<0||l>=n.length?null:n[l]}(n,e.getData());if(e){for(var i,t,s,f,o,u,p=l.pointsize,r=l.points,h=e.datapoints.pointsize,a=e.datapoints.points,g=[],w=n.lines.show,c=2<p&&l.format[2].y,B=w&&n.lines.steps,b=!0,d=0,v=0;;){if(d>=r.length)break;if(u=g.length,null==r[d]){for(m=0;m<p;++m)g.push(r[d+m]);d+=p}else if(v>=a.length){if(!w)for(m=0;m<p;++m)g.push(r[d+m]);d+=p}else if(null==a[v]){for(m=0;m<p;++m)g.push(null);b=!0,v+=h}else{if(i=r[d],t=r[d+1],s=a[v],f=a[v+1],o=0,i==s){for(m=0;m<p;++m)g.push(r[d+m]);o=f,d+=p,v+=h}else if(s<i){if(w&&0<d&&null!=r[d-p]){for(t=t+(r[d-p+1]-t)*(s-i)/(r[d-p]-i),g.push(s),g.push(t),m=2;m<p;++m)g.push(r[d+m]);o=f}v+=h}else{if(b&&w){d+=p;continue}for(m=0;m<p;++m)g.push(r[d+m]);w&&0<v&&null!=a[v-h]&&(o=f+(a[v-h+1]-f)*(i-s)/(a[v-h]-s)),d+=p}b=!1,u!=g.length&&c&&(g[u+2]=o)}if(B&&u!=g.length&&0<u&&null!=g[u]&&g[u]!=g[u-p]&&g[u+1]!=g[u-p+1]){for(m=0;m<p;++m)g[u+p+m]=g[u+m];g[u+1]=g[u-p+1]}}l.points=g}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/jquery/flot/jquery.flot.stack.js' */
jQuery.plot.plugins.push({init:function(s){s.hooks.processDatapoints.push(function(s,n,t){if(null!=n.stack){s=function(s,n){for(var t=null,i=0;i<n.length&&s!=n[i];++i)n[i].stack==s.stack&&(t=n[i]);return t}(n,s.getData());if(s){for(var i,l,o,e,f,u,p=t.pointsize,r=t.points,a=s.datapoints.pointsize,h=s.datapoints.points,c=[],g=n.lines.show,s=n.bars.horizontal,k=2<p&&(s?t.format[2].x:t.format[2].y),v=g&&n.lines.steps,z=!0,b=s?1:0,d=s?0:1,y=0,D=0;;){if(y>=r.length)break;if(u=c.length,null==r[y]){for(m=0;m<p;++m)c.push(r[y+m]);y+=p}else if(D>=h.length){if(!g)for(m=0;m<p;++m)c.push(r[y+m]);y+=p}else if(null==h[D]){for(m=0;m<p;++m)c.push(null);z=!0,D+=a}else{if(i=r[y+b],l=r[y+d],o=h[D+b],e=h[D+d],f=0,i==o){for(m=0;m<p;++m)c.push(r[y+m]);c[u+d]+=e,f=e,y+=p,D+=a}else if(o<i){if(g&&0<y&&null!=r[y-p]){for(l=l+(r[y-p+d]-l)*(o-i)/(r[y-p+b]-i),c.push(o),c.push(l+e),m=2;m<p;++m)c.push(r[y+m]);f=e}D+=a}else{if(z&&g){y+=p;continue}for(m=0;m<p;++m)c.push(r[y+m]);g&&0<D&&null!=h[D-a]&&(f=e+(h[D-a+d]-e)*(i-o)/(h[D-a+b]-o)),c[u+d]+=f,y+=p}z=!1,u!=c.length&&k&&(c[u+2]+=f)}if(v&&u!=c.length&&0<u&&null!=c[u]&&c[u]!=c[u-p]&&c[u+1]!=c[u-p+1]){for(m=0;m<p;++m)c[u+p+m]=c[u+m];c[u+1]=c[u-p+1]}}t.points=c}}})},options:{series:{stack:null}},name:"stack",version:"1.2"});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/jquery/flot/jquery.flot.selection.js' */
!function(x){x.plot.plugins.push({init:function(a){var r={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},t={},o=null;function n(e){r.active&&(u(e),a.getPlaceholder().trigger("plotselecting",[i()]))}function s(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==t.onselectstart&&(t.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==t.ondrag&&(t.ondrag=document.ondrag,document.ondrag=function(){return!1}),d(r.first,e),r.active=!0,o=function(e){!function(e){o=null,void 0!==document.onselectstart&&(document.onselectstart=t.onselectstart);void 0!==document.ondrag&&(document.ondrag=t.ondrag);r.active=!1,u(e),h()?c():(a.getPlaceholder().trigger("plotunselected",[]),a.getPlaceholder().trigger("plotselecting",[null]))}(e)},x(document).one("mouseup",o))}function i(){if(!h())return null;var n={},s=r.first,i=r.second;return x.each(a.getAxes(),function(e,t){var o;t.used&&(o=t.c2p(s[t.direction]),t=t.c2p(i[t.direction]),n[e]={from:Math.min(o,t),to:Math.max(o,t)})}),n}function c(){var e=i();a.getPlaceholder().trigger("plotselected",[e]),e.xaxis&&e.yaxis&&a.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function l(e,t,o){return t<e?e:o<t?o:t}function d(e,t){var o=a.getOptions(),n=a.getPlaceholder().offset(),s=a.getPlotOffset();e.x=l(0,t.pageX-n.left-s.left,a.width()),e.y=l(0,t.pageY-n.top-s.top,a.height()),"y"==o.selection.mode&&(e.x=e==r.first?0:a.width()),"x"==o.selection.mode&&(e.y=e==r.first?0:a.height())}function u(e){null!=e.pageX&&(d(r.second,e),h()?(r.show=!0,a.triggerRedrawOverlay()):f(!0))}function f(e){r.show&&(r.show=!1,a.triggerRedrawOverlay(),e||a.getPlaceholder().trigger("plotunselected",[]))}function g(e,t){var o,n,s,i,r,c,l=a.getAxes();for(s in l)if((o=l[s]).direction==t&&e[n=!e[n=t+o.n+"axis"]&&1==o.n?t+"axis":n]){r=e[n].from,c=e[n].to;break}return e[n]||(o=("x"==t?a.getXAxes():a.getYAxes())[0],r=e[t+"1"],c=e[t+"2"]),null!=r&&null!=c&&c<r&&(i=r,r=c,c=i),{from:r,to:c,axis:o}}function h(){return 5<=Math.abs(r.second.x-r.first.x)&&5<=Math.abs(r.second.y-r.first.y)}a.clearSelection=f,a.setSelection=function(e,t){var o,n=a.getOptions();"y"==n.selection.mode?(r.first.x=0,r.second.x=a.width()):(o=g(e,"x"),r.first.x=o.axis.p2c(o.from),r.second.x=o.axis.p2c(o.to)),"x"==n.selection.mode?(r.first.y=0,r.second.y=a.height()):(o=g(e,"y"),r.first.y=o.axis.p2c(o.from),r.second.y=o.axis.p2c(o.to)),r.show=!0,a.triggerRedrawOverlay(),!t&&h()&&c()},a.getSelection=i,a.hooks.bindEvents.push(function(e,t){null!=e.getOptions().selection.mode&&(t.mousemove(n),t.mousedown(s))}),a.hooks.drawOverlay.push(function(e,t){var o,n,s;r.show&&h()&&(o=e.getPlotOffset(),n=e.getOptions(),t.save(),t.translate(o.left,o.top),s=x.color.parse(n.selection.color),t.strokeStyle=s.scale("a",.8).toString(),t.lineWidth=1,t.lineJoin="round",t.fillStyle=s.scale("a",.4).toString(),e=Math.min(r.first.x,r.second.x),o=Math.min(r.first.y,r.second.y),n=Math.abs(r.second.x-r.first.x),s=Math.abs(r.second.y-r.first.y),t.fillRect(e,o,n,s),t.strokeRect(e,o,n,s),t.restore())}),a.hooks.shutdown.push(function(e,t){t.unbind("mousemove",n),t.unbind("mousedown",s),o&&x(document).unbind("mouseup",o)})},options:{selection:{mode:null,color:"#e8cfac"}},name:"selection",version:"1.1"})}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/jquery/flot/jquery.flot.mouseenterexit.js' */
AJS.$,AJS.$.plot.plugins.push({init:function(e){e.hooks.bindEvents.push(function(t,e){e.mousemove(function(e){t.getOptions().mouseEnterExitEvents&&(t.mouseEntered||(t.mouseEntered=!0,t.getPlaceholder().trigger("flotMouseEnter",t)))}),e.mouseleave(function(e){t.getOptions().mouseEnterExitEvents&&t.mouseEntered&&(t.mouseEntered=!1,t.getPlaceholder().trigger("flotMouseLeave",t))})})},options:{mouseEnterExitEvents:!1},name:"gh-mouseenterexit-events",version:"1.0"});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/jquery/flot/jquery.flot.multi.js' */
AJS.$.plot.plugins.push({init:function(a){var p=[],u=0;function o(s,a,o,r){a.bars.show&&p.push(a)}function r(a,o,r){if(o.bars.show&&null==o.bars.barLeft){if(0==u)for(var t=0;t<p.length;t++)u+=p[t].bars.barWidth;for(var i=0,n=0;n<p.length&&(s=p[n],s!=o);n++)i+=s.bars.barWidth;o.bars.barLeft=i-u/2}}a.hooks.processOptions.push(function(s,a){a.multiplebars&&(a.multiplebars,p=[],u=0,s.hooks.processRawData.push(o),s.hooks.processDatapoints.push(r))})},options:{multiplebars:!1},name:"multiplebars",version:"0.1"});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/lzstring.js' */
var LZString=function(){function n(o,r){if(!i[o]){i[o]={};for(var n=0;n<o.length;n++)i[o][o.charAt(n)]=n}return i[o][r]}var w=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={},s={compressToBase64:function(o){if(null==o)return"";var r=s._compress(o,6,function(o){return e.charAt(o)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(r){return null==r?"":""==r?null:s._decompress(r.length,32,function(o){return n(e,r.charAt(o))})},compressToUTF16:function(o){return null==o?"":s._compress(o,15,function(o){return w(o+32)})+" "},decompressFromUTF16:function(r){return null==r?"":""==r?null:s._decompress(r.length,16384,function(o){return r.charCodeAt(o)-32})},compressToUint8Array:function(o){for(var r=s.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;e<t;e++){var i=r.charCodeAt(e);n[2*e]=i>>>8,n[2*e+1]=i%256}return n},decompressFromUint8Array:function(o){if(null==o)return s.decompress(o);for(var r=new Array(o.length/2),n=0,e=r.length;n<e;n++)r[n]=256*o[2*n]+o[2*n+1];var t=[];return r.forEach(function(o){t.push(w(o))}),s.decompress(t.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":s._compress(o,6,function(o){return t.charAt(o)})},decompressFromEncodedURIComponent:function(r){return null==r?"":""==r?null:(r=r.replace(/ /g,"+"),s._decompress(r.length,32,function(o){return n(t,r.charAt(o))}))},compress:function(o){return s._compress(o,16,function(o){return w(o)})},_compress:function(o,r,n){if(null==o)return"";for(var e,t,i,s,p={},u={},c="",a=2,l=3,f=2,h=[],d=0,m=0,v=0;v<o.length;v+=1)if(i=o.charAt(v),Object.prototype.hasOwnProperty.call(p,i)||(p[i]=l++,u[i]=!0),s=c+i,Object.prototype.hasOwnProperty.call(p,s))c=s;else{if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(e=0;e<f;e++)d<<=1,m==r-1?(m=0,h.push(n(d)),d=0):m++;for(t=c.charCodeAt(0),e=0;e<8;e++)d=d<<1|1&t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t>>=1}else{for(t=1,e=0;e<f;e++)d=d<<1|t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t=0;for(t=c.charCodeAt(0),e=0;e<16;e++)d=d<<1|1&t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t>>=1}0==--a&&(a=Math.pow(2,f),f++),delete u[c]}else for(t=p[c],e=0;e<f;e++)d=d<<1|1&t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t>>=1;0==--a&&(a=Math.pow(2,f),f++),p[s]=l++,c=String(i)}if(""!==c){if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(e=0;e<f;e++)d<<=1,m==r-1?(m=0,h.push(n(d)),d=0):m++;for(t=c.charCodeAt(0),e=0;e<8;e++)d=d<<1|1&t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t>>=1}else{for(t=1,e=0;e<f;e++)d=d<<1|t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t=0;for(t=c.charCodeAt(0),e=0;e<16;e++)d=d<<1|1&t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t>>=1}0==--a&&(a=Math.pow(2,f),f++),delete u[c]}else for(t=p[c],e=0;e<f;e++)d=d<<1|1&t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t>>=1;0==--a&&(a=Math.pow(2,f),f++)}for(t=2,e=0;e<f;e++)d=d<<1|1&t,m==r-1?(m=0,h.push(n(d)),d=0):m++,t>>=1;for(;;){if(d<<=1,m==r-1){h.push(n(d));break}m++}return h.join("")},decompress:function(r){return null==r?"":""==r?null:s._decompress(r.length,32768,function(o){return r.charCodeAt(o)})},_decompress:function(o,r,n){for(var e,t,i,s,p,u,c=[],a=4,l=4,f=3,h="",d=[],m={val:n(0),position:r,index:1},v=0;v<3;v+=1)c[v]=v;for(t=0,s=Math.pow(2,2),p=1;p!=s;)i=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),t|=(0<i?1:0)*p,p<<=1;switch(t){case 0:for(t=0,s=Math.pow(2,8),p=1;p!=s;)i=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),t|=(0<i?1:0)*p,p<<=1;u=w(t);break;case 1:for(t=0,s=Math.pow(2,16),p=1;p!=s;)i=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),t|=(0<i?1:0)*p,p<<=1;u=w(t);break;case 2:return""}for(e=c[3]=u,d.push(u);;){if(m.index>o)return"";for(t=0,s=Math.pow(2,f),p=1;p!=s;)i=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),t|=(0<i?1:0)*p,p<<=1;switch(u=t){case 0:for(t=0,s=Math.pow(2,8),p=1;p!=s;)i=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),t|=(0<i?1:0)*p,p<<=1;c[l++]=w(t),u=l-1,a--;break;case 1:for(t=0,s=Math.pow(2,16),p=1;p!=s;)i=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),t|=(0<i?1:0)*p,p<<=1;c[l++]=w(t),u=l-1,a--;break;case 2:return d.join("")}if(0==a&&(a=Math.pow(2,f),f++),c[u])h=c[u];else{if(u!==l)return null;h=e+e.charAt(0)}d.push(h),c[l++]=e+h.charAt(0),e=h,0==--a&&(a=Math.pow(2,f),f++)}}};return s}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/lib/lscache.js' */
!function(e,n){"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof module&&module.exports?module.exports=n():e.lscache=n()}(this,function(){var n,e,o="lscache-",c="-cacheexpiration",u=Math.floor(144e9),i="",t=!1;function a(){var e="__lscachetest__";if(void 0!==n)return n;try{d(e,"__lscachetest__"),p(e),n=!0}catch(e){n=!!f(e)}return n}function f(e){return!!(e&&"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function l(){return e=void 0===e?null!=window.JSON:e}function s(){return Math.floor((new Date).getTime()/6e4)}function h(e){return localStorage.getItem(o+i+e)}function d(e,n){localStorage.removeItem(o+i+e),localStorage.setItem(o+i+e,n)}function p(e){localStorage.removeItem(o+i+e)}function g(e){for(var n=new RegExp("^"+o+i+"(.*)"),t=localStorage.length-1;0<=t;--t){var r=localStorage.key(t);(r=(r=r&&r.match(n))&&r[1])&&r.indexOf(c)<0&&e(r,r+c)}}function m(e){var n=e+c;p(e),p(n)}function r(e){var n=e+c,t=h(n);if(t){t=parseInt(t,10);return s()>=t?(p(e),p(n),1):void 0}}function w(e,n){t&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),n&&window.console.warn("lscache - The error was: "+n.message))}return{set:function(n,t,e){if(!a())return!1;if("string"!=typeof t){if(!l())return!1;try{t=JSON.stringify(t)}catch(e){return!1}}try{d(n,t)}catch(e){if(!f(e))return w("Could not add item with key '"+n+"'",e),!1;var r,o=[];g(function(e,n){n=(n=h(n))?parseInt(n,10):u;o.push({key:e,size:(h(e)||"").length,expiration:n})}),o.sort(function(e,n){return n.expiration-e.expiration});for(var i=(t||"").length;o.length&&0<i;)r=o.pop(),w("Cache is full, removing item with key '"+n+"'"),m(r.key),i-=r.size;try{d(n,t)}catch(e){return w("Could not add item with key '"+n+"', perhaps it's too big?",e),!1}}return e?d(n+c,(s()+e).toString(10)):p(n+c),!0},get:function(n){if(!a())return null;if(r(n))return null;n=h(n);if(!n||!l())return n;try{return JSON.parse(n)}catch(e){return n}},remove:function(e){a()&&m(e)},supported:a,flush:function(){a()&&g(function(e){m(e)})},flushExpired:function(){a()&&g(function(e){r(e)})},setBucket:function(e){i=e},resetBucket:function(){i=""},enableWarnings:function(e){t=e}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/SprintFilters.js' */
GH.Components||(GH.Components={}),GH.Components.sprintFiltersInit=function(){GH.InlineDialog.registerInlineDialogHacks("sprintDialog",{disregardClickSelectors:[".calendar",".js-edit-sprintName-trigger",".js-edit-startDate-trigger",".js-edit-endDate-trigger"]})},GH.Components.SPRINT_NAME_MAX_LENGTH=30,GH.Components.EVENT_SPRINT_UPDATED="sprintUpdated",GH.Components.SprintFilters=function(t){this.stateParamName=t},GH.Components.SprintFilters.prototype.stateParamName="workSprintFilters",GH.Components.SprintFilters.prototype.rapidViewConfig={},GH.Components.SprintFilters.prototype.setRapidViewConfig=function(t){this.rapidViewConfig=t},GH.Components.SprintFilters.prototype.getActiveSprintFilters=function(){return GH.BoardState.getPerViewValue(this.stateParamName,[])},GH.Components.SprintFilters.prototype.setActiveSprintFilters=function(t){GH.BoardState.setPerViewValue(this.stateParamName,t)},GH.Components.SprintFilters.prototype.renderComponent=function(){return AJS.$(GH.tpl.component.sprintfilters.renderSprintSelector())},GH.Components.SprintFilters.prototype.setSprintData=function(t){this.sprints=t||[]},GH.Components.SprintFilters.prototype.getSprintData=function(){return this.sprints},GH.Components.SprintFilters.prototype.validateActiveSprints=function(){var t=this.getActiveSprintFilters(),i=[];_.each(t,function(t){this.getSprintById(t)&&i.push(t)},this),_.isEqual(t,i)||(this.setActiveSprintFilters(i),GH.RapidBoard.State.replaceState(),AJS.$(this).trigger("sprintFilterChange"))},GH.Components.SprintFilters.prototype.hasSprints=function(t){return 0<this.sprints.length},GH.Components.SprintFilters.prototype.getSprintById=function(i){return _.find(this.sprints,function(t){return t.id===i})},GH.Components.SprintFilters.prototype.updateSprintData=function(t,i){var e=!1;if(this.sprints)for(var n=0;n<this.sprints.length;n++)this.sprints[n].id==t&&(this.sprints[n]=i,e=!0);e&&GH.RapidBoard.State.isWorkMode()&&this.drawSprints()},GH.Components.SprintFilters.prototype.updateSprintPermissionData=function(t){var i={};t.sprints.forEach(function(t){i[t.id]=t.canUpdateSprint}),this.sprints.forEach(function(t){t.canUpdateSprint=i[t.id]})},GH.Components.SprintFilters.prototype.getTooltipCompleteSprintBtn=function(t,i){return this.hasSprints()?t?t.canUpdateSprint?"":i?"Only a Jira administrator can start or complete this sprint. Try selecting a project in your current board filter.":AJS.format("You need the {0}Manage sprints permission{1} to start or complete this sprint",'<a class="manage-sprint-permission-help" href="#">',"</a>"):"You can only complete one sprint at a time":"There are no active sprints to complete"},GH.Components.SprintFilters.prototype.drawSprints=function(){var t,e=this,i=AJS.$(".ghx-controls-work .js-sprint-info"),n=this.getActiveSprintFilters(),r={};_.each(n,function(t){r[t]=!0}),i.html(GH.tpl.component.sprintfilters.renderSprints({sprints:this.sprints,activeSprintMap:r})),1<this.sprints.length&&i.find(".js-toggle-sprint").click(function(t){var i=AJS.$(this);e.toggleActiveSprintFilterButton(t,i)}),GH.RapidBoard.ViewController.hasSideBar?(t=1===this.sprints.length?this.sprints[0].id:this.getActiveSprintFilters()[0],n=this.getSprintById(t),t&&AJS.$("#ghx-header").append(GH.tpl.board.x.renderSprintGoal({goal:n.goal}))):i.find(".js-sprint-trigger").click(function(t){var i=AJS.$(this);e.openSprintDialog(i)})},GH.Components.SprintFilters.prototype.toggleActiveSprintFilterButton=function(t,i){t.preventDefault();i=parseInt(i.parents(".js-sprintfilter").attr("data-sprint-id"),10);this.toggleActiveSprintFilter(i),AJS.$(this).trigger("sprintFilterChange")},GH.Components.SprintFilters.prototype.updateButtonStates=function(){var n=this.getActiveSprintFilters();AJS.$.each(AJS.$(".js-sprint-info").find(".js-sprintfilter"),function(t,i){var e=AJS.$(i),i=parseInt(e.attr("data-sprint-id"),10);_.contains(n,i)?e.addClass("ghx-active"):e.removeClass("ghx-active")})},GH.Components.SprintFilters.prototype.toggleActiveSprintFilter=function(t){var i=this.getActiveSprintFilters(),e=[];0!==i.length&&i[0]===t||e.push(t),this.setActiveSprintFilters(e),GH.RapidBoard.State.pushState()},GH.Components.SprintFilters.prototype.removeDialog=function(){GH.InlineDialog.remove("sprintDialog")},GH.Components.SprintFilters.prototype.openSprintDialog=function(t){this.removeDialog();var i=parseInt(t.parents(".js-sprintfilter").attr("data-sprint-id"),10),n=this.getSprintById(i);this.analytics("open");var r=this;GH.InlineDialog.create("sprintDialog",t,function(t,i,e){r.renderSprintDialog(t,n,e)},{fadeTime:0,noBind:!0,width:400,cacheContent:!1,hideDelay:6e4}).show()},GH.Components.SprintFilters.prototype.analytics=function(t,i){new(require("jira-agile/rapid/analytics-tracker"))("gh.edit.sprint.inlinedialog.work.change").trigger(t,i)},GH.Components.SprintFilters.prototype.renderSprintDialog=function(t,i,e){t.html(GH.tpl.component.sprintfilters.renderSprintDetails({sprint:i,canUpdateSprint:i.canUpdateSprint})),t.closest(".aui-inline-dialog").addClass("ghx-inline-dialog"),t.parent().hide(),e()},GH.Components.SprintFilters.prototype.createGetInlineEditDataFunction=function(){var n=this;return function(t,i){GH.RapidBoard.Util.InlineEditable.submitActiveEdits();var e=GH.RapidBoard.Util.InlineEditable.defaultFieldData(t);return"sprintName"===e.fieldName&&(e.maxLength=GH.Components.SPRINT_NAME_MAX_LENGTH,e.cssClass="medium-field"),e.sprintId=parseInt(t.parents(".js-sprint-details").attr("data-sprint-id"),10),e.sprintData=_.clone(n.getSprintById(e.sprintId)),e.sprintFiltersComponent=n,e}},GH.Components.SprintFilters.prototype.initializeInlineEdits=function(){function t(t){var i=_.clone(e.getSprintById(t.sprintId));_.isEqual(i,t.sprintData)||(e.submitSprintData(t.sprintData),e.analytics("update",t.fieldName)),GH.RapidBoard.Util.InlineEditable.updateView(t)}function i(t){GH.Validation.clearContextualErrors(".ghx-sprint-active[data-sprint-id="+t.sprintId+"]"),GH.RapidBoard.Util.InlineEditable.cancelActiveEdits()}var e=this;GH.RapidBoard.Util.InlineEditable.register("#inline-dialog-sprintDialog .js-edit-sprintName-trigger",{getData:this.createGetInlineEditDataFunction(),validate:function(t){var i=t.editElement.val();return!!GH.Validation.notBlank(t.editElement,"Sprint name is required")&&(!!GH.Validation.maxLength(t.editElement,GH.Components.SPRINT_NAME_MAX_LENGTH,AJS.format("Sprint name must be shorter than {0} characters.",GH.Components.SPRINT_NAME_MAX_LENGTH))&&(t.sprintData.name=i,t.newValue=i,!0))},save:t}),GH.RapidBoard.Util.InlineEditable.register("#inline-dialog-sprintDialog .js-edit-startDate-trigger",{getData:this.createGetInlineEditDataFunction(),renderEdit:GH.RapidBoard.Util.InlineEditable.renderDatePickerInlineEdit,activate:GH.RapidBoard.Util.InlineEditable.datePickerActivate,validate:function(t){var i=t.editElement.find("input").val();return!!GH.Validation.notBlank(t.editElement.find("input"),"You must specify an end date for the sprint.",t.editElement)&&(t.sprintData.startDate=i,t.newValue=i,!0)},preEdit:i,save:t}),GH.RapidBoard.Util.InlineEditable.register("#inline-dialog-sprintDialog .js-edit-endDate-trigger",{getData:this.createGetInlineEditDataFunction(),renderEdit:GH.RapidBoard.Util.InlineEditable.renderDatePickerInlineEdit,activate:GH.RapidBoard.Util.InlineEditable.datePickerActivate,validate:function(t){var i=t.editElement.find("input").val();return!!GH.Validation.notBlank(t.editElement.find("input"),"You must specify an end date for the sprint.",t.editElement)&&(t.sprintData.endDate=i,t.newValue=i,!0)},preEdit:i,save:t})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/SprintFilters.soy' */
// This file was automatically generated from SprintFilters.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.component.sprintfilters.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.component == 'undefined') { GH.tpl.component = {}; }
if (typeof GH.tpl.component.sprintfilters == 'undefined') { GH.tpl.component.sprintfilters = {}; }


GH.tpl.component.sprintfilters.renderSprintSelector = function(opt_data, opt_ignored) {
  return '<dl id="ghx-controls-sprint" class="ghx-controls-filters ghx-controls-sprint js-sprint-info">' + GH.tpl.component.sprintfilters.renderNoneActive(null) + '</dl>';
};
if (goog.DEBUG) {
  GH.tpl.component.sprintfilters.renderSprintSelector.soyTemplateName = 'GH.tpl.component.sprintfilters.renderSprintSelector';
}


GH.tpl.component.sprintfilters.renderNoneActive = function(opt_data, opt_ignored) {
  return '<dt>' + soy.$$escapeHtml('Sprint') + ':</dt><dd><span class="ghx-fa">' + soy.$$escapeHtml('No active sprints') + '</span></dd>';
};
if (goog.DEBUG) {
  GH.tpl.component.sprintfilters.renderNoneActive.soyTemplateName = 'GH.tpl.component.sprintfilters.renderNoneActive';
}


GH.tpl.component.sprintfilters.renderSprints = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.sprints.length == 0) {
    output += GH.tpl.component.sprintfilters.renderNoneActive(null);
  } else {
    output += '<dt>' + ((opt_data.sprints.length < 2) ? soy.$$escapeHtml('Sprint') + ':' : soy.$$escapeHtml('Sprints') + ':') + '</dt>';
    var sprintList26 = opt_data.sprints;
    var sprintListLen26 = sprintList26.length;
    for (var sprintIndex26 = 0; sprintIndex26 < sprintListLen26; sprintIndex26++) {
      var sprintData26 = sprintList26[sprintIndex26];
      output += '<dd data-sprint-id="' + soy.$$escapeHtml(sprintData26.id) + '" class="ghx-sprint "><a data-sprint-id="' + soy.$$escapeHtml(sprintData26.id) + '" role="button" class="' + ((opt_data.activeSprintMap[sprintData26.id]) ? ' ghx-active' : '') + ((opt_data.sprints.length < 2) ? ' ghx-solo' : '') + ' js-sprintfilter "><span class="ghx-name js-toggle-sprint" role="button">' + soy.$$escapeHtml(sprintData26.name) + '</span><span class="ghx-trigger js-sprint-trigger" role="button"><span class="ghx-icon ghx-icon-drop"></span></span></a></dd>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.component.sprintfilters.renderSprints.soyTemplateName = 'GH.tpl.component.sprintfilters.renderSprints';
}


GH.tpl.component.sprintfilters.renderSprintDetails = function(opt_data, opt_ignored) {
  return '<div class="js-sprint-details ghx-sprint-details ghx-inline-dialog-content" data-sprint-id="' + soy.$$escapeHtml(opt_data.sprint.id) + '"><form class="aui"><fieldset><div class="field-group"><label for="ghx-sprint-name">' + soy.$$escapeHtml('Sprint name') + ':</label>' + GH.tpl.inlineeditfield.renderBasicTextView({canEdit: opt_data.canUpdateSprint, fieldName: 'sprintName', fieldValue: opt_data.sprint.name, displayValue: opt_data.sprint.name}) + '</div><div class="field-group"><label for="ghx-sprint-start-date">' + soy.$$escapeHtml('Start Date') + ':</label>' + GH.tpl.inlineeditfield.renderBasicTextView({canEdit: opt_data.canUpdateSprint, fieldName: 'startDate', fieldValue: opt_data.sprint.startDate, displayValue: opt_data.sprint.startDate}) + '<span id="ghx-sprint-start-date-error"></span></div><div class="field-group"><label for="ghx-sprint-end-date">' + soy.$$escapeHtml('End date') + ':</label>' + GH.tpl.inlineeditfield.renderBasicTextView({canEdit: opt_data.canUpdateSprint, fieldName: 'endDate', fieldValue: opt_data.sprint.endDate, displayValue: opt_data.sprint.endDate}) + '<span id="ghx-sprint-end-date-error"></span></div><div class="group"><div class="radio"><button id="ghx-complete-sprint" data-sprint-id="' + soy.$$escapeHtml(opt_data.sprint.id) + '"' + ((! opt_data.canUpdateSprint) ? ' disabled title="' + soy.$$escapeHtml('You must have the Manage sprints permission to complete a sprint') + '"' : '') + ' class="aui-button">' + soy.$$escapeHtml('Complete sprint\u2026') + '</button></div></div></fieldset></form></div>';
};
if (goog.DEBUG) {
  GH.tpl.component.sprintfilters.renderSprintDetails.soyTemplateName = 'GH.tpl.component.sprintfilters.renderSprintDetails';
}


GH.tpl.component.sprintfilters.renderSprintMeta = function(opt_data, opt_ignored) {
  return '<div class="ghx-sprint-meta" data-sprint-id="' + soy.$$escapeHtml(opt_data.sprint ? opt_data.sprint.id : '') + '">' + ((opt_data.sprint) ? '<span class="time">' + aui.icons.icon({useIconFont: true, size: 'small', icon: 'time'}) + '<span class="days-left">' + soy.$$escapeHtml(AJS.format('{0} {0,choice,0#days|1#day|2#days} remaining',opt_data.sprint.daysRemaining)) + '</span></span>' : '') + '<div class="complete-sprint-container"' + ((opt_data.tooltipText) ? 'data-tooltip="' + soy.$$escapeHtml(opt_data.tooltipText) + '"' : 'data-tooltip=""') + '>' + aui.buttons.button({text: 'Complete sprint', extraClasses: 'js-complete-sprint ' + (opt_data.isDisabled ? ' disabled' : ''), id: 'ghx-complete-sprint', isDisabled: opt_data.isDisabled}) + '</div></div>';
};
if (goog.DEBUG) {
  GH.tpl.component.sprintfilters.renderSprintMeta.soyTemplateName = 'GH.tpl.component.sprintfilters.renderSprintMeta';
}


GH.tpl.component.sprintfilters.renderSprintDatesTooltip = function(opt_data, opt_ignored) {
  return '<div class="ghx-sprint-dates"><p>' + soy.$$escapeHtml('Start Date') + ' <b>' + soy.$$escapeHtml(opt_data.sprint.startDate) + '</b></p><p>' + soy.$$escapeHtml('Projected End Date') + ' <b>' + soy.$$escapeHtml(opt_data.sprint.endDate) + '</b></p></div>';
};
if (goog.DEBUG) {
  GH.tpl.component.sprintfilters.renderSprintDatesTooltip.soyTemplateName = 'GH.tpl.component.sprintfilters.renderSprintDatesTooltip';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/StatusCategoryPicker.js' */
GH.StatusCategoryPicker=function(){var r={width:250,itemAttrDisplayed:"label",errorMessage:"",removeOnUnSelect:!1,statusCategories:[],selectedStatusCategoryId:4};function n(e){var t=_.omit(AJS.$.extend({},e.model().data()),"descriptor"),t=AJS.$(JIRA.Template.Util.Issue.Status.issueStatus({issueStatus:{name:e.label(),statusCategory:t},isCompact:!0}));return t.removeClass("jira-issue-status-lozenge-tooltip").removeAttr("title").removeAttr("data-tooltip"),t}return{build:function(e){var s,t=require("jira-agile/rapid/deferred-resources-loader"),i={statusCategoryPicker:null,options:_.defaults({},e,r)};return t.handleDeferredResourceImport(!GH.Dialog,function(){var e,t;i.options.element.html(GH.tpl.component.statuscategorypicker.renderStatusCategoryPickerOptions({statusCategories:i.options.statusCategories,selectedStatusCategoryId:i.options.selectedStatusCategoryId})),e=i,t=require("jira/ajs/select/single-select"),e.statusCategoryPicker=t.extend({_hasIcon:function(){return!0},setSelection:function(e){t.fn.setSelection.call(this,e),this.$container.find(".fake-ss-icon").remove(),this.$container.append(n(e).css({position:"absolute",left:"6px",top:"50%",marginTop:"-8px",boxSizing:"border-box"}).addClass("fake-ss-icon aui-ss-entity-icon"))},setSelectionByValue:function(t){var e=_.find(this.suggestionsHandler.model.getAllDescriptors(),function(e){return e.properties.value==t});e&&this.setSelection(e)},disableWithValue:function(e){this.setSelectionByValue(e),this.disable()},enableWithValueIfDisabled:function(e){this.disabled&&(this.enable(),this.setSelectionByValue(e))}}),e.statusCategoryPicker.fn._renders.entityIcon=function(e){return AJS.$()}}),t=new(t=i).statusCategoryPicker(t.options),s=t.listController._renders.suggestion,t.listController._renders.suggestion=function(e){var t=s.apply(this,arguments);return t.find("a").prepend("&nbsp;").prepend(n(e)),t},t},defaultStatusCategoryId:4}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/StatusCategoryPicker.soy' */
// This file was automatically generated from StatusCategoryPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.component.statuscategorypicker.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.component == 'undefined') { GH.tpl.component = {}; }
if (typeof GH.tpl.component.statuscategorypicker == 'undefined') { GH.tpl.component.statuscategorypicker = {}; }


GH.tpl.component.statuscategorypicker.renderStatusCategoryPickerOptions = function(opt_data, opt_ignored) {
  var output = '';
  var statusCategoryList3 = opt_data.statusCategories;
  var statusCategoryListLen3 = statusCategoryList3.length;
  for (var statusCategoryIndex3 = 0; statusCategoryIndex3 < statusCategoryListLen3; statusCategoryIndex3++) {
    var statusCategoryData3 = statusCategoryList3[statusCategoryIndex3];
    output += '<option value="' + soy.$$escapeHtml(statusCategoryData3.id) + '" data-self="' + soy.$$escapeHtml(statusCategoryData3.self) + '" data-id="' + soy.$$escapeHtml(statusCategoryData3.id) + '" data-key="' + soy.$$escapeHtml(statusCategoryData3.key) + '" data-color-name="' + soy.$$escapeHtml(statusCategoryData3.colorName) + '"' + ((opt_data.selectedStatusCategoryId == statusCategoryData3.id) ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml(statusCategoryData3.name) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.component.statuscategorypicker.renderStatusCategoryPickerOptions.soyTemplateName = 'GH.tpl.component.statuscategorypicker.renderStatusCategoryPickerOptions';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/detail/DetailsViewScrollTracker.js' */
define("jira-agile/rapid/ui/detail/details-view-scroll-tracker",["underscore","jquery","require","jira/util/data/meta"],function(i,n,e,t){"use strict";var a,l,c,r,o,s,u,d,g,f="gh.issueaction.issuedetail",v=e("jira-agile/rapid/global-events"),h=e("jira-agile/rapid/ui/detail/details-view-scroll-tracker/scroller");function k(e){e.preventDefault();var i=this.hash.replace("#","");S(i,!0),e="go.to.section",i={sectionId:i},AJS.trigger("analytics",{name:f+"."+e,data:i})}function S(e,i){0<n("#"+e).length&&(j(e),s=h.scrollToSection(e,i))}function p(){l.bind({"scroll.scrollTracking":function(){r=!0}}),o=setInterval(function(){!function(){{var e;r&&(r=!1,s=h.getScrollPosition(),(e=h.getCurrentSection())&&j(e))}}()},40)}function m(){clearInterval(o),l.unbind("scroll.scrollTracking")}function j(e){d(e),w(e)}function w(e){a.put("gh.detailViewWork",e)}return v.on("pre-initialization",function(){a=GH.storage}),{init:function(e){l=n("#js-detail-nav-content"),c=n(".ghx-detail-nav-menu"),d=i.isFunction(e.onSelectedNavChanged)?e.onSelectedNavChanged:function(){},h.init({beforeScroll:m,afterScroll:p}),r=!0,p(),c.delegate("a",{"click.scrollTracking":k}),n(document).on("click",'.aui-message-success a[href="'+t.get("viewissue-permlink")+'"]',function(e){e.preventDefault(),S("attachmentmodule",!0)})},afterDetailsViewLoaded:function(e){e.issueId!==u||g?(S(a.get("gh.detailViewWork")||null),g=!1):0<=s&&function(e){h.scrollTo(e);e=h.getCurrentSection();e&&j(e)}(s);u=e.issueId},setSelectedTab:function(e){w(e),g=!0},_testing_only:{navMenuClick:k}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/detail/DetailsViewScroller.js' */
define("jira-agile/rapid/ui/detail/details-view-scroll-tracker/scroller",["jquery"],function(o){"use strict";var n,e,r,t={init:function(t){e=t.beforeScroll,r=t.afterScroll,n=o("#js-detail-nav-content")},scrollToSection:function(t,i){t=o("#"+t);return this.scrollTo(this.getScrollPosition()+t.position().top,i)},scrollTo:function(t,i){return e(),n.animate({scrollTop:t},i?"fast":0,function(){setTimeout(r,0)}),t},getScrollPosition:function(){return n.scrollTop()},getCurrentSection:function(){var t,i=n.find(".ghx-detail-section").not(".ghx-hidden-tab");if(0<n.length&&n[0].scrollHeight-this.getScrollPosition()===n.height())t=i[i.length-1];else for(var o=0;o<i.length;o++){var e=i.eq(o);if(0<e.position().top+e.height()){t=e[0];break}}return t?t.id:null}};return t});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkSelectionController.js' */
GH.WorkSelectionController={},GH.WorkSelectionController.OPT_NO_SCROLL={scrollToView:!1},GH.WorkSelectionController.selectionDataModel={},GH.WorkSelectionController.selectionManager=void 0,GH.WorkSelectionController.init=function(){GH.WorkSelectionController.initSelectionManager(),AJS.$(document).delegate("#ghx-pool .js-issue","click",GH.WorkSelectionController.handleIssueClick),AJS.$(document).delegate("."+GH.WorkController.DEV_INFO_ICON_PLACEHOLDER_WRAPPER_CLASS,"click",function(e){e.stopPropagation()}),AJS.$(document).delegate("#ghx-pool .js-issue","focus",GH.WorkSelectionController.handleFocus),AJS.$(document).delegate("#ghx-pool .js-issue","contextmenu",GH.WorkSelectionController.handleIssueContextMenu),AJS.$(document).delegate(".ghx-swimlane-header","click",GH.WorkSelectionController.handleSwimlaneClick),AJS.$(document).delegate(".ghx-swimlane-header","focus",GH.WorkSelectionController.handleFocus),AJS.$(document).delegate(".ghx-swimlane-header","contextmenu",GH.WorkSelectionController.handleSwimlaneContextMenu),AJS.$(document).delegate("#ghx-pool .js-issue a.ghx-key","mousedown",GH.WorkSelectionController.handleIssueLinkMiddleClick)},GH.WorkSelectionController.initSelectionManager=function(){GH.WorkSelectionController.selectionDataModel={isIssueValid:function(e){return GH.GridDataController.getModel().isIssueValid(e)},getIssueIndex:function(e){return GH.GridDataController.getModel().getIssueIndexByKey(e)},canAddToSelection:function(e,o){return GH.WorkSelectionController.canAddToSelection(e,o)},getIssueRange:function(e,o){return GH.RankingModel.getRankableIssuesRange(e,o)}},GH.WorkSelectionController.selectionManager=new GH.IssueSelectionManager(GH.WorkSelectionController.selectionDataModel,"work.selectedIssues")},GH.WorkSelectionController.validateCurrentSelection=function(){GH.WorkSelectionController.selectionManager.validateCurrentSelection()&&(!GH.WorkSelectionController.selectionManager.hasSelection()&&GH.WorkController.isDetailsViewOpened()&&GH.RapidBoard.State.setWorkViewDetailsViewOpened(!1),GH.RapidBoard.State.replaceState(),GH.WorkSelectionController.updateUIAndState())},GH.WorkSelectionController.gotoIssue=function(e){var o;e&&(e!==GH.WorkSelectionController.getSelectedIssueKey()?GH.WorkSelectionController.selectIssue(e):0!==(o=0===(o=AJS.$(".ghx-columns").find('.js-issue[data-issue-key="'+e+'"]')).length?AJS.$("#ghx-pool").find(".ghx-swimlane-header[data-issue-key='"+e+"']"):o).length&&GH.WorkSelectionController._scrollToView(o))},GH.WorkSelectionController.focusOnIssue=function(e){var o=AJS.$(".ghx-columns").find('.js-issue[data-issue-key="'+e+'"]');0!==(o=0===o.length?AJS.$("#ghx-pool").find(".ghx-swimlane-header[data-issue-key='"+e+"']"):o).length&&o.focus()},GH.WorkSelectionController.selectIssue=function(e,o){o=_.extend({pushState:!0,scrollToView:!0},o),GH.WorkSelectionController.selectionManager.selectIssue(e),o.pushState&&GH.RapidBoard.State.pushState(),o.dontUpdateUI||GH.WorkSelectionController._updateSelectionUI(o.scrollToView?e:null)},GH.WorkSelectionController.handleSwimlaneClick=function(e){var o,t,n;AJS.$(e.target).parents().andSelf().is(".js-expander")||((o=GH.WorkSelectionController.getIssueKey(AJS.$(this)))?GH.WorkSelectionController.handleIssueClick.call(this,e):(e=parseInt(AJS.$(this).attr("data-swimlane-id"),10),t=GH.GridDataController.getModel(),n=t.getSwimlaneById(e),e=t.getColumns(),_.find(e,function(e){return!!(o=t.getIssueKeyForColumnAtIndex(n.id,e.id,0))}),o&&GH.WorkSelectionController.selectIssue(o)))},GH.WorkSelectionController.handleIssueClick=function(e){var o=GH.WorkSelectionController.getIssueKey(AJS.$(this)),t=AJS.$(e.target).hasClass("js-key-link"),n=!GH.MouseUtils.openInSameTab(e);if(t&&n)return!0;e.preventDefault();n=require("jira-agile/rapid/deferred-resources-loader");require("jira/featureflags/feature-manager");n.handleDeferredResourceImport(!n.isResourceAvailable("jira/viewissue/comment/comment-form"),function(){return GH.WorkSelectionController.handleIssueSelectionEvent(e,o,!0)})},GH.WorkSelectionController.handleIssueLinkMiddleClick=function(e){!e||2!==e.which&&4!==e.button||(e=GH.WorkSelectionController.getIssueId($(this)),AJS.trigger("analytics",{name:"jira-software.work.issuecard.open.full.issue",data:{issueId:e}}))},GH.WorkSelectionController.handleSwimlaneContextMenu=function(e){var o=AJS.$(e.target).closest(".ghx-swimlane-header").attr("data-issue-key");o&&(GH.WorkSelectionController.isInSelection(o)||GH.WorkSelectionController.handleSwimlaneClick.call(this,e),GH.WorkContextMenuController.showContextMenuAt(e,{swimlane:!0}))},GH.WorkSelectionController.handleIssueContextMenu=function(e){var o=GH.WorkSelectionController.getIssueKey(AJS.$(this));GH.WorkSelectionController.isInSelection(o)||GH.WorkSelectionController.selectIssue(o),GH.WorkContextMenuController.showContextMenuAt(e,{})},GH.WorkSelectionController.handleIssueSelectionEvent=function(e,o,t){var n=GH.MouseUtils.getMetaKeys(e),e=GH.WorkSelectionController.selectionManager.handleIssueClick(n,o);GH.IssueSelectionManager.getMultiSelectType(n)&&(t=!1),e&&(GH.WorkSelectionController._updateSelectionUI(o),GH.WorkController.trigger("before:openDetailView"),!GH.RapidBoard.State.isNewIssueViewEnabled()||GH.DetailsView.opts.isUsingBentoSidebarOnBoard?GH.WorkSelectionController.handleIssueSelectionForSidebarOrADV(t,o):GH.WorkSelectionController.handleIssueSelectionForModal(t))},GH.WorkSelectionController.handleIssueSelectionForSidebarOrADV=function(e,o){var t=require("jira-agile/rapid/ui/bento/bento-features");e&&!GH.WorkController.isDetailsViewOpened()&&GH.WorkSelectionController.selectionManager.hasSelection()?GH.WorkController.openDetailsView(o):GH.RapidBoard.State.replaceState(),e&&t.isUsingBentoSidebarOnBoard()&&AJS.trigger("analyticsEvent",{name:"jira-software.work.issuecard.open",data:{viewMode:"sidebar"}})},GH.WorkSelectionController.handleIssueSelectionForModal=function(e){var o=require("jira-agile/rapid/ui/bento/bento-features");e&&GH.RapidBoard.State.setWorkIssueModalOpened(!0),GH.RapidBoard.State.replaceState(),e&&(GH.WorkView.displayIssueModal({skipStateUpdate:!0}),o.isBentoSidebarOnBoardEnabled()&&AJS.trigger("analyticsEvent",{name:"jira-software.work.issuecard.open",data:{viewMode:o.isUsingBentoModalOnBoard()?"modal":"default"}}))},GH.WorkSelectionController.handleFocus=function(e){var o=GH.WorkSelectionController.getIssueKey(AJS.$(this));GH.WorkSelectionController.isInSelection(o)||GH.WorkSelectionController.handleIssueSelectionEvent(e,o,!1)},GH.WorkSelectionController.updateUIAndState=function(){GH.WorkSelectionController._updateSelectionUI(),GH.RapidBoard.State.pushState()},GH.WorkSelectionController._updateSelectionUI=function(n){var l=null;AJS.$(".js-issue, .ghx-swimlane-header, #ghx-swimname").removeClass("ghx-selected ghx-selected-primary").each(function(e,o){var t=AJS.$(o),o=t.attr("data-issue-key");o&&(GH.WorkSelectionController.isInSelection(o)&&(t.addClass("ghx-selected"),o===r&&t.addClass("ghx-selected-primary")),null!==n&&o===n&&(l=t))}),l&&!l.hasClass("ghx-swimlane-header")&&GH.SwimlaneView.ensureSwimlaneExpandedForIssueKey(n),l&&GH.WorkSelectionController._scrollToView(l);var e=GH.WorkSelectionController.getSelectedIssueKey(),r=GH.GridDataController.getModel().isIssueValid(e)?e:void 0;AJS.$(GH).trigger("issueSelected",r)},GH.WorkSelectionController._scrollToView=function(e){var o=AJS.$("#ghx-pool"),t=AJS.$("#ghx-column-header-group")[0].getBoundingClientRect(),n=o[0].getBoundingClientRect(),e=e[0].getBoundingClientRect();GH.ScrollUtils.scrollElementToViewPort(o,{top:t.bottom,bottom:n.bottom},e)},GH.WorkSelectionController.ensureIssueSelected=function(e,o){GH.WorkSelectionController.selectionManager.isInSelection(o)||(GH.WorkSelectionController.canAddToSelection(GH.WorkSelectionController.getSelectedIssueKeys(),o)?GH.WorkSelectionController.handleIssueSelectionEvent(e,o):GH.WorkSelectionController.selectIssue(o,GH.WorkSelectionController.OPT_NO_SCROLL))},GH.WorkSelectionController.getSelectedIssueKeys=function(){return GH.WorkSelectionController.selectionManager.getSelectedIssueKeys()},GH.WorkSelectionController.getSelectedIssueKey=function(){return GH.WorkSelectionController.selectionManager.getSelectedIssueKey()},GH.WorkSelectionController.isInSelection=function(e){return GH.WorkSelectionController.selectionManager.isInSelection(e)},GH.WorkSelectionController.setIssueFromUrlState=function(e){GH.WorkSelectionController.selectionManager.selectIssue(e)},GH.WorkSelectionController.getSelectedIssuesInOrder=function(){return GH.WorkSelectionController.selectionManager.getSelectedIssuesInOrder()},GH.WorkSelectionController.canAddToSelection=function(e,o){if(_.isEmpty(e))return!0;e=_.first(e);return GH.RankingModel.canIssuesBeRankedTogether(e,o)},GH.WorkSelectionController.getIssueId=function(e){return e.closest(".js-issue, .ghx-issue-filtered, .ghx-parent-group, .ghx-swimlane-header").attr("data-issue-id")},GH.WorkSelectionController.getIssueKey=function(e){return e.closest(".js-issue, .ghx-issue-filtered, .ghx-parent-group, .ghx-swimlane-header").attr("data-issue-key")};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/GridDataController.js' */
GH.GridDataController={},GH.GridDataController.model=void 0,GH.GridDataController.modelPromise=new Promise(function(e){var a=!1;GH.GridDataController.resolveModelPromise=function(){a||(a=!0,e())}}),GH.GridDataController.swimlaneStrategy="custom",GH.GridDataController.statistics={},GH.GridDataController.canRelease=!1,GH.GridDataController.hasDataChanged=function(e){e=GH.GridDataController.calculateGridDataModel(e);return!GH.GridDataController.model||GH.GridDataController.model.isModelDifferent(e)},GH.GridDataController.setData=function(e){require("jira/featureflags/feature-manager");GH.GridDataController.statistics=e.statistics,GH.GridDataController.canRelease=e.issuesData.canRelease,GH.RankingModel.setOrderData(e.orderData),GH.GridDataController.hasBulkChangePermission=e.issuesData.hasBulkChangePermission;var a=require("jira-agile/browser-metrics/browser-metrics-util");a.performanceMark("before:calculateGridModel");var t=GH.GridDataController.calculateGridDataModel(e);a.performanceMark("after:calculateGridModel"),GH.GridDataController.model=t,GH.GridDataController.resolveModelPromise(),GH.GridDataController.issuesData=e.issuesData},GH.GridDataController.calculateGridDataModel=function(e){var a=GH.GridSwimlanesData.calculateSwimlanesData(e.issuesData,e.swimlanesData),t=[],r={},l=e.issuesData.isIssueLimitExceeded;_.each(e.issuesData.issues,function(e){t.push(e.key),r[e.key]=e}),_.each(e.issuesData.missingParents,function(e){r[e.key]=e});var o=GH.GridColumnsData.calculateColumnsData(e.issuesData,e.columnsData,e.statistics),i=o.columns,n=o.columnIssueMapping,s={};s.anyColumnBusted=o.anyColumnBusted;var d=[],G={};return _.each(a.swimlanes,function(e){G[e.id]=e.issueKeys.filter(function(e){return r[e]&&!r[e].hidden}),delete e.issueKeys,d.push(e)}),s.swimlanesType=a.type,new GH.GridDataModel(i,n,d,G,r,t,s,e.swimlanesData.swimlaneStrategy,l)},GH.GridDataController.getStatistics=function(){return GH.GridDataController.statistics},GH.GridDataController.getModel=function(){return GH.GridDataController.model},GH.GridDataController.getModelPromise=function(){return GH.GridDataController.modelPromise.then(function(){return GH.GridDataController.model})},GH.GridDataController.hasBustedColumns=function(){return GH.GridDataController.model.data.variables.anyColumnBusted},GH.GridDataController.getSwimlanesType=function(){return GH.GridDataController.model.data.variables.swimlanesType},GH.GridDataController.isIssueLimitExceeded=function(){return!(!GH.GridDataController.getModel()||!GH.GridDataController.getModel().data)&&GH.GridDataController.getModel().data.isIssueLimitExceeded},GH.GridDataController.collectPrintableIssues=function(){var t=GH.GridDataController.getModel(),r=[];return _.each(t.getSwimlanes(),function(a){_.each(t.getColumns(),function(e){e=t.getCells()[a.id][e.id];e&&r.push.apply(r,e)})}),_.map(r,function(e){return t.getIssues()[e]})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/RankingModel.js' */
GH.RankingModel={},GH.RankingModel.orderData={rankable:!1,rankCustomFieldId:void 0},GH.RankingModel.setOrderData=function(e){GH.RankingModel.orderData=e},GH.RankingModel.isRankable=function(){return GH.RankingModel.orderData.rankable},GH.RankingModel.canUserRank=function(){if(!GH.RankingModel.orderData.rankable)return!1;var n=!1;return _.each(GH.RankingModel.orderData.canRankPerProject,function(e){n=n||e.canRank}),n},GH.RankingModel.canUserRankIssue=function(e){if(!GH.RankingModel.isRankable())return!1;var n=e.substr(0,e.indexOf("-")),a=!1;return _.each(GH.RankingModel.orderData.canRankPerProject,function(e){e.projectKey==n&&(a=e.canRank)}),a},GH.RankingModel.getRankCustomFieldId=function(){return GH.RankingModel.isRankable()?GH.RankingModel.orderData.rankCustomFieldId:null},GH.RankingModel.isRankable=function(){return GH.RankingModel.orderData.rankable},GH.RankingModel.getFirstRankableIssueKeyInColumn=function(n){var e=GH.GridDataController.getModel(),a=e._getIssuePositionAndDataByKey(n);if(a.isSwimlane)return!1;var r=e.getIssuesDataForCell(a.swimlaneId,a.columnId),e=GH.RapidBoard.State.shouldUseTypeHierarchyLevel(),t=e?a.issue.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL:!!a.issue.parentKey,r=_.find(r,function(e){return!t||GH.RankingModel.canIssuesBeRankedTogether(e.key,n)});return!!r&&(t?r.key:e?r.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL?r.parentKey:r.key:r.parentKey||r.key)},GH.RankingModel.getLastRankableIssueKeyInColumn=function(n){var e=GH.GridDataController.getModel(),a=e._getIssuePositionAndDataByKey(n);if(a.isSwimlane)return!1;var e=e.getIssuesDataForCell(a.swimlaneId,a.columnId),r=GH.RapidBoard.State.shouldUseTypeHierarchyLevel(),t=r?a.issue.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL:!!a.issue.parentKey,i=!1;return _.each(e,function(e){t?GH.RankingModel.canIssuesBeRankedTogether(e.key,n)&&(i=e.key):i=r?-1===e.typeHierarchyLevel?e.parentKey:e.key:e.parentKey||e.key}),i},GH.RankingModel.canIssuesBeRankedTogether=function(e,n){var a=GH.GridDataController.getModel(),e=a._getIssuePositionAndDataByKey(e),n=a._getIssuePositionAndDataByKey(n);if(!e||!n)return!1;if(e.isSwimlane||n.isSwimlane)return!1;if(e.swimlaneId!=n.swimlaneId)return!1;if(e.columnId!=n.columnId)return!1;if(GH.RapidBoard.State.shouldUseTypeHierarchyLevel()){if(e.issue.typeHierarchyLevel!==GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL&&n.issue.typeHierarchyLevel!==GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL)return!0}else if(!e.issue.parentKey&&!n.issue.parentKey)return!0;return e.issue.parentKey==n.issue.parentKey},GH.RankingModel.getRankableIssuesRange=function(e,n){if(!GH.RankingModel.canIssuesBeRankedTogether(e,n))return[];var a=GH.GridDataController.getModel();if(e==n)return[e];var r=a._getIssuePositionAndDataByKey(e),n=a._getIssuePositionAndDataByKey(n);if(r.isSwimlane||n.isSwimlane)return[];var t=[];t.push(e);var i,o,s=a.getIssuesDataForCell(r.swimlaneId,r.columnId),r=r.issueIndex,d=n.issueIndex;if(r<d)for(i=r+1;i<=d;i++)o=s[i],GH.RankingModel.canIssuesBeRankedTogether(e,o.key)&&t.push(o.key);else for(i=r-1;d<=i;i--)o=s[i],GH.RankingModel.canIssuesBeRankedTogether(e,o.key)&&t.push(o.key);return t},GH.RankingModel.getBestFitSelectionAfterRank=function(e){return GH.RankingModel.getNextIssueAfterSendToBottom(e)||GH.RankingModel.getPreviousIssueAfterSendToBottom(e)},GH.RankingModel.getNextIssueAfterSendToBottom=function(e){var n=_.last(e),a=GH.GridDataController.getModel(),r=a.getNextIssueKey(n);if(!r)return!1;var e=a.getIssueDataByKey(n),t=a.getIssueDataByKey(r),i=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();if(!i&&e.parentKey)return r;if(i&&e.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL)return r;for(;(i&&t.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL||!i&&t.parentKey)&&t.parentKey==n;){if(!(r=a.getNextIssueKey(r)))return!1;t=a.getIssueDataByKey(r)}return r},GH.RankingModel.getPreviousIssueAfterSendToBottom=function(e){var e=_.first(e),n=GH.GridDataController.getModel(),a=n.getPreviousIssueKey(e);if(!a)return!1;var e=n.getIssueDataByKey(e),r=n.getIssueDataByKey(a),t=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();if(!t&&e.parentKey)return a;if(t&&e.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL)return a;for(;t&&r.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL||!t&&r.parentKey;){if(!(a=n.getPreviousIssueKey(a)))return!1;r=n.getIssueDataByKey(a)}return a},GH.RankingModel.reorderIssues=function(e,n,a){var r,t=GH.GridDataController.getModel();e=GH.RankingModel.getParentAndChildrenKeys(e);var i=t.getOrder();if(a)r=_.indexOf(i,a);else if(r=_.indexOf(i,n),r++,GH.RankingModel.isRankable())for(;r<i.length;){var o=t.getIssueDataByKey(i[r]);if(!o||o.parentKey!==n)break;r++}var s=i.slice(0,r),a=i.slice(r),s=GH.RankingModel.withoutArray(s,e),a=GH.RankingModel.withoutArray(a,e),a=_.flatten([s,e,a]);t.updateOrder(a)},GH.RankingModel.getParentAndChildrenKeys=function(e){var i=GH.GridDataController.getModel(),o=i.getOrder(),s=[];return _.each(e,function(e){s.push(e);var n=i.getIssueDataByKey(e);if(n){var a=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();if(a){if(n.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL)return}else if(n.parentKey)return;e=_.indexOf(o,e);if(!(e<0))for(var r=e+1;r<o.length;r++){var t=i.getIssueDataByKey(o[r]);if(a&&t.typeHierarchyLevel!==GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL||t.parentKey!=n.key)break;s.push(t.key)}}}),s},GH.RankingModel.withoutArray=function(e,n){var a=e;return _.each(n,function(e){a=_.without(a,e)}),a};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/GridDataModel.js' */
!function(){var o=require("underscore"),t=require("jira-agile/rapid/ui/component/extra-fields/ExtraFieldsHelper"),e=require("jira-agile/browser-metrics/browser-metrics-util");GH.GridDataModel=function(e,t,i,s,n,a,r,o,u){var d=this.data={};d.columns=e,d.columnIssueMapping=t,d.swimlanes=i,d.swimlaneIssueMapping=s,d.issues=n,d.order=a,d.variables=r,d.swimlaneStrategy=o,d.isIssueLimitExceeded=u,this.buildCache(),this.preprocessIssues()},GH.GridDataModel.prototype.isModelDifferent=function(e){return!o.isEqual(this.data.order,e.data.order)||(!o.isEqual(this.data.issues,e.data.issues)||(!o.isEqual(this.data.swimlaneIssueMapping,e.data.swimlaneIssueMapping)||(t=this.data.columnIssueMapping,i=e.data.columnIssueMapping,s=Object.keys(t),e=Object.keys(i),!(o.isEqual(s,e)&&!s.some(function(e){return!o.isEqual(t[e].slice(0).sort(),i[e].slice(0).sort())})))));var t,i,s},GH.GridDataModel.prototype.buildCache=function(){e.performanceMark("before:swimlaneModelCache");var n=this.data,a=this.cache={bySwimlaneThenColumn:[]},r=this;o.each(n.swimlanes,function(i){var s=n.swimlaneIssueMapping[i.id];a.bySwimlaneThenColumn[i.id]=[],o.each(n.columns,function(e){var t=n.columnIssueMapping[e.id],t=r.fastIntersect(t,s),t=r.fastIntersect(n.order,t);a.bySwimlaneThenColumn[i.id][e.id]=t})}),e.performanceMark("after:swimlaneModelCache")},GH.GridDataModel.prototype.fastIntersect=function(e,t){for(var i=e.length,s=t.length,n=e.slice(0).sort(),a=t.slice(0).sort(),r=[],o=0,u=0;o<i&&u<s;){var d=n[o],l=a.indexOf(d,u);-1<l&&(r.push(d),u=l+1),o++}for(var p=[],m=0;m<i;m++)-1<r.indexOf(e[m])&&p.push(e[m]);return p},GH.GridDataModel.prototype.preprocessIssues=function(){var t=this;o.each(this.data.issues,function(e){t.preprocessIssue(e)})},GH.GridDataModel.prototype.preprocessIssue=function(e){this.computeTimeInColumnForIssue(e),t.prepareExtraFields(e.extraFields)},GH.GridDataModel.prototype.computeTimeInColumnForIssue=function(e){e.timeInColumn&&(e.timeInColumn.days=Math.floor((e.timeInColumn.cumulativeDurationInColumn+(new Date).getTime()-e.timeInColumn.enteredCurrentStatusTime)/864e5))},GH.GridDataModel.prototype.updateIssueData=function(e){this.preprocessIssue(e),this.data.issues[e.key]=e},GH.GridDataModel.prototype.updateOrder=function(e){this.data.order=e,this.buildCache()},GH.GridDataModel.prototype.getGroupData=function(){var i=[],s=this;o.each(s.data.swimlanes,function(t){o.each(s.data.columns,function(e){i.push(s.getIssuesDataForCell(t.id,e.id))})});var e=GH.IssueListUtil.calculateGroupData(i);return e.drawFakeParents=!this.isParentChildStrategy(),e},GH.GridDataModel.prototype.getIssuesDataForCell=function(e,t){e=this.cache.bySwimlaneThenColumn[e];if(!e)return!1;t=e[t];return!!t&&this.getIssueDataByKeys(t)},GH.GridDataModel.prototype.getIssuesDataForColumn=function(e){e=this.data.columnIssueMapping[e];return!!e&&this.getIssueDataByKeys(e)},GH.GridDataModel.prototype.getIssueDataByKeys=function(e){var t=[],i=this.data.issues;return o.each(e,function(e){e=i[e];e&&t.push(e)}),t},GH.GridDataModel.prototype.getCells=function(){return this.cache.bySwimlaneThenColumn},GH.GridDataModel.prototype.getIssues=function(){return this.data.issues},GH.GridDataModel.prototype.getColumns=function(){return this.data.columns},GH.GridDataModel.prototype.getSwimlanes=function(){return this.data.swimlanes},GH.GridDataModel.prototype.getOrder=function(){return this.data.order},GH.GridDataModel.prototype.getSwimlaneById=function(t){return o.find(this.data.swimlanes,function(e){return e.id==t})},GH.GridDataModel.prototype.getColumnById=function(t){return o.find(this.data.columns,function(e){return e.id==t})},GH.GridDataModel.prototype.getFirstColumn=function(){return o.first(this.data.columns)},GH.GridDataModel.prototype.getDoneColumn=function(){return o.last(this.data.columns)},GH.GridDataModel.prototype.getSwimlaneIdByIssueKey=function(i){var s=!1;return o.each(this.data.swimlaneIssueMapping,function(e,t){-1<o.indexOf(e,i)&&(s=parseInt(t,10))}),s},GH.GridDataModel.prototype.getColumnIdByIssueKey=function(i){var s=!1;return o.each(this.data.columnIssueMapping,function(e,t){-1<o.indexOf(e,i)&&(s=parseInt(t,10))}),s},GH.GridDataModel.prototype.getIssueDataByKey=function(e){return this.data.issues[e]},GH.GridDataModel.prototype.getIssueDataById=function(e){return o.findWhere(this.data.issues,{id:e})},GH.GridDataModel.prototype.getIssueIdForKey=function(e){e=this.getIssueDataByKey(e);return!!e&&e.id},GH.GridDataModel.prototype.isIssueValid=function(e){e=this.data.issues[e];return!!e&&!e.hidden},GH.GridDataModel.prototype.hasSwimlanes=function(){var t=this,i=t.isParentChildStrategy();return o.any(t.getSwimlanes(),function(e){return(i||0<t.getSwimlaneIssueCount(e.id))&&!e.defaultSwimlane})},GH.GridDataModel.prototype.getSwimlaneIssueCount=function(e){return this.data.swimlaneIssueMapping[e].length},GH.GridDataModel.prototype.getColumnIssueCount=function(e){return this.data.columnIssueMapping[e].length},GH.GridDataModel.prototype.isParentChildStrategy=function(){return"parentChild"==this.data.variables.swimlanesType},GH.GridDataModel.prototype.getParentSwimlaneByIssueKey=function(t){return this.isParentChildStrategy()&&o.find(this.data.swimlanes,function(e){if(e.parentKey==t)return!0})||!1},GH.GridDataModel.prototype._getIssuePositionAndDataByKey=function(t){var e=this.data.issues[t];if(!e)return!1;var i=!1;if(this.isParentChildStrategy()&&o.each(this.data.swimlanes,function(e){e.parentKey==t&&(i=e)}),i)return{isSwimlane:!0,swimlaneId:i.id,columnId:o.first(this.getColumns()).id,issueIndex:-1,issue:e};var s=this.getSwimlaneIdByIssueKey(t);if(!s)return!1;var n,a=this.getColumnIdByIssueKey(t),r=-1;return s&&a&&(n=this.cache.bySwimlaneThenColumn[s][a],r=o.indexOf(n,t)),{swimlaneId:s,columnId:a,issueIndex:r,issue:e}},GH.GridDataModel.prototype.getIssueIndexByKey=function(e){e=this._getIssuePositionAndDataByKey(e);return!!e&&e.issueIndex},GH.GridDataModel.prototype.getNextIssueKey=function(e,t){var i=this._getIssuePositionAndDataByKey(e);if(!i)return!1;t&&(i.columnId=t);var s=this,n=s.getCells(),a=!1,r=!1;return o.find(s.getSwimlanes(),function(e){var t;if(e.id==i.swimlaneId)a=!0,t=i.issueIndex+1;else{if(!a)return!1;if(e.parentKey)return r=e.parentKey,!0;t=0}return(!s.hasSwimlanes()||!GH.RapidBoard.State.isSwimlaneCollapsed(e.id))&&!!(r=n[e.id][i.columnId][t])}),r||!1},GH.GridDataModel.prototype.getPreviousIssueKey=function(t,e){var i=this._getIssuePositionAndDataByKey(t);if(!i)return!1;e&&(i.columnId=e);var s=this,n=s.getCells(),a=!1,r=!1,e=s.getSwimlanes().slice(0).reverse();return o.find(e,function(e){return!(e.id!=i.swimlaneId&&!a)&&(a=!0,e.id==i.swimlaneId?e.parentKey!=t&&(0==i.issueIndex&&e.parentKey?(r=e.parentKey,!0):!!(r=n[e.id][i.columnId][i.issueIndex-1])):!(s.hasSwimlanes()&&GH.RapidBoard.State.isSwimlaneCollapsed(e.id))&&0<n[e.id][i.columnId].length?!!(r=o.last(n[e.id][i.columnId])):!!e.parentKey&&(r=e.parentKey,!0))}),r||!1},GH.GridDataModel.prototype.getIssueKeyForColumnAtIndex=function(e,t,i){t=this.cache.bySwimlaneThenColumn[e][t];return!o.isEmpty(t)&&(i<0?t[0]:i>=t.length?o.last(t):t[i])},GH.GridDataModel.prototype.getFirstIssueKey=function(){var e=this.getSwimlanes(),t=this.getColumns(),i=this.getCells(),s=this.hasSwimlanes(),n=!1;return o.find(t,function(t){return o.find(e,function(e){if(s&&GH.RapidBoard.State.isSwimlaneCollapsed(e.id))return!1;e=i[e.id][t.id];return!o.isEmpty(e)&&(n=o.first(e),!0)}),n}),n},GH.GridDataModel.prototype.getLastIssueKey=function(){var e=this.getSwimlanes().slice().reverse(),t=this.getColumns(),i=this.getCells(),s=this.hasSwimlanes(),n=!1;return o.find(t,function(t){return o.find(e,function(e){if(s&&GH.RapidBoard.State.isSwimlaneCollapsed(e.id))return!1;e=i[e.id][t.id];return!o.isEmpty(e)&&(n=o.last(e),!0)}),n}),n},GH.GridDataModel.prototype.getIssueKeyInPreviousColumn=function(e,t){var i=this._getIssuePositionAndDataByKey(e);if(!i)return!1;if(i.isSwimlane)return!1;for(var s=this._getPreviousColumn(i.columnId);s;){var n=this.getIssueKeyForColumnAtIndex(i.swimlaneId,s.id,t);if(n)return n;s=this._getPreviousColumn(s.id)}return!1},GH.GridDataModel.prototype._getPreviousColumn=function(e){for(var t=this.getColumns(),i=t.length-1;0<i;i--)if(t[i].id==e)return t[i-1];return!1},GH.GridDataModel.prototype.getIssueKeyInNextColumn=function(e,t){var i=this._getIssuePositionAndDataByKey(e);if(!i)return!1;if(i.isSwimlane)return!1;for(var s=this._getNextColumn(i.columnId);s;){var n=this.getIssueKeyForColumnAtIndex(i.swimlaneId,s.id,t);if(n)return n;s=this._getNextColumn(s.id)}return!1},GH.GridDataModel.prototype._getNextColumn=function(e){for(var t=this.getColumns(),i=0;i<t.length-1;i++)if(t[i].id==e)return t[i+1];return!1},GH.GridDataModel.prototype.getIssuePositionByKey=function(e){e=this._getIssuePositionAndDataByKey(e);if(e)return{swimlaneId:e.swimlaneId,columnId:e.columnId,position:e.issueIndex}},GH.GridDataModel.prototype.getIssueKeyAtPosition=function(e){if(e&&void 0!==e.swimlaneId&&void 0!==e.columnId&&void 0!==e.position){for(var t,i,s=this.getSwimlanes(),n=0,a=s.length;n<a;n++)if(s[n].id==e.swimlaneId){t=s[n],n+1<a&&(i=s[n+1]);break}if(t&&this.getColumnById(e.columnId)){var r=this.cache.bySwimlaneThenColumn[e.swimlaneId][e.columnId];return r[e.position]||(i?this.getIssueKeyAtPosition({swimlaneId:i.id,columnId:e.columnId,position:0}):o.last(r))}}},GH.GridDataModel.prototype.moveIssueToColumn=function(e,t,i){this.moveIssuesToColumn([e],t,i)},GH.GridDataModel.prototype.moveIssuesToColumn=function(e,t,i){var s=this,n=this.data.columnIssueMapping;if(!n[t]||!n[i])return!1;var a,r=0;e.forEach(function(e){n[t]=o.without(n[t],e),n[i].push(e);e=s.getIssueDataByKey(e);r+=GH.GridColumnsData.getIssueStatsValue(e)}),0<r&&(a=this.getColumnById(t),e=this.getColumnById(i),a.stats.visible-=r,e.stats.visible+=r,this.data.variables.anyColumnBusted=GH.GridColumnsData.computeBusted(this.getColumns())),this.buildCache()},GH.GridDataModel.prototype.removeEpicFromIssues=function(e){var t=[],e=this.getIssueDataByKeys(e);return o.each(e,function(e){e.epic&&(delete e.epic,t.push(e))}),t},GH.GridDataModel.prototype.getSwimlaneStrategy=function(){return this.data.swimlaneStrategy},GH.GridDataModel.prototype.getSubtasks=function(){return GH.RapidBoard.State.shouldUseTypeHierarchyLevel()?o.filter(this.data.issues,function(e){return e.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL}):o.filter(this.data.issues,function(e){return!o.isUndefined(e.parentId)})}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/GridSwimlanesData.js' */
GH.GridSwimlanesData={},GH.GridSwimlanesData.calculateSwimlanesData=function(e,a){var i=[];switch(a.swimlaneStrategy){case"parentChild":i=GH.GridSwimlanesData.calculateParentChildSwimlanes(e,a.parentSwimlanesData);break;case"assignee":i=GH.GridSwimlanesData.calculateAssigneeSwimlanes(e,!1);break;case"assigneeUnassignedFirst":i=GH.GridSwimlanesData.calculateAssigneeSwimlanes(e,!0);break;case"custom":i=GH.GridSwimlanesData.calculateCustomSwimlanes(e,a.customSwimlanesData);break;case"epic":i=GH.GridSwimlanesData.calculateEpicSwimlanes(e,a.epicSwimlanesData);break;case"project":i=GH.GridSwimlanesData.calculateProjectSwimlanes(e);break;default:i=GH.GridSwimlanesData.calculateNoneSwimlanes(e)}return{type:a.swimlaneStrategy,swimlanes:i,rapidViewId:a.rapidViewId}},GH.GridSwimlanesData.calculateCustomSwimlanes=function(e,a){e=e.issues,a=a.swimlanes;return GH.GridSwimlanesData.calculateSwimlaneIssueKeys(e,a),a},GH.GridSwimlanesData.calculateSwimlaneIssueKeys=function(e,a){var i;_.each(a,function(a){a.issueKeys=[],_.isEmpty(a.issueIds)||(i||(i={},_.each(e,function(e){i[e.id]=e.key})),_.each(a.issueIds,function(e){a.issueKeys.push(i[e])}))})},GH.GridSwimlanesData.calculateParentChildSwimlanes=function(e,n){var s={},a=n.parentIssueIds,i=[],t={},r=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();e.issues.forEach(function(e){r&&e.typeHierarchyLevel!==GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL||!e.parentId||e.hidden?(e.hidden||i.push(e.id),s[e.id]=e):(i.push(e.parentId),t[e.parentId]||(t[e.parentId]=[]),t[e.parentId].push(e.key))}),_.each(e.missingParents,function(e){s[e.id]=e});var i=_.uniq(i,!0),e=_.intersection(i,a),u=1,c=[];_.each(e,function(e){var a=t[e]||[],i=s[e],e=_.contains(n.doneCandidates,e),i={id:u++,name:i.key,description:i.summary,defaultSwimlane:!1,parentKey:i.key,query:"",issueKeys:a,avatarUrl:i.typeUrl,parentOutOfSync:e};e&&GH.WorkController.analytics.trigger("movetodonebutton.shown"),c.push(i)});e=_.filter(i,function(e){return!_.include(a,e)}).map(function(e){return s[e]}).filter(function(e){return e&&!e.hidden}).map(function(e){return e.key}),e={id:u++,name:"Other Issues",description:"",defaultSwimlane:!0,query:"",issueKeys:e};return c.push(e),c},GH.GridSwimlanesData.calculateAssigneeSwimlanes=function(e,a){var i={},n=[];_.each(e.issues,function(e){e.hidden||(e.assignee?(i[e.assignee]=i[e.assignee]||[],i[e.assignee].push(e)):n.push(e.key))});var s=1,t=[];return _.each(i,function(e){var a=e[0].assigneeName,e={id:s++,name:a,lowercaseName:a.toLowerCase(),description:a,defaultSwimlane:!1,query:"",issueKeys:_.map(e,function(e){return e.key})};t.push(e)}),t.sort(GH.GridSwimlanesData.swimlaneNameComparator),_.isEmpty(n)||(e={id:s++,name:"Unassigned",description:"",defaultSwimlane:!1,query:"",issueKeys:n},a?t.splice(0,0,e):t.push(e)),t},GH.GridSwimlanesData.calculateEpicSwimlanes=function(e,i){var a=require("jira/featureflags/feature-manager"),n={},s=[],t={},r=[];_.each(e.issues,function(e){e.hidden||(e.epic?(n[e.epic]=n[e.epic]||[],n[e.epic].push(e.key),t[e.key]=e.epic):e.parentKey?r.push(e):e.typeId!==GH.EpicConfig.getEpicIssueTypeId()&&s.push(e.key))}),_.each(r,function(e){var a=t[e.parentKey];(a?n[a]:s).push(e.key)});var u=[],c=1,l=a.isFeatureEnabled("safe.migrate-epic-fields-to-issue-fields.read-path.fe");return _.each(i.epics,function(e){var a=l?GH.EpicConfig.getEpicNameString(i.epicIssueSummaries[e],e):GH.EpicConfig.getEpicNameString(i.epicNames[e],e),e={id:c++,name:a,lowercaseName:a.toLowerCase(),description:a,defaultSwimlane:!1,query:"",issueKeys:n[e]||[]};u.push(e)}),_.isEmpty(s)||(a={id:c++,name:"Issues without epics",description:"",defaultSwimlane:!0,query:"",issueKeys:s},u.push(a)),u},GH.GridSwimlanesData.calculateProjectSwimlanes=function(e){var a=[];_.each(e.issues,function(e){e.hidden||(a[e.projectId]=a[e.projectId]||[],a[e.projectId].push(e.key))});var i=[],n=1;return _.each(e.projects,function(e){e={id:n++,name:e.key,lowercaseName:e.key,description:e.name,defaultSwimlane:!1,query:"",avatarUrl:e.avatarUrl,issueKeys:a[e.id]||[]};0<e.issueKeys.length&&i.push(e)}),i.sort(GH.GridSwimlanesData.swimlaneNameComparator),i},GH.GridSwimlanesData.calculateNoneSwimlanes=function(e){return[{id:1,name:"None",description:"None",defaultSwimlane:!0,query:"",issueKeys:e.issues.filter(function(e){return!e.hidden}).map(function(e){return e.key})}]},GH.GridSwimlanesData.swimlaneNameComparator=function(e,a){return e.lowercaseName.localeCompare(a.lowercaseName)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/GridColumnsData.js' */
GH.GridColumnsData={},GH.GridColumnsData.Constraints={ISSUE_COUNT_EXCL_SUBS:"issueCountExclSubs",ISSUE_COUNT:"issueCount",NONE:"none"},GH.GridColumnsData.calculateColumnsData=function(t,n,s){n=n.columns;return{columns:n,columnIssueMapping:GH.GridColumnsData.getColumnIssueMapping(t,n),anyColumnBusted:!!s.fieldConfigured&&GH.GridColumnsData.computeBusted(n)}},GH.GridColumnsData.getColumnIssueMapping=function(t,n){var a={},u={},i={};return _.each(n,function(n){a[n.id]=[],i[n.id]={visible:0,hidden:0},_.each(n.statusIds,function(t){u[t]=n.id})}),_.each(t.issues,function(t){var n,s=u[t.statusId];a[s]&&(n=GH.GridColumnsData.getIssueStatsValue(t),t.hidden?i[s].hidden+=n:(a[s].push(t.key),i[s].visible+=n))}),_.each(n,function(t){t.stats=i[t.id]}),a},GH.GridColumnsData.getIssueStatsValue=function(t){var n=GH.RapidBoard.State.shouldUseTypeHierarchyLevel()?t.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL:Boolean(t.parentId),t=t.columnStatistic&&t.columnStatistic.statFieldId;return t===GH.GridColumnsData.Constraints.ISSUE_COUNT_EXCL_SUBS?n?0:1:t===GH.GridColumnsData.Constraints.ISSUE_COUNT?1:0},GH.GridColumnsData.computeBusted=function(t){var s=!1;return _.each(t,function(t){var n=t.stats.visible+t.stats.hidden;t.minBusted=void 0!==t.min&&t.min>n,t.maxBusted=void 0!==t.max&&t.max<n,s=s||t.minBusted||t.maxBusted}),s},GH.GridColumnsData.getColumnIdForStatus=function(t,n){t=_.find(t,function(t){return _.find(t.statusIds,function(t){if(t==n)return!0})});return!!t&&t.id};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ops/JiraBridge.js' */
JIRA.IssueNavigator.getSelectedIssueKey=function(){return GH.IssueOperationShortcuts.getSelectedIssueKey()},JIRA.IssueNavigator.getSelectedIssueId=function(){return GH.IssueOperationShortcuts.getSelectedIssueId()},JIRA.Issue.getIssueId=JIRA.IssueNavigator.getSelectedIssueId,JIRA.Issue.getIssueKey=JIRA.IssueNavigator.getSelectedIssueKey,JIRA.Issues.Api.getSelectedIssueId=JIRA.IssueNavigator.getSelectedIssueId,JIRA.Issues.Api.getSelectedIssueKey=JIRA.IssueNavigator.getSelectedIssueKey;;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkKBNavigation.js' */
GH.WorkKBNavigation={},GH.WorkKBNavigation.currentIndex=0,GH.WorkKBNavigation.currentColumn=0,GH.WorkKBNavigation.currentSwimlane=0,GH.WorkKBNavigation.columnChange=!1,GH.WorkKBNavigation.init=function(){AJS.$(GH).bind("issueSelected",function(e,o){GH.WorkKBNavigation.adaptCurrentPosition(o)})},GH.WorkKBNavigation.initCurrentPosition=function(){var e=GH.WorkSelectionController.getSelectedIssueKey();e?GH.WorkKBNavigation.setCurrentPosition(e,!0,!1):GH.WorkKBNavigation.resetCurrentPosition()},GH.WorkKBNavigation.adaptCurrentPosition=function(e){GH.WorkKBNavigation.columnChange?(GH.WorkKBNavigation.columnChange=!1,GH.WorkKBNavigation.setCurrentPosition(e,!1,!0)):GH.WorkKBNavigation.setCurrentPosition(e,!1,!1)},GH.WorkKBNavigation.setCurrentPosition=function(e,o,n){if(e){e=GH.GridDataController.getModel()._getIssuePositionAndDataByKey(e);if(e)return n||(GH.WorkKBNavigation.currentIndex=e.issueIndex),!o&&e.isSwimlane||(GH.WorkKBNavigation.currentColumn=e.columnId),void(GH.WorkKBNavigation.currentSwimlane=e.swimlaneId)}GH.WorkKBNavigation.resetCurrentPosition()},GH.WorkKBNavigation.resetCurrentPosition=function(){GH.WorkKBNavigation.currentIndex=0,GH.WorkKBNavigation.currentColumn=0,GH.WorkKBNavigation.currentSwimlane=0},GH.WorkKBNavigation.selectNextIssue=function(){var e,o;GH.WorkController.isActive()&&(e=GH.WorkSelectionController.getSelectedIssueKey(),o=GH.GridDataController.getModel(),e?GH.SwimlaneView.ensureSwimlaneExpandedForIssueKey(e)||(e=o.getNextIssueKey(e,GH.WorkKBNavigation.currentColumn))&&GH.WorkSelectionController.focusOnIssue(e):(o=o.getFirstIssueKey())&&GH.WorkSelectionController.focusOnIssue(o))},GH.WorkKBNavigation.selectPreviousIssue=function(){var e,o;GH.WorkController.isActive()&&(e=GH.WorkSelectionController.getSelectedIssueKey(),o=GH.GridDataController.getModel(),e?GH.SwimlaneView.ensureSwimlaneExpandedForIssueKey(e)||(e=o.getPreviousIssueKey(e,GH.WorkKBNavigation.currentColumn))&&GH.WorkSelectionController.focusOnIssue(e):(o=o.getLastIssueKey())&&GH.WorkSelectionController.focusOnIssue(o))},GH.WorkKBNavigation.selectNextColumn=function(){var e,o;GH.WorkController.isActive()&&((o=GH.WorkSelectionController.getSelectedIssueKey())&&(e=GH.GridDataController.getModel()).isIssueValid(o)?GH.SwimlaneView.ensureSwimlaneExpandedForIssueKey(o)||(o=e.getIssueKeyInNextColumn(o,GH.WorkKBNavigation.currentIndex))&&(GH.WorkKBNavigation.columnChange=!0,GH.WorkSelectionController.focusOnIssue(o)):GH.WorkKBNavigation.selectNextIssue())},GH.WorkKBNavigation.selectPreviousColumn=function(){var e,o;GH.WorkController.isActive()&&((o=GH.WorkSelectionController.getSelectedIssueKey())&&(e=GH.GridDataController.getModel()).isIssueValid(o)?GH.SwimlaneView.ensureSwimlaneExpandedForIssueKey(o)||(o=e.getIssueKeyInPreviousColumn(o,GH.WorkKBNavigation.currentIndex))&&(GH.WorkKBNavigation.columnChange=!0,GH.WorkSelectionController.focusOnIssue(o)):GH.WorkKBNavigation.selectNextIssue())},GH.WorkKBNavigation.toggleSwimlanes=function(){GH.SwimlaneView.toggleAllSwimlanes()};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkTransitionService.js' */
function _toConsumableArray(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}define("jira-agile/rapid/ui/work/work-transition-service",["require"],function(){"use strict";var i=require("underscore"),n=require("jquery"),t=require("jira-agile/rapid/ajax"),e=(require("jira/featureflags/feature-manager"),{});e.dataPromise=n.Deferred(),e.data=null,e.checkForUpdates=function(){var r=a();return!this.dataPromise.isRejected()&&i.isEqual(r,this.dataPromise.projectIds)||e.preloadData(r),this.dataPromise},e.preloadData=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a();this.dataPromise=t.get({url:"/xboard/work/transitions/sanitized",data:{projectId:r}},"workTransitionService").done(function(r){e.data=r}),this.dataPromise.projectIds=r};var a=function(){return GH.VersionController.getVersionModel().getProjects().map(function(r){return r.id}).sort()};e.getValidTransitionsForIssue=function(r){return t.get({bareUrl:t.buildBareRestUrl("/rest/api/2/issue/"+r+"/transitions")}).fail(t.handleGlobalErrors)},e.queryTransitionForColumn=function(e,i,r){var a=this,o=n.Deferred();return p().done(function(){var n=[];e.forEach(function(r){r=m(r);n.push(v(r,i))});var t;a._filterAvailableTransitionsForIssue(e,n,r).done(function(r){t=s(e,r,i),o.resolve(t)}).fail(o.reject)}).fail(o.reject),o};var s=function(r,n,t){var e;return 1===r.length?(e=n[0],i.isEmpty(e)||o(n)?u(AJS.format("Something isn\'\'t letting us move {0} to {1}. Ask your project administrator to check the workflow settings and transition conditions.",r[0],t.name)):e):f(n)?u(AJS.format("Unable to transition multiple issues to {0}. The transition screen is not supported when transitioning multiple issues.",t.name)):d(n)?(e=n[0],i.isEmpty(e)?u(AJS.format("Unable to transition the issues to {0}. Check if all transition conditions are met when moving multiple issues.",t.name)):e):c(n)?[{}]:u(AJS.format("Unable to transition issues to {0}. Check if the issues you\'\'re transitioning have the same set of transitions.",t.name))},o=function(r){return r.every(function(r){return r.every(function(r){return r.isInvalid})})},u=function(r){return[{error:r}]},f=function(r){return r.some(function(r){return r.some(function(r){return r.hasScreen})})},c=function(r){return r.every(function(r){return 1===r.length})},d=function(r){var n=r[0];return r.every(function(r){return i.isEqual(r,n)})};e._filterAvailableTransitionsForIssue=function(r,n,t){var r=n.some(function(r){return r.some(function(r){return r.hasConditions})})&&1===r.length,e=AJS.$.Deferred();return r?(t.done(function(r){e.resolve(l(n,r))}).fail(function(){e.reject()}),e.promise()):e.resolve(n)};var l=function(r,n){var n=n.transitions,r=r[0],t=new Set;return n.map(function(r){return Number(r.id)}).forEach(function(r){return t.add(r)}),[r.map(function(r){r=Object.assign({},r);return t.has(r.transitionId)||(r.isInvalid=!0),r})]};e.getTransitionById=function(r,n){r=h(r);return i.find(this.data.workflowToTransitions[r],function(r){return r.transitionId===Number(n)})},e.hasAnyTransitionHasScreen=function(r,n){return r.some(function(r){return e.getTransitionById(r,n).hasScreen})};var m=function(r){var n=h(r),n=e.data.workflowToTransitions[n];if(i.isUndefined(n))return[];var t=g(r);return n.filter(function(r){return!r.isInitial&&(i.isUndefined(r.fromStatusId)||r.fromStatusId===Number(t.statusId))})},v=function(t,r){return r.statusIds.reduce(function(r,n){return r.push.apply(r,_toConsumableArray(t.filter(function(r){return n===String(r.toStatusId)}))),r},[])},p=function(){return e.checkForUpdates()},g=function(r){return GH.GridDataController.getModel().getIssueDataByKey(r)},h=function(r){r=g(r);return e.data.projectAndIssueTypeToWorkflow[r.projectId][r.typeId]};return e});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkDragAndDrop.js' */
!function(){var d=require("jira-agile/rapid/ui/work/work-transition-service"),r=require("jira-agile/rapid/analytics-tracker"),l=require("underscore"),n=require("jira/featureflags/feature-manager"),o=(require("jira-agile/features/feature-flags"),require("jira-agile/rapid/events")),g=require("jira/util/events"),p=require("jira/util/events/types"),D=require("jira-agile/browser-metrics/browser-metrics-util"),a=require("atlassian/libs/browser-storage-controls");function u(r,o){return!!o&&!d.hasAnyTransitionHasScreen(r,o)}GH.WorkDragAndDrop=new o,GH.WorkDragAndDrop.currentDragElement=null,GH.WorkDragAndDrop.cancel=!1,GH.WorkDragAndDrop.enabled=!1,GH.WorkDragAndDrop.skipNextRank=!1,GH.WorkDragAndDrop.analytics={dragAndDrop:new r("gh.rapidboard.work.dragAndDrop"),ranking:new r("gh.rapidboard.rankissues")},GH.WorkDragAndDrop.init=function(){GH.WorkDragAndDrop.enabled=!0},GH.WorkDragAndDrop.initDraggables=function(r){GH.WorkDragAndDrop.enabled&&setTimeout(function(){GH.WorkDragAndDrop._registerDraggables(r)},0)},GH.WorkDragAndDrop._registerDraggables=function(r){var e=GH.RankingModel.canUserRank();r.find(".ghx-columns").each(function(r,o){o=AJS.$(o);e?o.find(".ghx-column").on("mousedown",function(){document.activeElement&&document.activeElement.blur()}).agileSortable({revert:0,zIndex:3e3,start:GH.WorkDragAndDrop.issueDragStart,stop:GH.WorkDragAndDrop.issueDragStop,items:".js-parent-drag",cancel:".js-fake-parent, .ghx-parent-group > .ghx-subtask-group",update:GH.WorkDragAndDrop.updateIssueHandler}).find(".ghx-subtask-group").agileSortable({revert:0,zIndex:3e3,start:function(r,o){GH.WorkDragAndDrop.issueDragStart.apply(this,[r,o]);o=AJS.$(o.item).parent();2<o.children().length&&o.addClass("ghx-contain")},stop:function(r,o){GH.WorkDragAndDrop.issueDragStop.apply(this,[r,o]),AJS.$(o.item).parent().removeClass("ghx-contain")},items:".ghx-issue-subtask",update:GH.WorkDragAndDrop.updateIssueHandler}):GH.WorkDragAndDrop._initIssueCardsDraggable(o.find(".js-issue"),o)})},GH.WorkDragAndDrop.registerSingleCardDraggable=function(r){var o;GH.RankingModel.canUserRank()||(o=r.closest(".ghx-columns"),GH.WorkDragAndDrop._initIssueCardsDraggable(r,o))},GH.WorkDragAndDrop._initIssueCardsDraggable=function(r,o){r.draggable({revert:!0,revertDuration:0,zIndex:3e3,containment:o,start:GH.WorkDragAndDrop.issueDragStart,stop:GH.WorkDragAndDrop.issueDragStop})},GH.WorkDragAndDrop.updateIssueHandler=function(r,o){var e,n;GH.WorkDragAndDrop.skipNextRank?AJS.$(this).agileSortable("cancel"):GH.WorkDragAndDrop.cancel||(n=AJS.$(o.item),e=GH.WorkSelectionController.getSelectedIssuesInOrder(),o=GH.WorkSelectionController.getIssueKey(n.prev(".js-issue, .ghx-parent-group")),n=GH.WorkSelectionController.getIssueKey(n.next(".js-issue, .ghx-parent-group")),GH.WorkDragAndDrop.analytics.ranking.trigger("dragAndDrop",e.length),GH.WorkRanking.rankIssues(e,o,n))},GH.WorkDragAndDrop.issueDragStart=function(r,o){window.dispatchEvent(new Event("jira:gh:work:drag-and-drop:start")),GH.WorkDragAndDrop.cancel=!1,GH.WorkDragAndDrop.skipNextRank=!1,GH.WorkContextMenuController.hideContextMenu();var e=!!o.item,n=e?AJS.$(o.item):AJS.$(this);AJS.$(o.placeholder).height(n.height());var a=AJS.$(this);AJS.$(document).bind("keydown.dragAndDrop",function(r){27===r.keyCode&&(GH.WorkDragAndDrop.cancel=!0,e?a.agileSortable("cancel"):a.draggable("cancel"),GH.WorkDragAndDrop.analytics.dragAndDrop.trigger("cancel"))}),GH.WorkDragAndDrop.currentDragElement=n;GH.WorkSelectionController.getIssueId(n);o=GH.WorkSelectionController.getIssueKey(n);GH.WorkSelectionController.ensureIssueSelected(r,o),GH.WorkDragAndDrop.droppablesReady=!1,AJS.$(".ghx-column").agileDroppable("destroy");r=GH.WorkSelectionController.getSelectedIssueKeys();GH.WorkDragAndDrop.initDropZoneOverlay(n),GH.WorkDragAndDrop.initDropZones(o),1<r.length&&(n.hasClass("ghx-parent-group")?n.children(".js-issue"):n).addClass("ghx-move-main").find(".ghx-move-count > b").text(r.length),GH.WorkDragAndDrop.analytics.dragAndDrop.trigger("start","issueCount",r.length)},GH.WorkDragAndDrop.issueDragStop=function(r,o){window.dispatchEvent(new Event("jira:gh:work:drag-and-drop:stop")),AJS.$(document).unbind("keydown.dragAndDrop");var e=o.item?AJS.$(o.item):AJS.$(this);(e.hasClass("ghx-parent-group")?e.children(".js-issue"):e).removeClass("ghx-move-main"),GH.WorkDragAndDrop.destroyDropZoneOverlay(),GH.WorkDragAndDrop.cleanTransitionClasses(),GH.WorkDragAndDrop.currentDragElement=null,GH.WorkDragAndDrop.cancel||GH.RankingModel.isRankable()||(e=Math.abs(o.position.left),o=Math.abs(o.position.top),e<35&&50<o&&GH.WorkDragAndDrop.showNotRankableWarning()),GH.WorkDragAndDrop.droppablesReady=!1,GH.WorkDragAndDrop.analytics.dragAndDrop.trigger("complete")},GH.WorkDragAndDrop.showNotRankableWarning=function(){var r=GH.RapidBoard.getRapidViewConfigurationUrl(GH.WorkController.rapidViewData.id,"filter"),r=AJS.format("Ranking is disabled, as the Filter Query for this board is not ordered by ascending Rank. Please check your {0}filter configuration{1}.",'<a href="'+r+'">',"</a>");GH.Notification.showWarning(r)},GH.WorkDragAndDrop.isIssueBeingDragged=function(r){var o=GH.WorkDragAndDrop.currentDragElement;if(o)return r===AJS.$(o).data("issue-key")},GH.WorkDragAndDrop.issueDropped=function(r,o){var e,n,a,t,i,s,d;GH.WorkDragAndDrop.cancel||(e=GH.WorkSelectionController.getSelectedIssueKeys(),GH.WorkDragAndDrop.trigger("before:transitionAndRankIssue",{selectedIssueNo:e.length}),D.performanceMark("before:transitionAndRankIssueUI"),s=void 0,n=(i=AJS.$(this)).attr("target-transition-id"),a=parseInt(i.attr("target-transition-status"),10),t=GH.RapidBoard.State.getRapidViewId(),i=i.closest(".ghx-target-option").data("column-id"),o=o.draggable.closest(".ghx-column").data("column-id"),u(e,n)?(s=GH.WorkController.optimisticallyTransition(e,n,a,o,i),D.performanceMark("transitionMethod: optimisticTransition"),D.performanceMark("after:transitionAndRankIssueUI"),s.always(function(){GH.WorkDragAndDrop.trigger("after:transitionAndRankIssue")})):s=1<e.length?(d={rapidViewId:t,issueKeys:e,targetColumn:i,selectedTransitionId:n,mode:GH.RapidBoard.State.getMode()},GH.WorkController.submitTransitionAndRank(d).always(function(){GH.WorkController.reload().done(function(){D.performanceMark("transitionMethod: fullPageReload"),D.performanceMark("after:transitionAndRankIssueUI"),GH.WorkDragAndDrop.trigger("after:transitionAndRankIssue")})})):(d=GH.WorkSelectionController.getIssueId(AJS.$(this)),GH.WorkDragAndDrop.executeWorkflowTransition(d,n,a),AJS.$.Deferred().resolve()),s.done(function(r,o){GH.WorkController.fireSlaEvent("taskSuccess","dragAndDropBoard")}),s.fail(function(r,o){var e=o&&o.status;null==e||429===e||500<=e?GH.WorkController.fireSlaEvent("taskFail","dragAndDropBoard",{statusCode:o}):400<=e&&e<500&&GH.WorkController.fireSlaEvent("taskSuccess","dragAndDropBoard")}),AJS.trigger("analyticsEvent",{name:"gh.rapidboard.transitionissues.dragAndDrop",data:{issueCount:e.length,boardId:t,fromColumn:o,toColumn:i,totalColumns:GH.GridDataController.getModel().getColumns().length}}),GH.WorkDragAndDrop.skipNextRank=!0,s.done(function(){var r=GH.DetailsView.getSelectedIssueKey();-1!==e.indexOf(r)&&g.trigger(p.REFRESH_ISSUE_PAGE,[r])}))},GH.WorkDragAndDrop._shouldUseOptimisticTranstion=u,GH.WorkDragAndDrop.dropzoneOverlay=null,GH.WorkDragAndDrop.initDropZoneOverlay=function(r){var o=GH.GridDataController.getModel().getColumns(),e=parseInt(r.closest(".ghx-column").attr("data-column-id"),10),e=AJS.$(GH.tpl.rapid.workdraganddrop.renderDropZoneOverlay({columns:o,sourceColumnId:e}));GH.WorkDragAndDrop.dropzoneOverlay=e;r=r.closest(".ghx-swimlane");r.addClass("ghx-drag-in-progress"),r.append(e),GH.WorkDragAndDrop.positionDropZoneOverlay()},GH.WorkDragAndDrop.positionDropZoneOverlayGridLayout=function(){var r=GH.WorkDragAndDrop.currentDragElement,o=r.closest(".ghx-columns"),e=$("#ghx-pool-column"),n=o.position().top,a=r.closest(".ghx-swimlane").position().top,r=e.scrollTop(),e=r-a,a=n+(e=0<e?e:0),e=o.height(),o=$("#ghx-pool-column").height()-$("#ghx-column-header-group").height(),n=Math.min(e,o-a+r,n+e-a),e=n<1?"hidden":"";$(".ghx-zone-overlay").css({top:a+6,height:n,visibility:e})},GH.WorkDragAndDrop.gridLayoutOn=function(){return n.isFeatureEnabled("jsw.classic.board.horizontal-scroll")&&window.CSS&&window.CSS.supports&&window.CSS.supports("display","grid")&&5<AJS.$(".ghx-column-headers").children().length},GH.WorkDragAndDrop.positionDropZoneOverlay=function(){var r,o,e,n,a,t,i;GH.WorkDragAndDrop.gridLayoutOn()?(GH.WorkDragAndDrop.positionDropZoneOverlayGridLayout(),AJS.$("#ghx-pool-column").bind("scroll.overlayResizer",GH.WorkDragAndDrop.positionDropZoneOverlayGridLayout)):(a=(r=AJS.$(".ghx-zone-overlay")).prev(".ghx-columns")).position()&&(o=(t=AJS.$("#ghx-pool")).scrollTop(),i=(e=a.position().top)+o,(n=e-(t.children(".ghx-swimlane").first().children(".ghx-columns").position().top+o))<0&&(i-=n),a=n=a.height(),t=AJS.$(window).height()-t.offset().top-i+o,r.css({top:i+6,left:0,height:a=(i=e+n+o-i)<(a=t<a?t:a)?i:a,visibility:a<1?"hidden":""}),AJS.$("#ghx-pool").bind("scroll.overlayResizer",l.debounce(GH.WorkDragAndDrop.positionDropZoneOverlay,100)))},GH.WorkDragAndDrop.initDropZones=function(r,o){var t,i,s,e=GH.WorkDragAndDrop.currentDragElement;e&&GH.WorkSelectionController.getIssueKey(e)==r&&GH.WorkDragAndDrop.dropzoneOverlay&&(t=GH.GridDataController.getModel(),i=AJS.$(".ghx-column-headers"),e=GH.WorkDragAndDrop.dropzoneOverlay.find(".ghx-zone-table"),s=d.getValidTransitionsForIssue(r),e.each(function(r,o){var e=AJS.$(o),n=e.data("column-id"),a=t.getColumnById(n);a&&(o=GH.WorkSelectionController.getSelectedIssueKeys(),GH.WorkDragAndDrop.setupLoadingDropZoneForColumn(e),d.queryTransitionForColumn(o,a,s).done(function(r){var o;l.isEmpty(r)||(o=i.children(".ghx-column[data-id="+n+"]"),e.addClass("ghx-target-option"),o.addClass("ghx-target-option"),GH.WorkDragAndDrop.setupDropZonesForColumn(e,o,r),GH.WorkDragAndDrop.forceDroppablesReload())}).fail(function(){GH.WorkDragAndDrop.destroyDropZoneOverlay(),GH.WorkDragAndDrop.cleanTransitionClasses()}))}))},GH.WorkDragAndDrop.getTransitionsForColumn=function(r,o){for(var e=AJS.$.Deferred(),n=[],a=0;a<r.transitions.length;a++)for(var t=0;t<o.statusIds.length;t++)o.statusIds[t]==r.transitions[a].targetStatus&&n.push(r.transitions[a]);return e.resolve(n)},GH.WorkDragAndDrop.setupLoadingDropZoneForColumn=function(r){var o=AJS.$(GH.tpl.rapid.workdraganddrop.renderLoadingDropZone());r.append(o)},GH.WorkDragAndDrop.setupDropZonesForColumn=function(o,r,e){o.empty(),l.each(e,function(r){r.isInvalid||(r=AJS.$(GH.tpl.rapid.workdraganddrop.renderDropZone({transition:r,singleTransition:1===e.length})),o.append(r))});var n={accept:".js-issue, .ghx-parent-group",hoverClass:"ghx-target-hover",over:function(){o.addClass("ghx-target-hover"),r.addClass("ghx-target-hover")},out:function(){o.find(".ghx-drop-zone.ghx-target-hover").length<1&&(o.removeClass("ghx-target-hover"),r.removeClass("ghx-target-hover"))},tolerance:"pointer"};l.isUndefined(e[0].error)?n.drop=GH.WorkDragAndDrop.issueDropped:n.drop=function(){GH.WorkDragAndDrop.destroyDropZoneOverlay(),GH.WorkDragAndDrop.cleanTransitionClasses(),GH.Notification.showInfo(e[0].error)},o.children().agileDroppable(n)},GH.WorkDragAndDrop.destroyDropZoneOverlay=function(){GH.WorkDragAndDrop.dropzoneOverlay&&(GH.WorkDragAndDrop.dropzoneOverlay.remove(),GH.WorkDragAndDrop.dropzoneOverlay=null,AJS.$("#ghx-pool").unbind("scroll.overlayResizer"),GH.WorkDragAndDrop.gridLayoutOn()&&($("#ghx-pool").off("scroll.overlayResizer"),$("#ghx-pool-column").off("scroll.overlayResizer")))},GH.WorkDragAndDrop.cleanTransitionClasses=function(){AJS.$(".ghx-column").removeClass("ghx-target-option").removeClass("ghx-target-hover"),AJS.$(".ghx-swimlane").removeClass("ghx-drag-in-progress")},GH.WorkDragAndDrop.forceDroppablesReload=function(){var r=AJS.$.ui.ddmanager,o=r.current;o&&(r.prepareOffsets(o,null),r.drag(o,null)),GH.WorkDragAndDrop.droppablesReady=!0},GH.WorkDragAndDrop.executeWorkflowTransition=function(r,o,e){GH.WorkDragAndDrop.transitionTargetStatus=e;e=AJS.$("#atlassian-token").attr("content"),e=n.isFeatureEnabled("jfp.magma.cookie-controls-cookies-legacy")?a.getCookie("atlassian.xsrf.token"):getCookieValue("atlassian.xsrf.token"),e=GH.Ajax.CONTEXT_PATH+"/secure/WorkflowUIDispatcher.jspa?id={0}&action="+o+"&atl_token="+e+"&returnUrl=",e=AJS.$('<a href="'+e+'" class="issueaction-workflow-transition" style="display:none"></a>');AJS.$("#gh").append(e),e.click(),e.remove()},GH.WorkDragAndDrop.transitionTargetStatus=void 0}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkDragAndDrop.soy' */
// This file was automatically generated from WorkDragAndDrop.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.workdraganddrop.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.workdraganddrop == 'undefined') { GH.tpl.rapid.workdraganddrop = {}; }


GH.tpl.rapid.workdraganddrop.renderDropZoneOverlay = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-zone-overlay"><div class="ghx-zone-overlay-table">';
  var columnList4 = opt_data.columns;
  var columnListLen4 = columnList4.length;
  for (var columnIndex4 = 0; columnIndex4 < columnListLen4; columnIndex4++) {
    var columnData4 = columnList4[columnIndex4];
    output += (columnData4.id == opt_data.sourceColumnId) ? '<div class="ghx-zone-overlay-column ghx-empty"></div>' : '<div class="ghx-zone-overlay-column ' + ((columnData4.maxBusted) ? 'ghx-busted-max' : '') + ' ' + ((columnData4.minBusted) ? 'ghx-busted-min' : '') + ' ' + ((columnData4.collapsed) ? 'ghx-collapsed-column' : '') + '"><div class="ghx-zone-table" data-column-id="' + soy.$$escapeHtml(columnData4.id) + '"></div></div>';
  }
  output += '</div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.workdraganddrop.renderDropZoneOverlay.soyTemplateName = 'GH.tpl.rapid.workdraganddrop.renderDropZoneOverlay';
}


GH.tpl.rapid.workdraganddrop.renderDropZone = function(opt_data, opt_ignored) {
  return '' + ((opt_data.transition.error) ? '<div class="ghx-zone-row ghx-undroppable-column"><div class="ghx-undroppable-message"></div></div>' : '<div class="ghx-zone-row" ' + ((opt_data.transition.transitionId) ? 'target-transition-id="' + soy.$$escapeHtml(opt_data.transition.transitionId) + '"' : '') + ' target-transition-status="' + soy.$$escapeHtml(opt_data.transition.toStatusId) + '"><div class="ghx-zone-cell">' + ((! opt_data.singleTransition) ? '<h2>' + soy.$$escapeHtml(opt_data.transition.name) + '</h2>' : '') + '</div></div>');
};
if (goog.DEBUG) {
  GH.tpl.rapid.workdraganddrop.renderDropZone.soyTemplateName = 'GH.tpl.rapid.workdraganddrop.renderDropZone';
}


GH.tpl.rapid.workdraganddrop.renderLoadingDropZone = function(opt_data, opt_ignored) {
  return '<div class="ghx-zone-row"><div class="ghx-zone-cell ghx-loading-cell"><h2>' + soy.$$escapeHtml('Loading...') + '</h2></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.workdraganddrop.renderLoadingDropZone.soyTemplateName = 'GH.tpl.rapid.workdraganddrop.renderLoadingDropZone';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkRanking.js' */
!function(){var e=require("jira-agile/rapid/events"),n=require("jira-agile/rapid/analytics-tracker"),a=require("jira-agile/browser-metrics/browser-metrics-util");require("jira/featureflags/feature-manager");GH.WorkRanking=new e,GH.WorkRanking.events={RANK_CHANGE:Symbol("RANK_CHANGE")},GH.WorkRanking.analytics=new n("gh.rapidboard.rankissues"),GH.WorkRanking.sendToTop=function(e){var n,r;!GH.WorkController.isActive()||(r=GH.WorkSelectionController.getSelectedIssueKey())&&(!GH.RankingModel.canUserRankIssue(r)||(n=GH.RankingModel.getFirstRankableIssueKeyInColumn(r))&&(r=GH.WorkSelectionController.getSelectedIssuesInOrder(),GH.WorkRanking.analytics.trigger("sendToTop"+(e||""),r.length),e=GH.RankingModel.getBestFitSelectionAfterRank(r),GH.WorkRanking.rankIssues(r,null,n,function(){GH.Notification.showSuccess("Issue has been re-ranked to the top of its column.")}),e&&GH.WorkSelectionController.gotoIssue(e)))},GH.WorkRanking.sendToBottom=function(e){var n,r;!GH.WorkController.isActive()||(r=GH.WorkSelectionController.getSelectedIssueKey())&&(!GH.RankingModel.canUserRankIssue(r)||(n=GH.RankingModel.getLastRankableIssueKeyInColumn(r))&&(r=GH.WorkSelectionController.getSelectedIssuesInOrder(),GH.WorkRanking.analytics.trigger("sendToBottom"+(e||""),r.length),e=GH.RankingModel.getBestFitSelectionAfterRank(r),GH.WorkRanking.rankIssues(r,n,null,function(){GH.Notification.showSuccess("Issue has been re-ranked to the bottom of its column.")}),e&&GH.WorkSelectionController.gotoIssue(e)))},GH.WorkRanking.rankIssues=function(r,e,n,o){GH.WorkRanking.trigger("before:workRankIssue",{selectedIssueNo:r.length}),a.performanceMark("before:workRankIssueUI"),GH.RankingModel.reorderIssues(r,e,n),GH.SwimlaneView.rerenderCellOfIssue(n||e),a.performanceMark("after:workRankIssueUI"),GH.WorkRanking.trigger(GH.WorkRanking.events.RANK_CHANGE,r,e,n),GH.ECX.markUserInteraction(GH.ECX.INTERACTION_TYPE.BOARD.ISSUE_RANK);n={issueKeys:r,rankAfterKey:e,rankBeforeKey:n,customFieldId:GH.RankingModel.getRankCustomFieldId()};GH.Ajax.put({url:"/rank",data:n}).done(function(e){var n=GH.RankController.getErrorRankResultFromResponse(e);n?(GH.Notification.showWarning(n.errors[0]),GH.WorkController.reload().done(function(){GH.WorkRanking.trigger("after:workRankIssue")})):(e.success.rankableChanges.map(function(e){e.wasChanged&&(e=GH.GridDataController.getModel().data.issues[e.issueKey],GH.RapidBoard.sendIssueUpdatedTrackEvent(e,[{name:"customfield_"+GH.RankingModel.getRankCustomFieldId()}]))}),GH&&GH.ECX&&GH.ECX.fireReadEvent&&GH.ECX.fireReadEvent("boardScreen","issueRankChanged",{issueKeys:r}),_.isFunction(o)&&o(e),GH.WorkRanking.trigger("after:workRankIssue"))}).fail(function(e){GH.RapidBoard.ViewController.showErrorPanelDragAndDrop(r,e),GH.WorkController.reload().done(function(){GH.WorkRanking.trigger("after:workRankIssue")})})}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/DurationsTimer.js' */
!function(i,s){function t(t){s(this),this._durations=t.slice(),this._accumulatedDuration=0,t.length&&(i.on("focus",this.start,this).on("blur",this.pause,this).on("unload",this.pause,this),this.start())}t.prototype={start:function(){if(this._timeout)return this;var t=this._durations[0]-this._accumulatedDuration;if(t<0)return this._tick(),this;var i=this;return this._timeoutStart=new Date,this._timeout=setTimeout(function(){i._clearTimeout(),i._accumulatedDuration+=new Date-i._timeoutStart,i._tick()},t),this},pause:function(){return this._timeout&&(this._clearTimeout(),this._accumulatedDuration+=new Date-this._timeoutStart),this},destroy:function(){return this._clearTimeout(),i.off(this),this},_tick:function(){this.trigger("tick",this._durations[0]),this._durations.shift(),this._durations.length?this.start():this.destroy()},_clearTimeout:function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null)}},GH.DurationsTimer=t}(GH.windowActivityNotifier,GH.Events);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ops/Poller.js' */
GH.Poller=function(n){var i={},a=!1;function o(){a||(a=!0,_.each(i,e))}function t(){a&&(a=!1,_.each(i,c))}function e(n){null!=n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}function l(n,o){var t;!n&&null==o.timeout||(t=_.partial(u,o),(n=o.handler.call(o.context,n))&&n.done?n.done(t):t())}function r(n,o){var t;!n&&null==o.timeout||(t=_.partial(u,o),(n=o.handler.call(o.context,n))&&n.done&&n.done(function(n){f(n,o,t)}))}function f(n,o,t){n===o.backoffResetCondition?v(o):o.interval>=o.maxBackoffInterval?o.interval=o.maxBackoffInterval:(o.pollingCount++,o.interval+=o.pollingCount%o.thresholdPollCount==0?o.pollingOffset:0),t()}function u(n){var o=!0===n.backoffRequired?_.partial(r,!1,n):_.partial(l,!1,n);n.timeout&&clearTimeout(n.timeout),a||(n.timeout=setTimeout(o,n.interval))}function c(n){!0===n.backoffRequired?(v(n),r(!0,n)):l(!0,n)}var v=function(n){n.pollingCount=0,n.interval=n.originalInterval};return{init:function(){n.on("focus",t).on("blur",o).on("unload",o)},addPoller:function(n,o,t,e){"function"==typeof o&&(e=t,t=o,o=3e4),this.removePoller(n);e={id:n,interval:o,handler:t,context:e};i[n]=e,a||u(e)},addPollerWithBackoff:function(n,o,t,e,l){this.removePoller(n);t={id:n,interval:e.interval||3e4,originalInterval:e.interval||3e4,handler:o,context:l,pollingCount:0,thresholdPollCount:e.thresholdPollCount||2,pollingOffset:e.pollingOffset||3e4,maxBackoffInterval:e.maxBackoffInterval||9e5,backoffRequired:e.backoffRequired,backoffResetCondition:t};i[n]=t,a||u(t)},removePoller:function(n){var o=i[n];o&&(e(o),delete i[n])},removeAll:o,pollingInterval:f}}(GH.windowActivityNotifier);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/ContextMenu.js' */
!function(){"use strict";GH.ContextMenu=function(t){this.actionGroups=t.actionGroups,this.dropdown=null},GH.ContextMenu.menuSelector="#gh-ctx-menu",GH.ContextMenu.contentSelector="#gh-ctx-menu-content",GH.ContextMenu.triggerSelector="#gh-ctx-menu-trigger",GH.ContextMenu.prototype._executeContextAction=function(t){this._findActionById(t).actionFn()},GH.ContextMenu.prototype._findActionById=function(e){var n=[];return _.each(this.actionGroups,function(t){n=n.concat(t.actions)}),_.find(n,function(t){return t.id===e})},GH.ContextMenu.prototype.showAt=function(t){var e,n;_.isUndefined(t)||_.isNull(t)||(this._initDropdown(),e=t.pageX,n=t.pageY,t=AJS.$(GH.ContextMenu.contentSelector).height(),GH.Util.UI.isVisibleY(n+t)||(n-=t),this._positionDropdownAt(e,n),this.dropdown.show())},GH.ContextMenu.prototype._positionDropdownAt=function(t,e){AJS.$(GH.ContextMenu.triggerSelector).offset({left:t,top:e})},GH.ContextMenu.prototype._initDropdown=function(){var t=require("jira/ajs/dropdown/dropdown");AJS.$(GH.ContextMenu.menuSelector).remove();var e=GH.tpl.contextmenu.renderContextMenu({ctxActionGroups:this.actionGroups});AJS.$("#gh").append(e);var n=this,e=AJS.$(GH.ContextMenu.contentSelector);e.click(function(t){var e=AJS.$(t.target).closest(".js-context-menu-action").attr("data-ctx-action");_.isUndefined(e)||!1===e||(n._executeContextAction(e),t.preventDefault())});e={content:e,trigger:AJS.$(GH.ContextMenu.triggerSelector),alignment:AJS.LEFT};this.dropdown=t.create(e)[0];var o=this.dropdown.layerController._validateClickToClose;this.dropdown.layerController._validateClickToClose=function(t){return 2!==t.button&&(!o||o.apply(this,arguments))}},GH.ContextMenu.prototype.hide=function(){this.dropdown&&this.dropdown.hide(),AJS.$(GH.ContextMenu.menuSelector).remove(),AJS.$(GH.ContextMenu.contentSelector).remove(),AJS.$(GH.ContextMenu.triggerSelector).remove(),AJS.$(GH.ContextMenu.triggerSelector+"_drop").remove()}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/component/ContextMenu.soy' */
// This file was automatically generated from ContextMenu.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.contextmenu.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.contextmenu == 'undefined') { GH.tpl.contextmenu = {}; }


GH.tpl.contextmenu.renderContextMenu = function(opt_data, opt_ignored) {
  var output = '<div id="gh-ctx-menu" class="aui-dd-parent"><div id="gh-ctx-menu-trigger" class="aui-dd-trigger" style="width:1px; height:1px; position:absolute;"></div><div id="gh-ctx-menu-content" class="aui-list">';
  var ctxActionGroupList4 = opt_data.ctxActionGroups;
  var ctxActionGroupListLen4 = ctxActionGroupList4.length;
  for (var ctxActionGroupIndex4 = 0; ctxActionGroupIndex4 < ctxActionGroupListLen4; ctxActionGroupIndex4++) {
    var ctxActionGroupData4 = ctxActionGroupList4[ctxActionGroupIndex4];
    output += GH.tpl.contextmenu.renderContextActionGroup({ctxActionGroup: ctxActionGroupData4, isLast: ctxActionGroupIndex4 == ctxActionGroupListLen4 - 1});
  }
  output += '</div><textarea id="gh-ctx-menu-copy-to-clipboard" value="" readonly></textarea></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.contextmenu.renderContextMenu.soyTemplateName = 'GH.tpl.contextmenu.renderContextMenu';
}


GH.tpl.contextmenu.renderContextActionGroup = function(opt_data, opt_ignored) {
  var output = ((opt_data.ctxActionGroup.label) ? '<h5>' + soy.$$escapeHtml(opt_data.ctxActionGroup.label) + '</h5>' : '') + '<ul class="aui-list-section aui-first ' + ((opt_data.isLast) ? 'aui-last' : '') + '">';
  var ctxActionList21 = opt_data.ctxActionGroup.actions;
  var ctxActionListLen21 = ctxActionList21.length;
  for (var ctxActionIndex21 = 0; ctxActionIndex21 < ctxActionListLen21; ctxActionIndex21++) {
    var ctxActionData21 = ctxActionList21[ctxActionIndex21];
    output += GH.tpl.contextmenu.renderContextAction({ctxAction: ctxActionData21});
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.contextmenu.renderContextActionGroup.soyTemplateName = 'GH.tpl.contextmenu.renderContextActionGroup';
}


GH.tpl.contextmenu.renderContextAction = function(opt_data, opt_ignored) {
  var output = '<li id="' + soy.$$escapeHtml(opt_data.ctxAction.id) + '-container" class="aui-list-item"><a  data-ctx-action="' + soy.$$escapeHtml(opt_data.ctxAction.id) + '" id="' + soy.$$escapeHtml(opt_data.ctxAction.id) + '" class="aui-list-item-link js-context-menu-action" title="' + soy.$$escapeHtml(opt_data.ctxAction.label) + '"' + ((opt_data.ctxAction.href != null) ? 'href="' + soy.$$escapeHtml(opt_data.ctxAction.href) + '"' : 'href="#"') + '>' + soy.$$escapeHtml(opt_data.ctxAction.label);
  if (opt_data.ctxAction.shortcut) {
    output += '<span class="ghx-shortcut">';
    var keyList48 = opt_data.ctxAction.shortcut.keys;
    var keyListLen48 = keyList48.length;
    for (var keyIndex48 = 0; keyIndex48 < keyListLen48; keyIndex48++) {
      var keyData48 = keyList48[keyIndex48];
      output += (keyIndex48 == 0) ? soy.$$escapeHtml(keyData48) : '<span class="ghx-separator">' + soy.$$escapeHtml(opt_data.ctxAction.shortcut.separator) + '</span><span class="ghx-monospace">' + soy.$$escapeHtml(keyData48) + '</span>';
    }
    output += '</span>';
  }
  output += '</a></li>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.contextmenu.renderContextAction.soyTemplateName = 'GH.tpl.contextmenu.renderContextAction';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/work/WorkContextMenuController.js' */
!function(){"use strict";var e=require("jira-agile/rapid/analytics-tracker"),l=require("jira-agile/rapid/const/PageMode"),u=require("jira/analytics/web-client"),c=require("jira/util/events"),d=require("jira/util/events/types");GH.WorkContextMenuController={},GH.WorkContextMenuController.ctxMenu=null,GH.WorkContextMenuController.Analytics={},GH.WorkContextMenuController.Analytics.show=new e("gh.issue.ctx.menu.show"),GH.WorkContextMenuController.Analytics.action=new e("gh.issue.ctx.menu.action"),GH.WorkContextMenuController.showContextMenuAt=function(e,t){var n;GH.WorkContextMenuController.hideContextMenu(),0<AJS.$(e.target).closest("a").length||(n=GH.WorkContextMenuController.resolveContext(t),t={actionGroups:GH.WorkContextMenuController.resolveActionsForContext(n)},GH.WorkContextMenuController.ctxMenu=new GH.ContextMenu(t),GH.WorkContextMenuController.ctxMenu.showAt(e),e.preventDefault(),AJS.$(GH.ContextMenu.menuSelector).focus(),GH.WorkContextMenuController.Analytics.show.trigger(n.type,"selectedIssuesCount",n.selectedIssues.length))},GH.WorkContextMenuController.resolveContext=function(e){var t=GH.WorkSelectionController.getSelectedIssuesInOrder(),e=_.extend({selectedIssues:t},e);e.type=GH.WorkControls.getBoardType();var n=!1,t=GH.GridDataController.getModel().getIssueDataByKeys(t);e.selectedIssuesData=t,e.flaggedIssuesCount=_.where(t,{flagged:!0}).length;var o=GH.RapidBoard.State.shouldUseTypeHierarchyLevel();return _.every(t,function(e){return!(o&&e.typeHierarchyLevel===GH.RapidViewConfig.SUBTASK_HIERARCHY_LEVEL||!o&&e.parentId)||!(n=!0)}),e.hasSubtasks=n,e.hasBulkChangePermission=GH.GridDataController.hasBulkChangePermission,e},GH.WorkContextMenuController.resolveActionsForContext=function(t){function e(e,t,n){t?(e=GH.GridDataController.getModel().getIssueDataByKeys(e),_.each(e,function(e){(e.flagged=n)?AJS.$("#ghx-pool").find(".ghx-swimlane-header[data-issue-key='"+e.key+"']").addClass("ghx-flagged"):AJS.$("#ghx-pool").find(".ghx-swimlane-header[data-issue-key='"+e.key+"']").removeClass("ghx-flagged")})):GH.WorkController.reload();t=GH.DetailsView.getSelectedIssueKey();-1!==e.indexOf(t)&&c.trigger(d.REFRESH_ISSUE_PAGE,[t])}var n=[],o=[],s=1<AJS.$(".ghx-swimlane-header").length,r=GH.WorkContextMenuController.getSendToTopAction(t,s?"Top of Swimlane":"Top of Column"),s=GH.WorkContextMenuController.getSendToBottomAction(t,s?"Bottom of Swimlane":"Bottom of Column");n.push({label:"Send to",actions:[r,s]}),"scrum"!==t.type||t.hasSubtasks||t.swimlane||(s={id:"ghx-issue-ctx-action-remove-from-sprint",name:"remove from sprint",label:"Remove from sprint",actionFn:function(){GH.IssueActions.removeIssuesFromSprint(GH.WorkController.rapidViewData.id,t.selectedIssues),GH.WorkContextMenuController.Analytics.action.trigger(this.name,"selectedIssuesCount",t.selectedIssues.length)}},o.push(s)),1===t.selectedIssues.length&&(i={id:"ghx-issue-ctx-action-copy-issue-link",name:"copy issue link",label:"Copy issue link",actionFn:function(){GH.IssueOperationShortcuts.copyIssueLink(),GH.Notification.showSuccess("Issue link copied!"),u.sendUIEvent({source:"boardScreen",actionSubject:"dropdownItem",action:"clicked",actionSubjectId:"copyIssueLink",attributes:{nextGenProject:!1}})}},o.push(i),i={id:"ghx-issue-ctx-action-delete",name:"delete",label:"Delete",actionFn:function(){GH.IssueOperationShortcuts.deleteSelectedIssue(),AJS.trigger("analytics",{name:"gh.issue.ctx.menu.action.delete"})}},o.push(i));var i=void 0,i=t.flaggedIssuesCount!==t.selectedIssues.length?{id:"ghx-issue-ctx-action-flag-and-comment",name:"flag-and-comment",label:"Add flag",actionFn:function(){GH.IssueFlagAndCommentAction.execute(t.selectedIssues,!0,function(){e(t.selectedIssues,t.swimlane,!0)}),AJS.trigger("analytics",{name:"gh.issue.ctx.menu.action.flag",data:{selectedIssueCount:t.selectedIssues.length}})}}:{id:"ghx-issue-ctx-action-unflag-and-comment",name:"unflag-and-comment",label:"Remove flag",actionFn:function(){GH.IssueFlagAndCommentAction.execute(t.selectedIssues,!1,function(){e(t.selectedIssues,t.swimlane,!1)}),AJS.trigger("analytics",{name:"gh.issue.ctx.menu.action.unflag",data:{selectedIssueCount:t.selectedIssues.length}})}};o.push(i),t.swimlane||(a={id:"ghx-issue-ctx-action-view-in-navigator",name:"view in navigator",label:"View in Issue Navigator",actionFn:function(){GH.IssueActions.viewInIssueNavigator(t.selectedIssues),GH.WorkContextMenuController.Analytics.action.trigger(this.name,"selectedIssuesCount",t.selectedIssues.length)}},1<t.selectedIssues.length&&o.push(a),a={id:"ghx-issue-ctx-action-bulk-change",name:"bulk change",label:"Bulk Change",actionFn:function(){GH.IssueActions.bulkChange(t.selectedIssues),GH.WorkContextMenuController.Analytics.action.trigger(this.name,"selectedIssuesCount",t.selectedIssues.length)}},t.hasBulkChangePermission&&1<t.selectedIssues.length&&o.push(a));var a;return 0<t.selectedIssues.length&&(a={id:"ghx-issue-ctx-action-print-cards",name:"print cards",label:AJS.format("Print selected {0,choice,1# card|1\u003c cards}",t.selectedIssues.length),actionFn:function(){var e;require("jira-agile/rapid/ui/print/card-printing-controller").printSelectedIssues((e=t.selectedIssues,{issues:_.map(e,function(e){return GH.GridDataController.getModel().getIssues()[e]}),viewMode:l.WORK,boardType:GH.WorkControls.getBoardType()}))}},o.push(a)),0<o.length&&n.push({label:"Other actions",actions:o}),n},GH.WorkContextMenuController.getSendToTopAction=function(e,t){return{id:"ghx-issue-ctx-action-send-top",name:"send to top of swimlane",label:t,actionFn:function(){GH.WorkRanking.sendToTop("WorkContextMenu")}}},GH.WorkContextMenuController.getSendToBottomAction=function(e,t){return{id:"ghx-issue-ctx-action-send-bottom",name:"send to bottom of swimlane",label:t,actionFn:function(){GH.WorkRanking.sendToBottom("WorkContextMenu")}}},GH.WorkContextMenuController.hideContextMenu=function(){null!=GH.WorkContextMenuController.ctxMenu&&(GH.WorkContextMenuController.ctxMenu.hide(),GH.WorkContextMenuController.ctxMenu=null)}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/print/card-printing.soy' */
// This file was automatically generated from card-printing.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.print.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.print == 'undefined') { GH.tpl.rapid.print = {}; }


GH.tpl.rapid.print.printCardScreen = function(opt_data, opt_ignored) {
  var output = '';
  var hasIssue__soy3 = opt_data.issues && opt_data.issues.length > 0;
  output += '<div id="ghx-print-toolbar">' + ((hasIssue__soy3) ? '<div class="ghx-print-toolbar-left ghx-print-toolbar-item"><span class="ghx-print-toolbar-label">' + soy.$$escapeHtml('Card size') + '</span><span class="ghx-print-card-size-trigger"> </span><span class="ghx-print-card-size-options"> </span><span class="ghx-print-filter-label ghx-print-toolbar-label">' + soy.$$escapeHtml('Select') + '</span><span class="ghx-print-filter-trigger"> </span><span class="ghx-print-filter-options"> </span></div><div class="ghx-print-toolbar-right ghx-print-toolbar-item"><span id="ghx-print-toolbar-issue-count" ' + ((opt_data.warnIssueCount) ? 'class="warning"' : '') + '>' + soy.$$escapeHtml(AJS.format('{0,choice,0#0 issues|1#1 issue|2#{0} issues}',opt_data.issues.length)) + '</span><button id="ghx-print-card-print-btn" class="aui-button aui-button-primary">' + soy.$$escapeHtml('Print') + '</button></div>' : '') + '</div><div class="ghx-print-content-sizing-wrm ghx-print-' + soy.$$escapeHtml(opt_data.cardSize) + '">' + GH.tpl.rapid.print.printCardPageContent(opt_data) + '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.print.printCardScreen.soyTemplateName = 'GH.tpl.rapid.print.printCardScreen';
}


GH.tpl.rapid.print.printCardPageContent = function(opt_data, opt_ignored) {
  return '' + ((opt_data.issues && opt_data.issues.length > 0) ? GH.tpl.rapid.print.printCards(opt_data) : '<div class="aui-message aui-message-warning">' + soy.$$escapeHtml('There is no issue to print') + '</div>');
};
if (goog.DEBUG) {
  GH.tpl.rapid.print.printCardPageContent.soyTemplateName = 'GH.tpl.rapid.print.printCardPageContent';
}


GH.tpl.rapid.print.printCards = function(opt_data, opt_ignored) {
  var output = '';
  var issueList40 = opt_data.issues;
  var issueListLen40 = issueList40.length;
  for (var issueIndex40 = 0; issueIndex40 < issueListLen40; issueIndex40++) {
    var issueData40 = issueList40[issueIndex40];
    output += '<div class="ghx-card ' + ((issueData40.cardPrintingCategory) ? soy.$$escapeHtml(issueData40.cardPrintingCategory) : '') + '">' + GH.tpl.rapid.print.printOneCard({issue: issueData40, epics: opt_data.epics, showEpic: opt_data.showEpic}) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.print.printCards.soyTemplateName = 'GH.tpl.rapid.print.printCards';
}


GH.tpl.rapid.print.printOneCard = function(opt_data, opt_ignored) {
  return '<div class="ghx-card-content">' + GH.tpl.rapid.print.printCardHeaderRow(opt_data) + '<div class="ghx-card-summary">' + soy.$$escapeHtml(opt_data.issue.summary) + '<span class="ellipsis">&#133;</span><span class="obscurer"> </span></div>' + GH.tpl.rapid.print.printCardExtraFields(opt_data) + GH.tpl.rapid.print.printCardFooterRow(opt_data) + '</div><div class="ghx-card-color" ' + ((opt_data.issue.color != null) ? 'style="border-color:' + soy.$$escapeHtml(opt_data.issue.color) + ';"' : '') + '></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.print.printOneCard.soyTemplateName = 'GH.tpl.rapid.print.printOneCard';
}


GH.tpl.rapid.print.printCardHeaderRow = function(opt_data, opt_ignored) {
  return '<div class="ghx-card-header">' + ((opt_data.issue.typeUrl) ? '<div class="ghx-card-icon"><img src="' + soy.$$escapeHtml(opt_data.issue.typeUrl) + '"></div>' : '') + ((opt_data.issue.flagged) ? '<div class="ghx-card-icon"><div class="aui-icon aui-icon-small aui-iconfont-flag"></div></div>' : (opt_data.issue.priorityUrl) ? '<div class="ghx-card-icon"><img src="' + soy.$$escapeHtml(opt_data.issue.priorityUrl) + '"></div>' : '') + '<div class="ghx-card-key">' + soy.$$escapeHtml(opt_data.issue.key) + '</div><div class="ghx-row-end">' + GH.tpl.avatar.renderIssueAvatar(opt_data) + '</div></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.print.printCardHeaderRow.soyTemplateName = 'GH.tpl.rapid.print.printCardHeaderRow';
}


GH.tpl.rapid.print.printCardExtraFields = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.issue.extraFields) {
    output += '<div class="ghx-card-extra-fields">';
    var extraFieldList96 = opt_data.issue.extraFields;
    var extraFieldListLen96 = extraFieldList96.length;
    for (var extraFieldIndex96 = 0; extraFieldIndex96 < extraFieldListLen96; extraFieldIndex96++) {
      var extraFieldData96 = extraFieldList96[extraFieldIndex96];
      output += '<div class="ghx-card-xfield-row"><div class="ghx-card-xfield-label">' + soy.$$escapeHtml(extraFieldData96.label) + '</div><div class="ghx-card-xfield-value">' + ((extraFieldData96.renderedContent) ? (extraFieldData96.useSoyNoAutoescape) ? soy.$$filterNoAutoescape(extraFieldData96.renderedContent) : soy.$$escapeHtml(extraFieldData96.renderedContent) : soy.$$escapeHtml('None')) + '</div></div>';
    }
    output += '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.print.printCardExtraFields.soyTemplateName = 'GH.tpl.rapid.print.printCardExtraFields';
}


GH.tpl.rapid.print.printCardFooterRow = function(opt_data, opt_ignored) {
  var output = '';
  var epic__soy114 = opt_data.epics && opt_data.issue.epic ? opt_data.epics[opt_data.issue.epic] : opt_data.issue.epicField;
  var hasVersion__soy115 = opt_data.issue.fixVersionsUI && opt_data.issue.fixVersionsUI.versions && opt_data.issue.fixVersionsUI.versions.length > 0;
  var hasEpic__soy116 = opt_data.showEpic && epic__soy114;
  var estimation__soy117 = opt_data.issue.estimateStatistic;
  var hasEstimate__soy118 = estimation__soy117 && estimation__soy117.statFieldId != 'issueCount' && estimation__soy117.statFieldValue && estimation__soy117.statFieldValue.text;
  output += '<div class="ghx-card-footer">';
  if (hasVersion__soy115) {
    var lozengeWidthClass__soy122 = hasEpic__soy116 && hasEstimate__soy118 ? 'ghx-card-lozenges-3' : hasEpic__soy116 || hasEstimate__soy118 ? 'ghx-card-lozenges-2' : '';
    output += '<span class="aui-label ghx-card-version ' + soy.$$escapeHtml(lozengeWidthClass__soy122) + '">' + ((opt_data.issue.fixVersionsUI.versions.length > 1) ? soy.$$escapeHtml(opt_data.issue.fixVersionsUI.versions.length) + ' ' + soy.$$escapeHtml('Versions') : soy.$$escapeHtml(opt_data.issue.fixVersionsUI.versions[0].name)) + '</span>';
  }
  if (hasEpic__soy116) {
    var lozengeWidthClass__soy136 = hasVersion__soy115 && hasEstimate__soy118 ? 'ghx-card-lozenges-3' : hasVersion__soy115 || hasEstimate__soy118 ? 'ghx-card-lozenges-2' : '';
    output += '<span class="aui-label ' + soy.$$escapeHtml(epic__soy114.epicColor) + ' ' + soy.$$escapeHtml(lozengeWidthClass__soy136) + '">' + ((epic__soy114.epicLabel) ? soy.$$escapeHtml(epic__soy114.epicLabel) : (epic__soy114.text) ? soy.$$escapeHtml(epic__soy114.text) : soy.$$escapeHtml('unlabelled') + '-' + soy.$$escapeHtml(opt_data.issue.epicField.epicKey)) + '</span>';
  }
  if (hasEstimate__soy118) {
    var estimateWidthClass__soy154 = hasVersion__soy115 && hasEpic__soy116 ? 'ghx-card-estimate-3' : hasVersion__soy115 || hasEpic__soy116 ? 'ghx-card-estimate-2' : 'ghx-card-estimate-1';
    output += '<div class="ghx-row-end"><div class="aui-badge ghx-card-estimate ' + soy.$$escapeHtml(estimateWidthClass__soy154) + '">' + soy.$$escapeHtml(estimation__soy117.statFieldValue.text) + '</div></div>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.print.printCardFooterRow.soyTemplateName = 'GH.tpl.rapid.print.printCardFooterRow';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/print/CardPrintingAnalytic.js' */
define("jira-agile/rapid/ui/print/card-printing-analytic",["jquery","jira-agile/rapid/const/PageMode"],function(i,t){"use strict";var r=GH.RapidBoard.State;function e(t){this.context=t}function n(t){var e=t.actionContext;t.AJS.trigger("analytics",{name:["gh.cardprinting.",(e={triggeredFrom:e.triggeredFrom,boardType:e.boardType,viewMode:e.viewMode,cardSize:r.getLastCardPrintingSize()}).triggeredFrom,".",e.boardType,".",e.viewMode,".",e.cardSize,".",function(){var t=i("#subnav-trigger-ghx-print-filter-cbx").data("selected-filter-type");return t||"notApplicable"}()].join(""),data:{issueCount:i(".ghx-card").length-i(".ghx-card-filtered-out").length}})}return e.prototype.registerForPrintEvent=function(){window.matchMedia&&window.matchMedia("print").addListener(i.proxy(function(t){t.matches||n(this.context)},this)),window.onafterprint=i.proxy(function(){n(this.context)},this)},e.takeNoteSelectedFilterId=function(t){t=isNaN(t)?t:-1===parseInt(t)?"selected4dev":"sprint";i("#subnav-trigger-ghx-print-filter-cbx").data("selected-filter-type",t)},e});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/ui/print/CardPrintingView.js' */
define("jira-agile/rapid/ui/print/card-printing-view",["underscore","jquery","jira-agile/rapid/ui/print/card-printing-analytic"],function(n,r,o){"use strict";var a=400,d=GH.RapidBoard.State;function c(t){return a<=t}return{showPrintScreen:function(t){!function(t){var e=GH.tpl.rapid.print.printCardScreen(r.extend({},t,{showEpic:d.getEpicShownOnRapidBoard(),cardSize:d.getLastCardPrintingSize(),warnIssueCount:c(n.size(t.issues))})),i=function(){var i=[];return r("head").children().each(function(t,e){r(e).is("meta")&&i.push(r(e)[0].outerHTML)}),r("body").children().each(function(t,e){r(e).is("link, meta, script, style")&&"loaderStylesheet"!==e.id&&i.push(r(e)[0].outerHTML)}),r("link[data-wrm-key]").each(function(t,e){i.push(r(e)[0].outerHTML)}),r("#__wrm_injection_point").children().each(function(t,e){r(e).is("style, link, meta, script")&&i.push(r(e)[0].outerHTML)}),r("head").children().each(function(t,e){r(e).is("title, style, base, link, script, noscript")&&i.push(r(e)[0].outerHTML)}),i.join("")}();window.cardPrintingContext={filterItems:t.filterItems,selectedItem:t.selectedItem,actionContext:t.actionContext,AJS:AJS};t=window.open();t.document.write([function(){var t=document.doctype;return["<!DOCTYPE ",t.name,t.publicId?' PUBLIC "'+t.publicId+'"':"",!t.publicId&&t.systemId?" SYSTEM":"",t.systemId?' "'+t.systemId+'"':"",">"].join("")}(),"<html>","<head>",i,"</head>",'<body id="jira" class="ghx-print-card-body ghx-print-card-body-wrm">',e,'<script type="text/javascript">',"document.getElementById('ghx-print-card-print-btn').onclick = () => {window.print();}\n","   if (window.stop) {","       window.stop();","       }","<\/script>","</body></html>"].join("")),t.document.close()}(t)},initPrintScreen:function(){var t,e,i=window.opener.cardPrintingContext;window.opener.cardPrintingContext=void 0,e=[{id:"small",label:"Small"},{id:"medium",label:"Medium"},{id:"large",label:"Large"}],(e=new JIRA.Projects.Subnavigator({id:"ghx-print-card-size-dropdown",triggerPlaceholder:"#ghx-print-toolbar .ghx-print-card-size-trigger",contentPlaceholder:"#ghx-print-toolbar .ghx-print-card-size-options",itemGroups:e,selectedItem:d.getLastCardPrintingSize(),hideSelectedItem:!0})).show(),e.on("itemSelected",function(t){t.preventDefault();t=t.item.id;r(".ghx-print-content-sizing-wrm").removeClass().addClass("ghx-print-content-sizing-wrm ghx-print-"+t),d.setLastCardPrintingSize(t)}),t=i.filterItems,e=i.selectedItem,n.isEmpty(t)?r("#ghx-print-toolbar").find(".ghx-print-filter-label").css("display","none"):((t=new JIRA.Projects.Subnavigator({id:"ghx-print-filter-cbx",triggerPlaceholder:"#ghx-print-toolbar .ghx-print-filter-trigger",contentPlaceholder:"#ghx-print-toolbar .ghx-print-filter-options",itemGroups:t,selectedItem:e,hideSelectedItem:!0})).show(),o.takeNoteSelectedFilterId(e),t.on("itemSelected",function(t){t.preventDefault(),r(".ghx-card").addClass("ghx-card-filtered-out");var e=t.item.id,t=".sprint-"+e;"backlog"===e?t=".backlog":"all"===e&&(t=".ghx-card");t=r(t);t.removeClass("ghx-card-filtered-out"),function(t){{var e;r("#ghx-print-toolbar").find(".ghx-print-toolbar-item").css("display",t?"":"none"),t&&((e=r("#ghx-print-toolbar-issue-count")).empty().append(AJS.format("{0,choice,0#0 issues|1#1 issue|2#{0} issues}",t)),a<=t?e.addClass("warning"):e.removeClass("warning"))}}(t.length),o.takeNoteSelectedFilterId(e)})),i=i,r("#ghx-print-toolbar").on("click","#ghx-print-card-print-btn",function(){window.print()}),r("#ghx-print-toolbar-issue-count").tooltip({title:function(){return r("#ghx-print-toolbar-issue-count").hasClass("warning")?"Too many issues? If not, go ahead and print them!":""}}),new o({actionContext:i.actionContext,AJS:i.AJS}).registerForPrintEvent()}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-files-keto-deferred', location = 'jira-agile-module/includes/js/rapid/LegacyBoardNamespaces.js' */
AJS.namespace("GH.Dialogs.CompleteSprintDialog",null,require("jira-agile/rapid/ui/dialog/complete-sprint-dialog")),AJS.namespace("GH.DetailsViewScrollTracker",null,require("jira-agile/rapid/ui/detail/details-view-scroll-tracker"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-lwf-board-common', location = 'jira-agile-module/includes/js/rapid/LegacyBoardNamespaces.js' */
AJS.namespace("GH.Dialogs.CompleteSprintDialog",null,require("jira-agile/rapid/ui/dialog/complete-sprint-dialog")),AJS.namespace("GH.DetailsViewScrollTracker",null,require("jira-agile/rapid/ui/detail/details-view-scroll-tracker"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-lwf-board-common', location = 'jira-agile-module/includes/js/rapid/LegacyNamespaces.js' */
AJS.namespace("GH.ReleaseVersionTrigger",null,require("jira-agile/rapid/ui/work/release-version-trigger")),AJS.namespace("GH.SprintConfig",null,require("jira-agile/rapid/ui/plan/sprint-config")),AJS.namespace("GH.Ajax",null,require("jira-agile/rapid/ajax"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-lwf-board-browser-metrics-fhd', location = 'jira-agile-module/includes/js/browser-metrics/BrowserMetricsRegister.js' */
define("jira-agile/browser-metrics/browser-metrics-register",[],function(){"use strict";var s=window["browser-metrics"]||{start:function(){},end:function(){}};return{registerMetricListener:function(r,e,t,n,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:function(r){return{}};r.on(e,function(){var r=arguments;s.start({key:i,isInitial:!1,reporters:[function(){return o(i)},function(){return r[0]}]}),t.on(n,function(){s.end({key:i})})})},registerMetricListenerWithSelector:function(r,e,t,n,i,o){r.on(e,function(){!GH.RapidBoard.ViewController.isBoardLoadMetricsInProgress&&t()&&s.start({key:i,isInitial:!1,ready:n,reporters:function(){return o(i)}})})}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-lwf-board-browser-metrics-fhd', location = 'jira-agile-module/includes/js/browser-metrics/BoardBrowserMetrics.js' */
var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i,t=arguments[r];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};!function(){"use strict";var e=require("jira-agile/browser-metrics/browser-metrics-register"),r=require("jira-agile/rapid/ui/bento/bento-features"),i=(require("jira/featureflags/feature-manager"),require("jira-agile/browser-metrics/browser-metrics-util")),t=require("jira-agile/rapid/deferred-resources-loader"),a=require("jira-agile/rapid/const/PageMode"),n=void 0,o=void 0,s=void 0,l="#gh.js-ghx-detail-loaded:not(.browser-metrics-stale)",d=".flag-and-comment-form-popup-submit",g=function(e){return{issueNo:GH.RapidBoard.State.numberOfIssues.get(),epicNo:GH.RapidBoard.State.numberOfEpics.get(),versionNo:GH.RapidBoard.State.numberOfVersions.get(),projectNo:GH.RapidBoard.State.numberOfProjects.get(),boardType:GH.RapidBoard.State.getBoardType(),boardId:GH.RapidViewConfig.currentData.id,eventualSearchPreferred:GH.RapidBoard.State.getRapidViewIdForEventuallyConsistentBoard()===GH.RapidViewConfig.currentData.id,cardColorStrategy:GH.RapidViewConfig.currentData.data.cardColorStrategy,workModeExtraFieldNo:GH.RapidViewConfig.currentData.data.workModeExtraFieldIds.length,planModeExtraFieldNo:GH.RapidViewConfig.currentData.data.planModeExtraFieldIds.length,columnNo:GH.RapidViewConfig.currentData.data.columns.length,swimlaneNo:GH.RapidViewConfig.currentData.data.swimlanes.length,swimlaneStrategy:GH.RapidViewConfig.currentData.data.swimlaneStrategy,daysInColumnEnabled:GH.RapidViewConfig.currentData.data.showDaysInColumn,trackingStatistic:GH.RapidViewConfig.currentData.data.trackingStatistic.id,estimationStatistic:GH.RapidViewConfig.currentData.data.estimationStatistic.id,pageVisible:!(window&&window.document&&window.document.hidden),oldDoneIssuesCutoff:GH.RapidBoard.State.oldDoneIssuesCutoff.get(),isUIF:!1}},p=function(e){return _extends({},g(),{backlogIssueCount:GH.RapidBoard.State.numberOfBacklogIssues.get()})};GH.RapidBoard.State.getApdexAttributes=function(e){return _extends({},("plan"===e?p:g)(),{isBentoIssueExperience:r.isBentoEnabled()})};t.handleDeferredResourceImport(GH.RapidBoard.State.getMode()===a.WORK,function(){n=require("jira-agile/rapid/ui/plan/backlog-controller"),o=require("jira-agile/rapid/ui/plan/kanban-transition-and-rank"),s=require("jira-agile/rapid/ui/plan/plan-drag-and-drop"),require("jira-agile/rapid/ui/plan/plan-controller"),e.registerMetricListener(s,"before:sprintRankIssue",s,"after:sprintRankIssue","jira.agile.plan.rankIssue",p),e.registerMetricListener(s,"before:kanbanRankIssue",s,"after:kanbanRankIssue","jira.agile.plan.rankIssue",p),e.registerMetricListener(n,"before:rankCreatedIssue",n,"after:rankCreatedIssue","jira.agile.plan.rankCreatedIssue",p),e.registerMetricListener(o,"before:submitMultipleTransitionsDialog",o,"after:submitMultipleTransitionsDialog","jira.agile.plan.submitMultipleTransitionsDialog",p),e.registerMetricListenerWithSelector(GH.PlanController,"before:openDetailView",function(){return!r.isBentoEnabled()},l,"jira.agile.openDetailView",g)}),e.registerMetricListener(GH.Components.QuickFilters.events,"before:toggle",GH.WorkController,"after:render","jira.agile.quickfilter.toggle",g),t.handleDeferredResourceImport(GH.RapidBoard.State.getMode()===a.PLAN||GH.RapidBoard.State.getMode()===a.WORK,function(){e.registerMetricListener(GH.SprintRetrospectiveController,"before:renderChart",GH.SprintRetrospectiveController,"after:renderChart","jira.agile.report.sprint",g)}),t.handleDeferredResourceImport(!GH.WorkDragAndDrop||!GH.WorkController||!GH.WorkRanking,function(){e.registerMetricListener(GH.WorkDragAndDrop,"before:issueDropRender",GH.WorkController,"after:render","jira.board.work.transition.issue",g),e.registerMetricListener(GH.WorkController,"before:addNewIssueToSprint",GH.WorkController,"after:addNewIssueToSprint","jira.agile.plan.addNewIssueToSprint",p),e.registerMetricListener(GH.WorkRanking,"before:workRankIssue",GH.WorkRanking,"after:workRankIssue","jira.agile.work.rankIssue",g),e.registerMetricListener(GH.WorkDragAndDrop,"before:transitionAndRankIssue",GH.WorkDragAndDrop,"after:transitionAndRankIssue","jira.agile.work.transitionAndRankIssue",g),e.registerMetricListenerWithSelector(GH.WorkController,"before:openDetailView",function(){return!r.isBentoEnabled()},l,"jira.agile.openDetailView",g)}),e.registerMetricListenerWithSelector(i,"before:splitIssuePopup",function(){return!0},".ghx-split-issue-dialog","jira.agile.plan.splitIssue.popup",p),e.registerMetricListener(i,"before:splitIssueSubmit",i,"after:splitIssueSubmit","jira.agile.plan.splitIssue.submit",p),e.registerMetricListenerWithSelector(i,"before:addFlagPopup",function(){return!0},d,"jira.agile.plan.addFlag.popup",p),e.registerMetricListenerWithSelector(i,"before:removeFlagPopup",function(){return!0},d,"jira.agile.plan.removeFlag.popup",p),e.registerMetricListener(i,"before:addFlagSubmit",i,"after:addFlagSubmit","jira.agile.plan.addFlag.submit",p),e.registerMetricListener(i,"before:removeFlagSubmit",i,"after:removeFlagSubmit","jira.agile.plan.removeFlag.submit",p),e.registerMetricListener(i,"before:backlogQuickFilter",i,"after:backlogQuickFilter","jira.agile.plan.backlogQuickFilter",p),e.registerMetricListener(i,"before:backlogEpicFilter",i,"after:backlogEpicFilter","jira.agile.plan.backlogEpicFilter",p),e.registerMetricListener(i,"before:backlogVersionFilter",i,"after:backlogVersionFilter","jira.agile.plan.backlogVersionFilter",p),e.registerMetricListener(i,"before:backlogSearchFilter",i,"after:backlogSearchFilter","jira.agile.plan.backlogSearchFilter",p),e.registerMetricListener(i,"before:boardQuickFilter",i,"after:boardQuickFilter","jira.agile.work.boardQuickFilter",g),e.registerMetricListener(i,"before:boardSearchFilter",i,"after:boardSearchFilter","jira.agile.work.boardSearchFilter",g),e.registerMetricListener(i,"before:expandAllSwimlanes",i,"after:expandAllSwimlanes","jira.agile.work.expandAllSwimlanes",g),e.registerMetricListener(i,"before:collapseAllSwimlanes",i,"after:collapseAllSwimlanes","jira.agile.work.collapseAllSwimlanes",g),e.registerMetricListener(i,"before:editSprintSubmit",i,"after:editSprintSubmit","jira.agile.edit.sprint.popup.submit",g),e.registerMetricListener(i,"before:deleteSprintSubmit",i,"after:deleteSprintSubmit","jira.agile.delete.sprint.submit",g),e.registerMetricListener(i,"before:createSprint",i,"after:createSprint","jira.agile.create.sprint",g),e.registerMetricListenerWithSelector(i,"before:sprintEditPopup",function(){return!0},"#ghx-dialog-edit-sprint","jira.agile.edit.sprint.popup.display",g),e.registerMetricListenerWithSelector(i,"before:sprintStartPopup",function(){return!0},"#ghx-dialog-start-sprint","jira.agile.start.sprint.popup.display",g),e.registerMetricListener(i,"before:epicListToggledOpen",i,"after:epicListToggledOpen","jira.agile.plan.epiclist.toggle.open",p),e.registerMetricListener(i,"before:versionListToggledOpen",i,"after:versionListToggledOpen","jira.agile.plan.versionList.toggle.open",p),e.registerMetricListener(i,"before:vsShowAllClicked",i,"after:vsShowAllClicked","jira.agile.plan.vs.show.all.link.clicked",p),e.registerMetricListenerWithSelector(i,"before:epicCreatePopup",function(){return!0},["#create-epic-issue-dialog",".jira-dialog-content-ready"],"jira.agile.epic.create.popup",g),e.registerMetricListener(i,"before:createVersion",i,"after:createVersion","jira.agile.create.version",g),e.registerMetricListener(i,"before:dragAndDropIssue",i,"after:dragAndDropIssue","jira.agile.plan.dragAndDropIssue",p)}();;
;
/* module-key = 'com.atlassian.plugin.jslibs:marionette-2.1.0-factory-legacy', location = 'atlassian-jslibs/factories/marionette/2.1.0/marionette-2.1.0-factory.js' */
!function(t){define("atlassian/libs/factories/marionette-2.1.0",function(){return function(e,i){var n={_:e,Backbone:i};return t.call(n),n.Marionette.noConflict()}})}(function(){/*!
   * Includes BabySitter
   * https://github.com/marionettejs/backbone.babysitter/
   *
   * Includes Wreqr
   * https://github.com/marionettejs/backbone.wreqr/
   */
!function(t,e){t.Marionette=e(t,t.Backbone,t._)}(this,function(t,e,i){"use strict";function n(t,e){var i=new Error(t);throw i.name=e||"Error",i}!function(t,e){var i=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(i.prototype,{add:function(t,e){var i=t.cid;return this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var i=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){if(t===i)return delete this._indexByCustom[e],!0},this),delete this._views[i],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,i){e.each(this._views,function(n){e.isFunction(n[t])&&n[t].apply(n,i||[])})},_updateLength:function(){this.length=e.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(n,function(t){i.prototype[t]=function(){var i=e.values(this._views),n=[i].concat(e.toArray(arguments));return e[t].apply(e,n)}}),i}(t,e),t.ChildViewContainer.VERSION="0.1.4",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=i,this},t.ChildViewContainer}(e,i),function(t,e){var i=t.Wreqr,n=t.Wreqr={};return t.Wreqr.VERSION="1.3.1",t.Wreqr.noConflict=function(){return t.Wreqr=i,this},n.Handlers=function(t,e){var i=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,i){var n=null;e.isObject(t)&&!e.isFunction(t)&&(n=t.context,t=t.callback),this.setHandler(i,t,n)},this)},setHandler:function(t,e,i){var n={callback:e,context:i};this._wreqrHandlers[t]=n,this.trigger("handler:add",t,e,i)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(t,e),n.CommandStorage=function(){var i=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(i.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var i=this.getCommands(t);i.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),i}(),n.Commands=function(t){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var i=Array.prototype.slice.call(arguments);t.Handlers.prototype.constructor.apply(this,i)},execute:function(t,e){t=arguments[0],e=Array.prototype.slice.call(arguments,1),this.hasHandler(t)?this.getHandler(t).apply(this,e):this.storage.addCommand(t,e)},_executeCommands:function(t,i,n){var r=this.storage.getCommands(t);e.each(r.instances,function(t){i.apply(n,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var i,n=t.storageType||this.storageType;i=e.isFunction(n)?new n:n,this.storage=i}})}(n),n.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);if(this.hasHandler(t))return this.getHandler(t).apply(this,e)}})}(n),n.EventAggregator=function(t,e){var i=function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,e),n.Channel=function(t){var i=function(e){this.vent=new t.EventAggregator,this.reqres=new t.RequestResponse,this.commands=new t.Commands,this.channelName=e};return e.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,i,n){if(i){n=n||this;var r="vent"===t?"on":"setHandler";e.each(i,function(i,o){this[t][r](o,e.bind(i,n))},this)}}}),i}(n),n.radio=function(t){var i=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(i.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var i=this._channels[e];return i||(i=new t.Channel(e),this._channels[e]=i),i},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(n[t],function(e){this[t][e]=r(this,t,e)},this)},this)}});var n={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,e,i){return function(n){var r=t._getChannel(n)[e],o=Array.prototype.slice.call(arguments,1);return r[i].apply(r,o)}};return new i}(n),t.Wreqr}(e,i);var r=e.ChildViewContainer.noConflict(),o=e.Wreqr.noConflict(),s=t.Marionette,h=e.Marionette={};h.VERSION="2.1.0",h.noConflict=function(){return t.Marionette=s,this},e.Marionette=h,h.Deferred=e.$.Deferred;var a=Array.prototype.slice;return h.extend=e.Model.extend,h.getOption=function(t,e){if(t&&e){var i;return i=t.options&&void 0!==t.options[e]?t.options[e]:t[e]}},h.proxyGetOption=function(t){return h.getOption(this,t)},h.normalizeMethods=function(t){var e={};return i.each(t,function(t,n){i.isFunction(t)||(t=this[t]),t&&(e[n]=t)},this),e},h.normalizeUIKeys=function(t,e){if("undefined"!=typeof t)return i.each(i.keys(t),function(i){var n=/@ui\.[a-zA-Z_$0-9]*/g;i.match(n)&&(t[i.replace(n,function(t){return e[t.slice(4)]})]=t[i],delete t[i])}),t},h.actAsCollection=function(t,e){var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];i.each(n,function(n){t[n]=function(){var t=i.values(i.result(this,e)),r=[t].concat(i.toArray(arguments));return i[n].apply(i,r)}})},h.triggerMethod=function(){function t(t,e,i){return i.toUpperCase()}var e=/(^|:)(\w)/gi,n=function(n){var r,o="on"+n.replace(e,t),s=this[o];return i.isFunction(s)&&(r=s.apply(this,i.tail(arguments))),i.isFunction(this.trigger)&&this.trigger.apply(this,arguments),r};return n}(),h.MonitorDOMRefresh=function(t){function n(t){t._isShown=!0,o(t)}function r(t){t._isRendered=!0,o(t)}function o(t){t._isShown&&t._isRendered&&s(t)&&i.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}function s(i){return e.$.contains(t,i.el)}return function(t){t.listenTo(t,"show",function(){n(t)}),t.listenTo(t,"render",function(){r(t)})}}(document.documentElement),function(t){function e(t,e,r,o){var s=o.split(/\s+/);i.each(s,function(i){var o=t[i];o||n('Method "'+i+'" was configured as an event handler, but does not exist.'),t.listenTo(e,r,o)})}function r(t,e,i,n){t.listenTo(e,i,n)}function o(t,e,n,r){var o=r.split(/\s+/);i.each(o,function(i){var r=t[i];t.stopListening(e,n,r)})}function s(t,e,i,n){t.stopListening(e,i,n)}function h(t,e,n,r,o){e&&n&&(i.isFunction(n)&&(n=n.call(t)),i.each(n,function(n,s){i.isFunction(n)?r(t,e,s,n):o(t,e,s,n)}))}t.bindEntityEvents=function(t,i,n){h(t,i,n,r,e)},t.unbindEntityEvents=function(t,e,i){h(t,e,i,s,o)},t.proxyBindEntityEvents=function(e,i){return t.bindEntityEvents(this,e,i)},t.proxyUnbindEntityEvents=function(e,i){return t.unbindEntityEvents(this,e,i)}}(h),h.Callbacks=function(){this._deferred=h.Deferred(),this._callbacks=[]},i.extend(h.Callbacks.prototype,{add:function(t,e){var n=i.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),n.then(function(i){e&&(i.context=e),t.call(i.context,i.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=h.Deferred(),this._callbacks=[],i.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),h.Controller=function(t){this.options=t||{},i.isFunction(this.initialize)&&this.initialize(this.options)},h.Controller.extend=h.extend,i.extend(h.Controller.prototype,e.Events,{destroy:function(){var t=a.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.triggerMethod.apply(this,["destroy"].concat(t)),this.stopListening(),this.off(),this},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption}),h.Object=function(t){this.options=i.extend({},i.result(this,"options"),t),this.initialize(this.options)},h.Object.extend=h.extend,i.extend(h.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption,bindEntityEvents:h.proxyBindEntityEvents,unbindEntityEvents:h.proxyUnbindEntityEvents}),i.extend(h.Object.prototype,e.Events),h.Region=function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,this.el||n('An "el" must be specified for a region.',"NoElError"),this.$el=this.getEl(this.el),this.initialize){var i=a.apply(arguments);this.initialize.apply(this,i)}},i.extend(h.Region,{buildRegion:function(t,e){return i.isString(t)?this._buildRegionFromSelector(t,e):t.selector||t.el||t.regionClass?this._buildRegionFromObject(t,e):i.isFunction(t)?this._buildRegionFromRegionClass(t):void n("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,n){var r=t.regionClass||n,o=i.omit(t,"selector","regionClass");t.selector&&!o.el&&(o.el=t.selector);var s=new r(o);return t.parentEl&&(s.getEl=function(n){if(i.isObject(n))return e.$(n);var r=t.parentEl;return i.isFunction(r)&&(r=r()),r.find(n)}),s},_buildRegionFromRegionClass:function(t){return new t}}),i.extend(h.Region.prototype,e.Events,{show:function(t,e){this._ensureElement();var n=e||{},r=t!==this.currentView,o=!!n.preventDestroy,s=!!n.forceShow,h=!!this.currentView,a=!o&&r;a&&this.empty();var l=r||s;return l?(t.once("destroy",i.bind(this.empty,this)),t.render(),h&&this.triggerMethod("before:swap",t),this.triggerMethod("before:show",t),i.isFunction(t.triggerMethod)?t.triggerMethod("before:show"):this.triggerMethod.call(t,"before:show"),this.attachHtml(t),this.currentView=t,h&&this.triggerMethod("swap",t),this.triggerMethod("show",t),i.isFunction(t.triggerMethod)?t.triggerMethod("show"):this.triggerMethod.call(t,"show"),this):this},_ensureElement:function(){i.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),this.$el&&0!==this.$el.length||n('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(t){return e.$(t)},attachHtml:function(t){this.el.innerHTML="",this.el.appendChild(t.el)},empty:function(){var t=this.currentView;if(t)return this.triggerMethod("before:empty",t),this._destroyView(),this.triggerMethod("empty",t),delete this.currentView,this},_destroyView:function(){var t=this.currentView;t.destroy&&!t.isDestroyed?t.destroy():t.remove&&t.remove()},attachView:function(t){return this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:h.proxyGetOption,triggerMethod:h.triggerMethod}),h.Region.extend=h.extend,h.RegionManager=function(t){var e=t.Controller.extend({constructor:function(e){this._regions={},t.Controller.call(this,e)},addRegions:function(t,e){i.isFunction(t)&&(t=t.apply(this,arguments));var n={};return i.each(t,function(t,r){i.isString(t)&&(t={selector:t}),t.selector&&(t=i.defaults({},t,e));var o=this.addRegion(r,t);n[r]=o},this),n},addRegion:function(e,n){var r,o=i.isObject(n),s=i.isString(n),h=!!n.selector;return r=s||o&&h?t.Region.buildRegion(n,t.Region):i.isFunction(n)?t.Region.buildRegion(n,t.Region):n,this.triggerMethod("before:add:region",e,r),this._store(e,r),this.triggerMethod("add:region",e,r),r},get:function(t){return this._regions[t]},getRegions:function(){return i.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return i.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return i.each(t,function(t){t.empty()},this),t},destroy:function(){return this.removeRegions(),t.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]=e,this._setLength()},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete this._regions[t],this._setLength(),this.triggerMethod("remove:region",t,e)},_setLength:function(){this.length=i.size(this._regions)}});return t.actAsCollection(e.prototype,"_regions"),e}(h),h.TemplateCache=function(t){this.templateId=t},i.extend(h.TemplateCache,{templateCaches:{},get:function(t){var e=this.templateCaches[t];return e||(e=new h.TemplateCache(t),this.templateCaches[t]=e),e.load()},clear:function(){var t,e=a.call(arguments),i=e.length;if(i>0)for(t=0;t<i;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),i.extend(h.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(t),this.compiledTemplate},loadTemplate:function(t){var i=e.$(t).html();return i&&0!==i.length||n('Could not find template: "'+t+'"',"NoTemplateError"),i},compileTemplate:function(t){return i.template(t)}}),h.Renderer={render:function(t,e){t||n("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");var i;return(i="function"==typeof t?t:h.TemplateCache.get(t))(e)}},h.View=e.View.extend({constructor:function(t){i.bindAll(this,"render"),this.options=i.extend({},i.result(this,"options"),i.isFunction(t)?t.call(this):t),this.events=this.normalizeUIKeys(i.result(this,"events")),i.isObject(this.behaviors)&&new h.Behaviors(this),e.View.apply(this,arguments),h.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,a.call(arguments,1))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return i.isFunction(e)&&(e=e.call(this)),i.extend(t,e)},normalizeUIKeys:function(t){var e=i.result(this,"ui"),n=i.result(this,"_uiBindings");return h.normalizeUIKeys(t,n||e)},configureTriggers:function(){if(this.triggers){var t={},e=this.normalizeUIKeys(i.result(this,"triggers"));return i.each(e,function(e,n){var r=i.isObject(e),o=r?e.event:e;t[n]=function(t){if(t){var i=t.preventDefault,n=t.stopPropagation,s=r?e.preventDefault:i,h=r?e.stopPropagation:n;s&&i&&i.apply(t),h&&n&&n.apply(t)}var a={view:this,model:this.model,collection:this.collection};this.triggerMethod(o,a)}},this),t}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),this},_delegateDOMEvents:function(t){t=t||this.events,i.isFunction(t)&&(t=t.call(this)),t=this.normalizeUIKeys(t);var n={},r=i.result(this,"behaviorEvents")||{},o=this.configureTriggers();i.extend(n,r,t,o),e.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){var t=a.call(arguments);return e.View.prototype.undelegateEvents.apply(this,t),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var t=new Error("Cannot use a view thats already been destroyed.");throw t.name="ViewDestroyedError",t}},destroy:function(){if(!this.isDestroyed){var t=a.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.remove(),this}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=i.result(this,"_uiBindings");this.ui={},i.each(i.keys(t),function(e){var i=t[e];this.ui[e]=this.$(i)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:h.triggerMethod,normalizeMethods:h.normalizeMethods,getOption:h.proxyGetOption,bindEntityEvents:h.proxyBindEntityEvents,unbindEntityEvents:h.proxyUnbindEntityEvents}),h.ItemView=h.View.extend({constructor:function(){h.View.apply(this,arguments)},serializeData:function(){var t={};return this.model?t=i.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(t={items:i.partial(this.serializeCollection,this.collection).apply(this,arguments)}),t},serializeCollection:function(t){return t.toJSON.apply(t,a.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){t||n("Cannot render the template since it is null or undefined.","UndefinedTemplateError");var e=this.serializeData();e=this.mixinTemplateHelpers(e);var i=h.Renderer.render(t,e,this);return this.attachElContent(i),this}},attachElContent:function(t){return this.$el.html(t),this},destroy:function(){if(!this.isDestroyed)return h.View.prototype.destroy.apply(this,arguments)}}),h.CollectionView=h.View.extend({childViewEventPrefix:"childview",constructor:function(t){var e=t||{};this.sort=!!i.isUndefined(e.sort)||e.sort,this._initChildViewStorage(),h.View.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&i.invoke(this._bufferedChildren,"triggerMethod","before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(i.each(this._bufferedChildren,function(t){i.isFunction(t.triggerMethod)?t.triggerMethod("show"):h.triggerMethod.call(t,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t){this.destroyEmptyView();var e=this.getChildView(t),i=this.collection.indexOf(t);this.addChild(t,e,i)},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},onShowCalled:function(){this.children.each(function(t){i.isFunction(t.triggerMethod)?t.triggerMethod("show"):h.triggerMethod.call(t,"show")})},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var t=this.collection.find(function(t,e){var i=this.children.findByModel(t);return!i||i._index!==e},this);t&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var t;this.collection.each(function(e,i){t=this.getChildView(e),this.addChild(e,t,i)},this)},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var i=new e.Model;this.addEmptyView(i,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var n=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");i.isFunction(n)&&(n=n.call(this));var r=this.buildChildView(t,e,n);this._isShown&&this.triggerMethod.call(r,"before:show"),this.children.add(r),this.renderChildView(r,-1),this._isShown&&this.triggerMethod.call(r,"show")},getChildView:function(t){var e=this.getOption("childView");return e||n('A "childView" must be specified',"NoChildViewError"),e},addChild:function(t,e,n){var r=this.getOption("childViewOptions");i.isFunction(r)&&(r=r.call(this,t,n));var o=this.buildChildView(t,e,r);return this._updateIndices(o,!0,n),this._addChildView(o,n),o},_updateIndices:function(t,e,i){this.sort&&(e?(t._index=i,this.children.each(function(e){e._index>=t._index&&e._index++})):this.children.each(function(e){e._index>=t._index&&e._index--}))},_addChildView:function(t,e){this.proxyChildEvents(t),this.triggerMethod("before:add:child",t),this.children.add(t),this.renderChildView(t,e),this._isShown&&!this.isBuffering&&(i.isFunction(t.triggerMethod)?t.triggerMethod("show"):h.triggerMethod.call(t,"show")),this.triggerMethod("add:child",t)},renderChildView:function(t,e){return t.render(),this.attachHtml(this,t,e),t},buildChildView:function(t,e,n){var r=i.extend({model:t},n);return new e(r)},removeChildView:function(t){return t&&(this.triggerMethod("before:remove:child",t),t.destroy?t.destroy():t.remove&&t.remove(),this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1)),t},isEmpty:function(t){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},attachHtml:function(t,e,i){t.isBuffering?(t.elBuffer.appendChild(e.el),t._bufferedChildren.push(e)):t._insertBefore(e,i)||t._insertAfter(e)},_insertBefore:function(t,e){var i,n=this.sort&&e<this.children.length-1;return n&&(i=this.children.find(function(t){return t._index===e+1})),!!i&&(i.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new r},destroy:function(){if(!this.isDestroyed)return this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),h.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var t=this.children.map(i.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),t},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var n=a.call(arguments),r=n[0],o=this.normalizeMethods(i.result(this,"childEvents"));n[0]=e+":"+r,n.splice(1,0,t),"undefined"!=typeof o&&i.isFunction(o[r])&&o[r].apply(this,n.slice(1)),this.triggerMethod.apply(this,n)},this)}}),h.CompositeView=h.CollectionView.extend({constructor:function(){h.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(t){var e=this.getOption("childView")||this.constructor;return e||n('A "childView" must be specified',"NoChildViewError"),e},serializeData:function(){var t={};return this.model&&(t=i.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&h.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),i=h.Renderer.render(e,t,this);this.attachElContent(i),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var i=this.getChildViewContainer(t);i.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this);e.append(t.el)},getChildViewContainer:function(t){if("$childViewContainer"in t)return t.$childViewContainer;var e,r=h.getOption(t,"childViewContainer");if(r){var o=i.isFunction(r)?r.call(t):r;e="@"===o.charAt(0)&&t.ui?t.ui[o.substr(4)]:t.$(o),e.length<=0&&n('The specified "childViewContainer" was not found: '+t.childViewContainer,"ChildViewContainerMissingError")}else e=t.$el;return t.$childViewContainer=e,e},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),h.LayoutView=h.ItemView.extend({regionClass:h.Region,constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),h.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),h.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),h.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(t,e){this.triggerMethod("before:region:add",t);var i={};return i[t]=e,this._buildRegions(i)[t]},addRegions:function(t){return this.regions=i.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return this.triggerMethod("before:region:remove",t),delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e=this,i={regionClass:this.getOption("regionClass"),parentEl:function(){return e.$el}};return this.regionManager.addRegions(t,i)},_initializeRegions:function(t){var e;this._initRegionManager(),e=i.isFunction(this.regions)?this.regions(t):this.regions||{};var n=this.getOption.call(t,"regions");i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(t){t.reset()})},getRegionManager:function(){return new h.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})}}),h.Behavior=function(t,e){function i(e,i){this.view=i,this.defaults=t.result(this,"defaults")||{},this.options=t.extend({},this.defaults,e),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return t.extend(i.prototype,e.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption,bindEntityEvents:h.proxyBindEntityEvents,unbindEntityEvents:h.proxyUnbindEntityEvents}),i.extend=h.extend,i}(i,e),h.Behaviors=function(t,e){function i(t,r){r=i.parseBehaviors(t,r||e.result(t,"behaviors")),i.wrap(t,r,e.keys(n))}var n={setElement:function(t,i){return t.apply(this,e.tail(arguments,2)),e.each(i,function(t){t.$el=this.$el,t.el=this.el},this),this},destroy:function(t,i){var n=e.tail(arguments,2);return t.apply(this,n),e.invoke(i,"destroy",n),this},bindUIElements:function(t,i){t.apply(this),e.invoke(i,t)},unbindUIElements:function(t,i){t.apply(this),e.invoke(i,t)},triggerMethod:function(t,i){var n=e.tail(arguments,2);t.apply(this,n),e.each(i,function(e){t.apply(e,n)})},delegateEvents:function(i,n){var r=e.tail(arguments,2);return i.apply(this,r),e.each(n,function(e){t.bindEntityEvents(e,this.model,t.getOption(e,"modelEvents")),t.bindEntityEvents(e,this.collection,t.getOption(e,"collectionEvents"))},this),this},undelegateEvents:function(i,n){var r=e.tail(arguments,2);return i.apply(this,r),e.each(n,function(e){t.unbindEntityEvents(e,this.model,t.getOption(e,"modelEvents")),t.unbindEntityEvents(e,this.collection,t.getOption(e,"collectionEvents"))},this),this},behaviorEvents:function(i,n){var r={},o=e.result(this,"ui");return e.each(n,function(i,n){var s={},h=e.clone(e.result(i,"events"))||{},a=e.result(i,"ui"),l=e.extend({},o,a);h=t.normalizeUIKeys(h,l),e.each(e.keys(h),function(t){var r=new Array(n+2).join(" "),o=t+r,a=e.isFunction(h[t])?h[t]:i[h[t]];s[o]=e.bind(a,i)}),r=e.extend(r,s)}),r}};return e.extend(i,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(t,n){return t.behaviorClass?t.behaviorClass:e.isFunction(i.behaviorsLookup)?i.behaviorsLookup.apply(this,arguments)[n]:i.behaviorsLookup[n]},parseBehaviors:function(t,n){return e.chain(n).map(function(n,r){var o=i.getBehaviorClass(n,r),s=new o(n,t),h=i.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(h)}).flatten().value()},wrap:function(t,i,r){e.each(r,function(r){t[r]=e.partial(n[r],t[r],i)})}}),i}(h,i),h.AppRouter=e.Router.extend({constructor:function(t){e.Router.apply(this,arguments),this.options=t||{};var i=this.getOption("appRoutes"),n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();this._addAppRoute(i,t,e)},_processOnRoute:function(t,e){var n=i.invert(this.getOption("appRoutes"))[t];i.isFunction(this.onRoute)&&this.onRoute(t,n,e)},processAppRoutes:function(t,e){if(e){var n=i.keys(e).reverse();i.each(n,function(i){this._addAppRoute(t,i,e[i])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,r){var o=t[r];o||n('Method "'+r+'" was not found on the controller'),this.route(e,r,i.bind(o,t))},getOption:h.proxyGetOption}),h.Application=function(t){this._initializeRegions(t),this._initCallbacks=new h.Callbacks,this.submodules={},i.extend(this,t),this._initChannel()},i.extend(h.Application.prototype,e.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){
return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var i=h.Module.getClass(e),n=a.call(arguments);return n.unshift(this),i.create.apply(i,n)},getRegionManager:function(){return new h.RegionManager},_initializeRegions:function(t){var e=i.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var n=h.getOption(t,"regions");return i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this._regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this._regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_initChannel:function(){this.channelName=i.result(this,"channelName")||"global",this.channel=i.result(this,"channel")||o.radio.channel(this.channelName),this.vent=i.result(this,"vent")||this.channel.vent,this.commands=i.result(this,"commands")||this.channel.commands,this.reqres=i.result(this,"reqres")||this.channel.reqres},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption}),h.Application.extend=h.extend,h.Module=function(t,e,n){this.moduleName=t,this.options=i.extend({},this.options,n),this.initialize=n.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,this.startWithParent=!0,i.isFunction(this.initialize)&&this.initialize(t,e,this.options)},h.Module.extend=h.extend,i.extend(h.Module.prototype,e.Events,{initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(i.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),i.each(this.submodules,function(t){t.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,n){if(t){var r=i.flatten([this,this.app,e,h,e.$,i,n]);t.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new h.Callbacks,this._finalizerCallbacks=new h.Callbacks},triggerMethod:h.triggerMethod}),i.extend(h.Module,{create:function(t,e,n){var r=t,o=a.call(arguments);o.splice(0,3),e=e.split(".");var s=e.length,h=[];return h[s-1]=n,i.each(e,function(e,i){var s=r;r=this._getModule(s,e,t,n),this._addModuleDefinition(s,r,h[i],o)},this),r},_getModule:function(t,e,n,r,o){var s=i.extend({},r),h=this.getClass(r),a=t[e];return a||(a=new h(e,n,s),t[e]=a,t.submodules[e]=a),a},getClass:function(t){var e=h.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,i,n){var r=this._getDefine(i),o=this._getStartWithParent(i,e);r&&e.addDefinition(r,n),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var n;return i.isFunction(t)&&t.prototype instanceof h.Module?(n=e.constructor.prototype.startWithParent,!!i.isUndefined(n)||n):!i.isObject(t)||(n=t.startWithParent,!!i.isUndefined(n)||n)},_getDefine:function(t){return!i.isFunction(t)||t.prototype instanceof h.Module?i.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,i){e.startWithParent=e.startWithParent&&i,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),h})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = 'jira-projects-module/sidebar/lib/backbone.marionette.adapter.js' */
define("jira/projects/libs/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(e,r,t){"use strict";return t(r,e)}),AJS.namespace("JIRA.Projects.Libs.Marionette",null,require("jira/projects/libs/marionette"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = 'jira-projects-module/sidebar/lib/backbone.marionette.mixins.js' */
!function(){"use strict";function e(e,t){var i=this,r=_.defaults({},t||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0,i.trigger(e+":prevented",this)}});return this.trigger(e,r),r}function t(e,t){var i=this.triggerPreventable(e,t);i.isPrevented&&t.preventDefault()}_.extend(JIRA.Projects.Libs.Marionette.View.prototype,{unwrapTemplate:function(){if(this.$el.parent().length){var e=this.$el.children();this.$el.replaceWith(e),this.setElement(e)}else this.setElement(this.$el.children())},triggerPreventable:e,retriggerPreventable:t}),_.extend(JIRA.Projects.Libs.Marionette.Controller.prototype,{triggerPreventable:e,retriggerPreventable:t}),JIRA.Projects.Libs.Marionette.ViewManager=JIRA.Projects.Libs.Marionette.Controller.extend({constructor:function(){JIRA.Projects.Libs.Marionette.Controller.apply(this,arguments),this.views={}},hideView:function(e){var t=this.views[e];t&&(this.stopListening(t),t.isDestroyed||t.destroy(),delete this.views[e])},showView:function(e,t){var i=this.buildView(e,t);i.render()},buildView:function(e,t){var i=this.views[e];return i||(i=t.call(this),this.listenTo(i,"destroy",function(){this.hideView(e)}),this.views[e]=i),i},getView:function(e){return this.views[e]}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/Subnavigator.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Subnavigator"),JIRA.Projects.Subnavigator=JIRA.Projects.Libs.Marionette.Controller.extend({_shouldShow:function(){return!this.model.isEmpty()},_shouldShowTriggerView:function(){if(this.triggerView&&this.triggerView.isHidden)return!1;if(this.options.changeViewText){var i=this.model.getAllItems().length;return i>1}return!0},_sanitizeItems:function(){var i=this.options.itemGroups;return i&&i[0]&&!_.isArray(i[0])?[i]:i},_buildModel:function(){this.model=new JIRA.Projects.Subnavigator.Entities.Items({itemGroups:this._sanitizeItems()}),this.model.selectItem(this.options.selectedItem),this.listenTo(this.model,"change:selectedItem",this.show)},_buildTitleView:function(){"summary-options"===this.options.id?this.titleView=new JIRA.Projects.Subnavigator.Views.Title({model:this.model,fixedTitle:"Summary"}):this.titleView=new JIRA.Projects.Subnavigator.Views.Title({model:this.model}),this.titleView.setElement(AJS.$(this.options.titlePlaceholder))},_buildTriggerView:function(){"summary-options"===this.options.id?this.triggerView=new JIRA.Projects.Subnavigator.Views.SummaryTrigger({model:this.model,id:this.options.id,itemGroups:this.options.itemGroups,label:this.options.changeViewText}):this.options.changeViewText?(this.triggerView=new JIRA.Projects.Subnavigator.Views.StaticTrigger({model:this.model,id:this.options.id,label:this.options.changeViewText}),this.triggerView.isHidden="report"===this.options.id):this.triggerView=new JIRA.Projects.Subnavigator.Views.Trigger({model:this.model,id:this.options.id}),this.triggerView.setElement(AJS.$(this.options.triggerPlaceholder))},_buildContentView:function(){this.contentView=new JIRA.Projects.Subnavigator.Views.Content({model:this.model,id:this.options.id,hideSelectedItem:this.options.hideSelectedItem}),this.contentView.setElement(AJS.$(this.options.contentPlaceholder)),this.listenTo(this.contentView,"click",function(i){setTimeout(function(){this.model.selectItem(i);var t=this.model.get("selectedItem"),e=this.triggerPreventable("itemSelected",{item:t});e.isPrevented||t.link&&require("jira/util/browser").reloadViaWindowLocation(t.link)}.bind(this),0)}.bind(this))},initialize:function(){this._buildModel(),this._shouldShow()&&(this._buildTriggerView(),this._buildContentView(),this.options.titlePlaceholder&&this._buildTitleView())},show:function(){this._shouldShow()&&(this._shouldShowTriggerView()&&(this.triggerView.render(),this.contentView.render()),this.titleView&&this.titleView.render())},selectItem:function(i){this._shouldShow()&&this.model.selectItem(i)}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/templates/templates.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Projects&&(JIRA.Projects={}),"undefined"==typeof JIRA.Projects.Subnavigator&&(JIRA.Projects.Subnavigator={}),"undefined"==typeof JIRA.Projects.Subnavigator.Templates&&(JIRA.Projects.Subnavigator.Templates={}),JIRA.Projects.Subnavigator.Templates.content=function(e,t){for(var a='<div id="subnav-opts'+(e.idSuffix?"-"+soy.$$escapeHtml(e.idSuffix):"")+'" class="subnav-opts subnavigator-content aui-dropdown2 aui-style-default">',i=e.itemGroups,s=i.length,r=0;r<s;r++){var o=i[r];a+=JIRA.Projects.Subnavigator.Templates.itemSection({items:o})}return a+="</div>"},JIRA.Projects.Subnavigator.Templates.itemSection=function(e,t){var a="";if(e.items.length>0){a+='<div class="aui-dropdown2-section"><ul class="aui-list-truncate">';for(var i=e.items,s=i.length,r=0;r<s;r++){var o=i[r];a+=JIRA.Projects.Subnavigator.Templates.item({item:o})}a+="</ul></div>"}return a},JIRA.Projects.Subnavigator.Templates.item=function(e,t){return"<li"+(e.item.description?' title="'+soy.$$escapeHtml(e.item.description)+'"':"")+">"+(e.item.link?'<a data-item-id="'+soy.$$escapeHtml(e.item.id)+'" href="'+soy.$$escapeHtml(e.item.link)+'">'+soy.$$escapeHtml(e.item.label)+"</a>":'<a class="aui-dropdown2-radio'+(e.item.selected?" checked":"")+'" data-item-id="'+soy.$$escapeHtml(e.item.id)+'">'+soy.$$escapeHtml(e.item.label)+"</a>")+"</li>"},JIRA.Projects.Subnavigator.Templates.tabbedTrigger=function(e,t){for(var a='<div class="aui-tabs horizontal-tabs aui-tabs-disabled"><ul class="tabs-menu summary-trigger">',i=e.itemGroups,s=i.length,r=0;r<s;r++){var o=i[r];a+='<li class="menu-item subnav-trigger subnavigator-trigger '+(e.selectedItem==o.id?" active-tab ":"")+'"><a href="summary/'+soy.$$escapeHtml(o.id)+'">'+soy.$$escapeHtml(o.label)+"</a></li>"}return a+="</ul></div>"},JIRA.Projects.Subnavigator.Templates.trigger=function(e,t){return""+(e.renderAsButton?'<button id="subnav-trigger'+(e.idSuffix?"-"+soy.$$escapeHtml(e.idSuffix):"")+'" class="subnav-trigger subnavigator-trigger aui-button aui-dropdown2-trigger" aria-owns="subnav-opts'+(e.idSuffix?"-"+soy.$$escapeHtml(e.idSuffix):"")+'" role="menu" aria-haspopup="true" >'+soy.$$escapeHtml(e.label)+"</button>":'<span id="subnav-trigger'+(e.idSuffix?"-"+soy.$$escapeHtml(e.idSuffix):"")+'" class="subnav-trigger subnavigator-trigger">'+soy.$$escapeHtml(e.label)+"</button>")},JIRA.Projects.Subnavigator.Templates.title=function(e,t){return'<span class="subnavigator-title" title="'+soy.$$escapeHtml(e.title)+'">'+soy.$$escapeHtml(e.title)+"</span>"};;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/views/Content.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Subnavigator.Views.Content"),JIRA.Projects.Subnavigator.Views.Content=JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Projects.Subnavigator.Templates.content,tooltipTimer:null,ui:{item:"li"},initialize:function(){this.tooltipTimeout=this.options.tooltipTimeout||600,this.hideSelectedItem=this.options.hideSelectedItem===!1},_hideTooltips:function(){clearTimeout(this.tooltipTimer),AJS.$(".tipsy").remove()},events:{"aui-dropdown2-item-check":function(t){this._hideTooltips();var i=AJS.$(t.target).attr("data-item-id");this.trigger("click",i)},"mouseenter @ui.item":function(t){this._hideTooltips(),this.tooltipTimer=setTimeout(function(){AJS.$(t.currentTarget).tipsy("show")},this.tooltipTimeout)},"mouseleave @ui.item":"_hideTooltips","aui-dropdown2-hide":"_hideTooltips"},serializeData:function(){var t=this.model.get("selectedItem"),i=this.model.get("itemGroups"),e=this.hideSelectedItem;return t&&(i=_.map(i,function(i){return e?_.map(i,function(i){var e=_.clone(i);return e.id===t.id&&(e.selected=!0),e}):_.reject(i,function(i){return i.id===t.id})})),{itemGroups:i,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate(),this._hideTooltips(),AJS.$(this.ui.item).tooltip({gravity:"w",trigger:"manual"})}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/views/Trigger.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Subnavigator.Views.Trigger"),JIRA.Projects.Subnavigator.Views.Trigger=JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Projects.Subnavigator.Templates.trigger,serializeData:function(){return{label:this.model.get("selectedItem").label,renderAsButton:this.model.getAllItems().length>1,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate()}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/views/StaticTrigger.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Subnavigator.Views.StaticTrigger"),JIRA.Projects.Subnavigator.Views.StaticTrigger=JIRA.Projects.Subnavigator.Views.Trigger.extend({serializeData:function(){return{label:this.options.label,renderAsButton:!0,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate(),this.$el.removeClass("subnav-trigger")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/views/SummaryTrigger.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Subnavigator.Views.SummaryTrigger"),JIRA.Projects.Subnavigator.Views.SummaryTrigger=JIRA.Projects.Subnavigator.Views.Trigger.extend({template:JIRA.Projects.Subnavigator.Templates.tabbedTrigger,serializeData:function(){return{selectedItem:this.options.model.attributes.selectedItem.id,itemGroups:this.options.itemGroups}},onRender:function(){this.unwrapTemplate(),this.$el.removeClass("subnav-trigger")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/views/Title.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Subnavigator.Views.Title"),JIRA.Projects.Subnavigator.Views.Title=JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Projects.Subnavigator.Templates.title,serializeData:function(){var e=this.model.get("selectedItem");return{title:this.options.fixedTitle||e.label}}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = 'jira-projects-module/static/components/subnavigator/entities/Items.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Subnavigator.Entities.Items"),JIRA.Projects.Subnavigator.Entities.Items=Backbone.Model.extend({defaults:{itemGroups:[],selectedItem:null},isEmpty:function(){return _.isEmpty(this.getAllItems())},selectItem:function(t){var e=this.getAllItems();this.set("selectedItem",_.find(e,function(e){return e.id===t})||_.first(e))},getAllItems:function(){return _.flatten(this.get("itemGroups"))}})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:subnavigator-lwf-board', location = 'jira-agile-module/includes/js/sidebar/subnavigator/SubnavigatorController.soy' */
// This file was automatically generated from SubnavigatorController.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.subnavigator.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.subnavigator == 'undefined') { GH.tpl.subnavigator = {}; }


GH.tpl.subnavigator.header = function(opt_data, opt_ignored) {
  return '<h1><span id="ghx-board-name" class="subnav-page-header">' + soy.$$escapeHtml(opt_data.headerText) + '</span></h1>';
};
if (goog.DEBUG) {
  GH.tpl.subnavigator.header.soyTemplateName = 'GH.tpl.subnavigator.header';
}


GH.tpl.subnavigator.subnavigator = function(opt_data, opt_ignored) {
  return '<span class="subnav-container"><span id="subnav-title"></span><span id="subnav-board-selector"></span><span id="subnav-trigger"></span><span id="subnav-opts"></span></span>';
};
if (goog.DEBUG) {
  GH.tpl.subnavigator.subnavigator.soyTemplateName = 'GH.tpl.subnavigator.subnavigator';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:subnavigator-lwf-board', location = 'jira-agile-module/includes/js/sidebar/subnavigator/WorkSubnavigatorContextProvider.js' */
AJS.namespace("GH.RapidBoard.WorkSubnavigatorContextProvider"),define("jira-agile/subnavigator/work-subnavigator-context-provider",["require","jquery","underscore"],function(i,n,t){var e="all",a={id:0,label:"Kanban board"},o={id:0,label:"Active sprints"};return{hasSubnavigator:function(){return!0},header:function(){return i("jira-agile/rapid/work/work-controls").rapidViewConfig.name},itemList:function(){if(this._isKanban())return[a];var r=t.map(this._getSprints(),function(r){return{id:r.id.toString(),label:r.name}});return 0===r.length?[o]:1===r.length?r:[r,[{id:e,label:"All sprints"}]]},onLoad:function(){},selectedItem:function(){var r=i("jira-agile/rapid/work/work-controls");if(this._isKanban())return a.id;var t=r.sprintfilters.getActiveSprintFilters()[0];if(t)return t.toString();t=this._getSprints().length;return 0===t?o.id:1===t?r.sprintfilters.getSprintData()[0].id.toString():e},selectionHandler:function(r){var t=i("jira-agile/rapid/work/work-controls"),r=r===e?t.sprintfilters.getActiveSprintFilters()[0]:parseInt(r,10);t.sprintfilters.toggleActiveSprintFilter(r),n(t.sprintfilters).trigger("sprintFilterChange")},getChangeViewText:function(){return "Switch sprint"},analyticEvent:function(r,t){return{name:"jira.project.sidebar.sprint.select",data:{sprintId:r,initialLoad:t}}},_getSprints:function(){return i("jira-agile/rapid/work/work-controls").sprintfilters.getSprintData()||[]},_isKanban:function(){return!i("jira-agile/rapid/work/work-controls").rapidViewConfig.sprintSupportEnabled}}}),AJS.namespace("GH.RapidBoard.WorkSubnavigatorContextProvider",null,require("jira-agile/subnavigator/work-subnavigator-context-provider"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:subnavigator-lwf-board', location = 'jira-agile-module/includes/js/sidebar/subnavigator/ReportSubnavigatorContextProvider.js' */
define("jira-agile/subnavigator/report-subnavigator-context-provider",["require","underscore","jira/util/browser"],function(t,e,r){var i="jira-agile/rapid/ui/chart/report-controller",o=function(e){try{return t(e)}catch(e){return}}(i);return{selectionHandler:function(e){var t;"com.atlassian.jira.jira-projects-plugin:report-page"===e?(t=AJS.contextPath()+"/projects/"+JIRA.API.Projects.getCurrentProjectKey()+"?selectedItem="+e,r.reloadViaWindowLocation(t)):(this._getReportController().selectChart(e),this._storeLastViewedReportLink(e))},header:function(){return this._getReportController().rapidViewConfig.name},hasSubnavigator:function(){return!0},itemList:function(){return[e.map(this._getReportController().getApplicableCharts(),function(e){return{id:e.id,label:e.name,description:e.tooltip}}),[{id:"com.atlassian.jira.jira-projects-plugin:report-page",label:"All reports",description:"Show the reports overview page, which lists all available reports"}]]},onLoad:function(){var e=this.selectedItem();this._storeLastViewedReportLink(e)},selectedItem:function(){return this._getReportController().getSelectedChart()},getChangeViewText:function(){return "Switch report"},analyticEvent:function(e,t){return{name:"jira.project.sidebar.report.select",data:{reportId:e,initialLoad:t}}},_storeLastViewedReportLink:function(o){var a=this;JIRA.API.getSidebar().done(function(e){var t,r,i;e.isProjectSidebar(!0)&&JIRA.Projects.Sidebar.Reports&&(t=a._getReportController().rapidViewData.id,r=JIRA.API.Projects.getCurrentProjectKey()||AJS.Meta.get("project-key"),i=AJS.contextPath()+"/secure/RapidBoard.jspa?",r&&(i+="projectKey="+r+"&"),i+="rapidView="+t+"&view=reporting&chart="+o+"&useStoredSettings=true",JIRA.Projects.Sidebar.Reports.storeLastViewedReportLink(i,e))})},_getReportController:function(){return e=i,o||t(e);var e}}}),AJS.namespace("GH.RapidBoard.ReportSubnavigatorContextProvider",null,require("jira-agile/subnavigator/report-subnavigator-context-provider"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:subnavigator-lwf-board', location = 'jira-agile-module/includes/js/sidebar/subnavigator/SubnavigatorController.js' */
AJS.namespace("GH.RapidBoard.SubnavigatorController"),GH.RapidBoard.SubnavigatorController=function(e,t,r,i,a,n,o){var d={plan:"jira-agile/subnavigator/plan-subnavigator-context-provider",work:"jira-agile/subnavigator/work-subnavigator-context-provider",report:"jira-agile/subnavigator/report-subnavigator-context-provider"},u={contextProviders:{work:e,report:t,plan:function(e){try{return require(e)}catch(e){return}}(d.plan)},render:function(){this._getContextProvider().onLoad(),this.setHeader(),this.renderSubnavigator()},setHeader:function(){var e=GH.RapidBoard.State.isAgilityBoard();AJS.$("#ghx-view-selector").children().remove(),AJS.$(".ghx-sprint-goal").remove(),AJS.$("#ghx-view-selector").html(r.header({headerText:this._getContextProvider().header()})),o.isEnabled()&&(o.render(),e||(o.removeItem(o.Items.REPORTS.id),i.getMode()===n.REPORT&&o.insertItem(o.Items.REPORTS)))},renderSubnavigator:function(){var t=this._getContextProvider();if(t.hasSubnavigator()){this.createSubnavigatorPlaceholders();var r=JIRA.Projects.Subnavigator;return this._getSubnavSettings(r,t).then(function(e){e=new r(e);return e.on("itemSelected",function(e){e.preventDefault(),t.selectionHandler(e.item.id),AJS.trigger("analyticsEvent",t.analyticEvent(e.item.id,!1))}),AJS.$(".ghx-top-header > .gh-skeleton").remove(),e.show(),AJS.trigger("analyticsEvent",t.analyticEvent(t.selectedItem(),!0)),e})}},createSubnavigatorPlaceholders:function(){AJS.$("#ghx-view-selector h1").append(r.subnavigator())},_getContextProvider:function(){var e,t=i.getMode();return e=this.contextProviders[t],t=d[t],e||require(t)},_shouldReturnEmptyList:function(){return a.isReactFiltersEnabled().then(function(e){return e&&i.getMode()===n.WORK})},_getSubnavSettings:function(t,r){return u._shouldReturnEmptyList().then(function(e){e={id:i.getMode(),triggerPlaceholder:e?null:"#subnav-trigger",contentPlaceholder:"#subnav-opts",itemGroups:r.itemList(),selectedItem:r.selectedItem()};return void 0!==t.prototype._shouldShowTriggerView&&(e.titlePlaceholder="#subnav-title",e.hideSelectedItem=!0,e.changeViewText=r.getChangeViewText()),e})}};return u}(GH.RapidBoard.WorkSubnavigatorContextProvider,GH.RapidBoard.ReportSubnavigatorContextProvider,GH.tpl.subnavigator,GH.RapidBoard.State,require("jira-agile/rapid/work/quick-filters-bridge"),(require("jira-agile/features/feature-flags"),require("jira-agile/rapid/const/PageMode")),require("jira/atlaskit/breadcrumbs"));;;try{window.performance.mark('gh-rapid-lwf-board-fhd_batch_file_eval:end');} catch(e){};